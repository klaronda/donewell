(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(o){if(o.ep)return;o.ep=!0;const i=r(o);fetch(o.href,i)}})();function Cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Du={exports:{}},Do={},$u={exports:{}},F={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mn=Symbol.for("react.element"),Tf=Symbol.for("react.portal"),Rf=Symbol.for("react.fragment"),Of=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),Af=Symbol.for("react.provider"),If=Symbol.for("react.context"),Df=Symbol.for("react.forward_ref"),$f=Symbol.for("react.suspense"),Lf=Symbol.for("react.memo"),zf=Symbol.for("react.lazy"),Qa=Symbol.iterator;function Mf(e){return e===null||typeof e!="object"?null:(e=Qa&&e[Qa]||e["@@iterator"],typeof e=="function"?e:null)}var Lu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zu=Object.assign,Mu={};function us(e,t,r){this.props=e,this.context=t,this.refs=Mu,this.updater=r||Lu}us.prototype.isReactComponent={};us.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};us.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Uu(){}Uu.prototype=us.prototype;function Vl(e,t,r){this.props=e,this.context=t,this.refs=Mu,this.updater=r||Lu}var ql=Vl.prototype=new Uu;ql.constructor=Vl;zu(ql,us.prototype);ql.isPureReactComponent=!0;var Ya=Array.isArray,Bu=Object.prototype.hasOwnProperty,Kl={current:null},Wu={key:!0,ref:!0,__self:!0,__source:!0};function Fu(e,t,r){var s,o={},i=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(i=""+t.key),t)Bu.call(t,s)&&!Wu.hasOwnProperty(s)&&(o[s]=t[s]);var c=arguments.length-2;if(c===1)o.children=r;else if(1<c){for(var a=Array(c),u=0;u<c;u++)a[u]=arguments[u+2];o.children=a}if(e&&e.defaultProps)for(s in c=e.defaultProps,c)o[s]===void 0&&(o[s]=c[s]);return{$$typeof:mn,type:e,key:i,ref:l,props:o,_owner:Kl.current}}function Uf(e,t){return{$$typeof:mn,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Gl(e){return typeof e=="object"&&e!==null&&e.$$typeof===mn}function Bf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Xa=/\/+/g;function ei(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Bf(""+e.key):t.toString(36)}function Vn(e,t,r,s,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case mn:case Tf:l=!0}}if(l)return l=e,o=o(l),e=s===""?"."+ei(l,0):s,Ya(o)?(r="",e!=null&&(r=e.replace(Xa,"$&/")+"/"),Vn(o,t,r,"",function(u){return u})):o!=null&&(Gl(o)&&(o=Uf(o,r+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(Xa,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=s===""?".":s+":",Ya(e))for(var c=0;c<e.length;c++){i=e[c];var a=s+ei(i,c);l+=Vn(i,t,r,a,o)}else if(a=Mf(e),typeof a=="function")for(e=a.call(e),c=0;!(i=e.next()).done;)i=i.value,a=s+ei(i,c++),l+=Vn(i,t,r,a,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function bn(e,t,r){if(e==null)return e;var s=[],o=0;return Vn(e,s,"","",function(i){return t.call(r,i,o++)}),s}function Wf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},qn={transition:null},Ff={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:qn,ReactCurrentOwner:Kl};function Hu(){throw Error("act(...) is not supported in production builds of React.")}F.Children={map:bn,forEach:function(e,t,r){bn(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return bn(e,function(){t++}),t},toArray:function(e){return bn(e,function(t){return t})||[]},only:function(e){if(!Gl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};F.Component=us;F.Fragment=Rf;F.Profiler=Pf;F.PureComponent=Vl;F.StrictMode=Of;F.Suspense=$f;F.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ff;F.act=Hu;F.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=zu({},e.props),o=e.key,i=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,l=Kl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(a in t)Bu.call(t,a)&&!Wu.hasOwnProperty(a)&&(s[a]=t[a]===void 0&&c!==void 0?c[a]:t[a])}var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){c=Array(a);for(var u=0;u<a;u++)c[u]=arguments[u+2];s.children=c}return{$$typeof:mn,type:e.type,key:o,ref:i,props:s,_owner:l}};F.createContext=function(e){return e={$$typeof:If,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Af,_context:e},e.Consumer=e};F.createElement=Fu;F.createFactory=function(e){var t=Fu.bind(null,e);return t.type=e,t};F.createRef=function(){return{current:null}};F.forwardRef=function(e){return{$$typeof:Df,render:e}};F.isValidElement=Gl;F.lazy=function(e){return{$$typeof:zf,_payload:{_status:-1,_result:e},_init:Wf}};F.memo=function(e,t){return{$$typeof:Lf,type:e,compare:t===void 0?null:t}};F.startTransition=function(e){var t=qn.transition;qn.transition={};try{e()}finally{qn.transition=t}};F.unstable_act=Hu;F.useCallback=function(e,t){return ke.current.useCallback(e,t)};F.useContext=function(e){return ke.current.useContext(e)};F.useDebugValue=function(){};F.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};F.useEffect=function(e,t){return ke.current.useEffect(e,t)};F.useId=function(){return ke.current.useId()};F.useImperativeHandle=function(e,t,r){return ke.current.useImperativeHandle(e,t,r)};F.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};F.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};F.useMemo=function(e,t){return ke.current.useMemo(e,t)};F.useReducer=function(e,t,r){return ke.current.useReducer(e,t,r)};F.useRef=function(e){return ke.current.useRef(e)};F.useState=function(e){return ke.current.useState(e)};F.useSyncExternalStore=function(e,t,r){return ke.current.useSyncExternalStore(e,t,r)};F.useTransition=function(){return ke.current.useTransition()};F.version="18.3.1";$u.exports=F;var S=$u.exports;const Jl=Cf(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hf=S,Vf=Symbol.for("react.element"),qf=Symbol.for("react.fragment"),Kf=Object.prototype.hasOwnProperty,Gf=Hf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jf={key:!0,ref:!0,__self:!0,__source:!0};function Vu(e,t,r){var s,o={},i=null,l=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)Kf.call(t,s)&&!Jf.hasOwnProperty(s)&&(o[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)o[s]===void 0&&(o[s]=t[s]);return{$$typeof:Vf,type:e,key:i,ref:l,props:o,_owner:Gf.current}}Do.Fragment=qf;Do.jsx=Vu;Do.jsxs=Vu;Du.exports=Do;var n=Du.exports,qu={exports:{}},Be={},Ku={exports:{}},Gu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,L){var M=O.length;O.push(L);e:for(;0<M;){var X=M-1>>>1,ie=O[X];if(0<o(ie,L))O[X]=L,O[M]=ie,M=X;else break e}}function r(O){return O.length===0?null:O[0]}function s(O){if(O.length===0)return null;var L=O[0],M=O.pop();if(M!==L){O[0]=M;e:for(var X=0,ie=O.length,er=ie>>>1;X<er;){var pt=2*(X+1)-1,fs=O[pt],ot=pt+1,_r=O[ot];if(0>o(fs,M))ot<ie&&0>o(_r,fs)?(O[X]=_r,O[ot]=M,X=ot):(O[X]=fs,O[pt]=M,X=pt);else if(ot<ie&&0>o(_r,M))O[X]=_r,O[ot]=M,X=ot;else break e}}return L}function o(O,L){var M=O.sortIndex-L.sortIndex;return M!==0?M:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var a=[],u=[],h=1,d=null,f=3,g=!1,v=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(O){for(var L=r(u);L!==null;){if(L.callback===null)s(u);else if(L.startTime<=O)s(u),L.sortIndex=L.expirationTime,t(a,L);else break;L=r(u)}}function j(O){if(x=!1,y(O),!v)if(r(a)!==null)v=!0,ft(_);else{var L=r(u);L!==null&&Zt(j,L.startTime-O)}}function _(O,L){v=!1,x&&(x=!1,p(k),k=-1),g=!0;var M=f;try{for(y(L),d=r(a);d!==null&&(!(d.expirationTime>L)||O&&!U());){var X=d.callback;if(typeof X=="function"){d.callback=null,f=d.priorityLevel;var ie=X(d.expirationTime<=L);L=e.unstable_now(),typeof ie=="function"?d.callback=ie:d===r(a)&&s(a),y(L)}else s(a);d=r(a)}if(d!==null)var er=!0;else{var pt=r(u);pt!==null&&Zt(j,pt.startTime-L),er=!1}return er}finally{d=null,f=M,g=!1}}var N=!1,b=null,k=-1,E=5,T=-1;function U(){return!(e.unstable_now()-T<E)}function W(){if(b!==null){var O=e.unstable_now();T=O;var L=!0;try{L=b(!0,O)}finally{L?G():(N=!1,b=null)}}else N=!1}var G;if(typeof m=="function")G=function(){m(W)};else if(typeof MessageChannel<"u"){var Ee=new MessageChannel,Ce=Ee.port2;Ee.port1.onmessage=W,G=function(){Ce.postMessage(null)}}else G=function(){w(W,0)};function ft(O){b=O,N||(N=!0,G())}function Zt(O,L){k=w(function(){O(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||g||(v=!0,ft(_))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(O){switch(f){case 1:case 2:case 3:var L=3;break;default:L=f}var M=f;f=L;try{return O()}finally{f=M}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var M=f;f=O;try{return L()}finally{f=M}},e.unstable_scheduleCallback=function(O,L,M){var X=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?X+M:X):M=X,O){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=M+ie,O={id:h++,callback:L,priorityLevel:O,startTime:M,expirationTime:ie,sortIndex:-1},M>X?(O.sortIndex=M,t(u,O),r(a)===null&&O===r(u)&&(x?(p(k),k=-1):x=!0,Zt(j,M-X))):(O.sortIndex=ie,t(a,O),v||g||(v=!0,ft(_))),O},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(O){var L=f;return function(){var M=f;f=L;try{return O.apply(this,arguments)}finally{f=M}}}})(Gu);Ku.exports=Gu;var Qf=Ku.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=S,Ue=Qf;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ju=new Set,Ws={};function wr(e,t){es(e,t),es(e+"Capture",t)}function es(e,t){for(Ws[e]=t,e=0;e<t.length;e++)Ju.add(t[e])}var jt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ui=Object.prototype.hasOwnProperty,Xf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Za={},ec={};function Zf(e){return Ui.call(ec,e)?!0:Ui.call(Za,e)?!1:Xf.test(e)?ec[e]=!0:(Za[e]=!0,!1)}function ep(e,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function tp(e,t,r,s){if(t===null||typeof t>"u"||ep(e,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,r,s,o,i,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=o,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=l}var ve={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ve[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ve[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ve[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ve[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ve[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ve[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ve[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ve[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ve[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ql=/[\-:]([a-z])/g;function Yl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ql,Yl);ve[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ql,Yl);ve[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ql,Yl);ve[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ve[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});ve.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ve[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xl(e,t,r,s){var o=ve.hasOwnProperty(t)?ve[t]:null;(o!==null?o.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(tp(t,r,o,s)&&(r=null),s||o===null?Zf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):o.mustUseProperty?e[o.propertyName]=r===null?o.type===3?!1:"":r:(t=o.attributeName,s=o.attributeNamespace,r===null?e.removeAttribute(t):(o=o.type,r=o===3||o===4&&r===!0?"":""+r,s?e.setAttributeNS(s,t,r):e.setAttribute(t,r))))}var Ct=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jn=Symbol.for("react.element"),Ir=Symbol.for("react.portal"),Dr=Symbol.for("react.fragment"),Zl=Symbol.for("react.strict_mode"),Bi=Symbol.for("react.profiler"),Qu=Symbol.for("react.provider"),Yu=Symbol.for("react.context"),ea=Symbol.for("react.forward_ref"),Wi=Symbol.for("react.suspense"),Fi=Symbol.for("react.suspense_list"),ta=Symbol.for("react.memo"),Ot=Symbol.for("react.lazy"),Xu=Symbol.for("react.offscreen"),tc=Symbol.iterator;function ms(e){return e===null||typeof e!="object"?null:(e=tc&&e[tc]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,ti;function Ns(e){if(ti===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);ti=t&&t[1]||""}return`
`+ti+e}var ri=!1;function si(e,t){if(!e||ri)return"";ri=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=s.stack.split(`
`),l=o.length-1,c=i.length-1;1<=l&&0<=c&&o[l]!==i[c];)c--;for(;1<=l&&0<=c;l--,c--)if(o[l]!==i[c]){if(l!==1||c!==1)do if(l--,c--,0>c||o[l]!==i[c]){var a=`
`+o[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=c);break}}}finally{ri=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?Ns(e):""}function rp(e){switch(e.tag){case 5:return Ns(e.type);case 16:return Ns("Lazy");case 13:return Ns("Suspense");case 19:return Ns("SuspenseList");case 0:case 2:case 15:return e=si(e.type,!1),e;case 11:return e=si(e.type.render,!1),e;case 1:return e=si(e.type,!0),e;default:return""}}function Hi(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Dr:return"Fragment";case Ir:return"Portal";case Bi:return"Profiler";case Zl:return"StrictMode";case Wi:return"Suspense";case Fi:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Yu:return(e.displayName||"Context")+".Consumer";case Qu:return(e._context.displayName||"Context")+".Provider";case ea:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ta:return t=e.displayName||null,t!==null?t:Hi(e.type)||"Memo";case Ot:t=e._payload,e=e._init;try{return Hi(e(t))}catch{}}return null}function sp(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hi(t);case 8:return t===Zl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kt(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Zu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function np(e){var t=Zu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var o=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(l){s=""+l,i.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function _n(e){e._valueTracker||(e._valueTracker=np(e))}function ed(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return e&&(s=Zu(e)?e.checked?"true":"false":e.value),e=s,e!==r?(t.setValue(e),!0):!1}function so(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Vi(e,t){var r=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function rc(e,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Kt(t.value!=null?t.value:r),e._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function td(e,t){t=t.checked,t!=null&&Xl(e,"checked",t,!1)}function qi(e,t){td(e,t);var r=Kt(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ki(e,t.type,r):t.hasOwnProperty("defaultValue")&&Ki(e,t.type,Kt(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function sc(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Ki(e,t,r){(t!=="number"||so(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ks=Array.isArray;function Kr(e,t,r,s){if(e=e.options,t){t={};for(var o=0;o<r.length;o++)t["$"+r[o]]=!0;for(r=0;r<e.length;r++)o=t.hasOwnProperty("$"+e[r].value),e[r].selected!==o&&(e[r].selected=o),o&&s&&(e[r].defaultSelected=!0)}else{for(r=""+Kt(r),t=null,o=0;o<e.length;o++){if(e[o].value===r){e[o].selected=!0,s&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Gi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function nc(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(ks(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Kt(r)}}function rd(e,t){var r=Kt(t.value),s=Kt(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),s!=null&&(e.defaultValue=""+s)}function oc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function sd(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ji(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?sd(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nn,nd=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,s,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Nn=Nn||document.createElement("div"),Nn.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Nn.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Rs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},op=["Webkit","ms","Moz","O"];Object.keys(Rs).forEach(function(e){op.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Rs[t]=Rs[e]})});function od(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Rs.hasOwnProperty(e)&&Rs[e]?(""+t).trim():t+"px"}function id(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,o=od(r,t[r],s);r==="float"&&(r="cssFloat"),s?e.setProperty(r,o):e[r]=o}}var ip=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Qi(e,t){if(t){if(ip[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Yi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=null;function ra(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Zi=null,Gr=null,Jr=null;function ic(e){if(e=vn(e)){if(typeof Zi!="function")throw Error(C(280));var t=e.stateNode;t&&(t=Uo(t),Zi(e.stateNode,e.type,t))}}function ld(e){Gr?Jr?Jr.push(e):Jr=[e]:Gr=e}function ad(){if(Gr){var e=Gr,t=Jr;if(Jr=Gr=null,ic(e),t)for(e=0;e<t.length;e++)ic(t[e])}}function cd(e,t){return e(t)}function ud(){}var ni=!1;function dd(e,t,r){if(ni)return e(t,r);ni=!0;try{return cd(e,t,r)}finally{ni=!1,(Gr!==null||Jr!==null)&&(ud(),ad())}}function Hs(e,t){var r=e.stateNode;if(r===null)return null;var s=Uo(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var el=!1;if(jt)try{var gs={};Object.defineProperty(gs,"passive",{get:function(){el=!0}}),window.addEventListener("test",gs,gs),window.removeEventListener("test",gs,gs)}catch{el=!1}function lp(e,t,r,s,o,i,l,c,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var Os=!1,no=null,oo=!1,tl=null,ap={onError:function(e){Os=!0,no=e}};function cp(e,t,r,s,o,i,l,c,a){Os=!1,no=null,lp.apply(ap,arguments)}function up(e,t,r,s,o,i,l,c,a){if(cp.apply(this,arguments),Os){if(Os){var u=no;Os=!1,no=null}else throw Error(C(198));oo||(oo=!0,tl=u)}}function br(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function hd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function lc(e){if(br(e)!==e)throw Error(C(188))}function dp(e){var t=e.alternate;if(!t){if(t=br(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,s=t;;){var o=r.return;if(o===null)break;var i=o.alternate;if(i===null){if(s=o.return,s!==null){r=s;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===r)return lc(o),e;if(i===s)return lc(o),t;i=i.sibling}throw Error(C(188))}if(r.return!==s.return)r=o,s=i;else{for(var l=!1,c=o.child;c;){if(c===r){l=!0,r=o,s=i;break}if(c===s){l=!0,s=o,r=i;break}c=c.sibling}if(!l){for(c=i.child;c;){if(c===r){l=!0,r=i,s=o;break}if(c===s){l=!0,s=i,r=o;break}c=c.sibling}if(!l)throw Error(C(189))}}if(r.alternate!==s)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function fd(e){return e=dp(e),e!==null?pd(e):null}function pd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=pd(e);if(t!==null)return t;e=e.sibling}return null}var md=Ue.unstable_scheduleCallback,ac=Ue.unstable_cancelCallback,hp=Ue.unstable_shouldYield,fp=Ue.unstable_requestPaint,oe=Ue.unstable_now,pp=Ue.unstable_getCurrentPriorityLevel,sa=Ue.unstable_ImmediatePriority,gd=Ue.unstable_UserBlockingPriority,io=Ue.unstable_NormalPriority,mp=Ue.unstable_LowPriority,xd=Ue.unstable_IdlePriority,$o=null,ut=null;function gp(e){if(ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot($o,e,void 0,(e.current.flags&128)===128)}catch{}}var rt=Math.clz32?Math.clz32:yp,xp=Math.log,vp=Math.LN2;function yp(e){return e>>>=0,e===0?32:31-(xp(e)/vp|0)|0}var kn=64,Sn=4194304;function Ss(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lo(e,t){var r=e.pendingLanes;if(r===0)return 0;var s=0,o=e.suspendedLanes,i=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~o;c!==0?s=Ss(c):(i&=l,i!==0&&(s=Ss(i)))}else l=r&~o,l!==0?s=Ss(l):i!==0&&(s=Ss(i));if(s===0)return 0;if(t!==0&&t!==s&&!(t&o)&&(o=s&-s,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(s&4&&(s|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)r=31-rt(t),o=1<<r,s|=e[r],t&=~o;return s}function wp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bp(e,t){for(var r=e.suspendedLanes,s=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var l=31-rt(i),c=1<<l,a=o[l];a===-1?(!(c&r)||c&s)&&(o[l]=wp(c,t)):a<=t&&(e.expiredLanes|=c),i&=~c}}function rl(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function vd(){var e=kn;return kn<<=1,!(kn&4194240)&&(kn=64),e}function oi(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gn(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-rt(t),e[t]=r}function jp(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<r;){var o=31-rt(r),i=1<<o;t[o]=0,s[o]=-1,e[o]=-1,r&=~i}}function na(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var s=31-rt(r),o=1<<s;o&t|e[s]&t&&(e[s]|=t),r&=~o}}var V=0;function yd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var wd,oa,bd,jd,_d,sl=!1,En=[],Mt=null,Ut=null,Bt=null,Vs=new Map,qs=new Map,It=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cc(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ut=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":Vs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(t.pointerId)}}function xs(e,t,r,s,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:i,targetContainers:[o]},t!==null&&(t=vn(t),t!==null&&oa(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Np(e,t,r,s,o){switch(t){case"focusin":return Mt=xs(Mt,e,t,r,s,o),!0;case"dragenter":return Ut=xs(Ut,e,t,r,s,o),!0;case"mouseover":return Bt=xs(Bt,e,t,r,s,o),!0;case"pointerover":var i=o.pointerId;return Vs.set(i,xs(Vs.get(i)||null,e,t,r,s,o)),!0;case"gotpointercapture":return i=o.pointerId,qs.set(i,xs(qs.get(i)||null,e,t,r,s,o)),!0}return!1}function Nd(e){var t=ar(e.target);if(t!==null){var r=br(t);if(r!==null){if(t=r.tag,t===13){if(t=hd(r),t!==null){e.blockedOn=t,_d(e.priority,function(){bd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Kn(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=nl(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var s=new r.constructor(r.type,r);Xi=s,r.target.dispatchEvent(s),Xi=null}else return t=vn(r),t!==null&&oa(t),e.blockedOn=r,!1;t.shift()}return!0}function uc(e,t,r){Kn(e)&&r.delete(t)}function kp(){sl=!1,Mt!==null&&Kn(Mt)&&(Mt=null),Ut!==null&&Kn(Ut)&&(Ut=null),Bt!==null&&Kn(Bt)&&(Bt=null),Vs.forEach(uc),qs.forEach(uc)}function vs(e,t){e.blockedOn===t&&(e.blockedOn=null,sl||(sl=!0,Ue.unstable_scheduleCallback(Ue.unstable_NormalPriority,kp)))}function Ks(e){function t(o){return vs(o,e)}if(0<En.length){vs(En[0],e);for(var r=1;r<En.length;r++){var s=En[r];s.blockedOn===e&&(s.blockedOn=null)}}for(Mt!==null&&vs(Mt,e),Ut!==null&&vs(Ut,e),Bt!==null&&vs(Bt,e),Vs.forEach(t),qs.forEach(t),r=0;r<It.length;r++)s=It[r],s.blockedOn===e&&(s.blockedOn=null);for(;0<It.length&&(r=It[0],r.blockedOn===null);)Nd(r),r.blockedOn===null&&It.shift()}var Qr=Ct.ReactCurrentBatchConfig,ao=!0;function Sp(e,t,r,s){var o=V,i=Qr.transition;Qr.transition=null;try{V=1,ia(e,t,r,s)}finally{V=o,Qr.transition=i}}function Ep(e,t,r,s){var o=V,i=Qr.transition;Qr.transition=null;try{V=4,ia(e,t,r,s)}finally{V=o,Qr.transition=i}}function ia(e,t,r,s){if(ao){var o=nl(e,t,r,s);if(o===null)mi(e,t,s,co,r),cc(e,s);else if(Np(o,e,t,r,s))s.stopPropagation();else if(cc(e,s),t&4&&-1<_p.indexOf(e)){for(;o!==null;){var i=vn(o);if(i!==null&&wd(i),i=nl(e,t,r,s),i===null&&mi(e,t,s,co,r),i===o)break;o=i}o!==null&&s.stopPropagation()}else mi(e,t,s,null,r)}}var co=null;function nl(e,t,r,s){if(co=null,e=ra(s),e=ar(e),e!==null)if(t=br(e),t===null)e=null;else if(r=t.tag,r===13){if(e=hd(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return co=e,null}function kd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pp()){case sa:return 1;case gd:return 4;case io:case mp:return 16;case xd:return 536870912;default:return 16}default:return 16}}var Lt=null,la=null,Gn=null;function Sd(){if(Gn)return Gn;var e,t=la,r=t.length,s,o="value"in Lt?Lt.value:Lt.textContent,i=o.length;for(e=0;e<r&&t[e]===o[e];e++);var l=r-e;for(s=1;s<=l&&t[r-s]===o[i-s];s++);return Gn=o.slice(e,1<s?1-s:void 0)}function Jn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cn(){return!0}function dc(){return!1}function We(e){function t(r,s,o,i,l){this._reactName=r,this._targetInst=o,this.type=s,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(i):i[c]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cn:dc,this.isPropagationStopped=dc,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cn)},persist:function(){},isPersistent:Cn}),t}var ds={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},aa=We(ds),xn=re({},ds,{view:0,detail:0}),Cp=We(xn),ii,li,ys,Lo=re({},xn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ca,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ys&&(ys&&e.type==="mousemove"?(ii=e.screenX-ys.screenX,li=e.screenY-ys.screenY):li=ii=0,ys=e),ii)},movementY:function(e){return"movementY"in e?e.movementY:li}}),hc=We(Lo),Tp=re({},Lo,{dataTransfer:0}),Rp=We(Tp),Op=re({},xn,{relatedTarget:0}),ai=We(Op),Pp=re({},ds,{animationName:0,elapsedTime:0,pseudoElement:0}),Ap=We(Pp),Ip=re({},ds,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Dp=We(Ip),$p=re({},ds,{data:0}),fc=We($p),Lp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Up(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Mp[e])?!!t[e]:!1}function ca(){return Up}var Bp=re({},xn,{key:function(e){if(e.key){var t=Lp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Jn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?zp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ca,charCode:function(e){return e.type==="keypress"?Jn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Jn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Wp=We(Bp),Fp=re({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),pc=We(Fp),Hp=re({},xn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ca}),Vp=We(Hp),qp=re({},ds,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kp=We(qp),Gp=re({},Lo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Jp=We(Gp),Qp=[9,13,27,32],ua=jt&&"CompositionEvent"in window,Ps=null;jt&&"documentMode"in document&&(Ps=document.documentMode);var Yp=jt&&"TextEvent"in window&&!Ps,Ed=jt&&(!ua||Ps&&8<Ps&&11>=Ps),mc=" ",gc=!1;function Cd(e,t){switch(e){case"keyup":return Qp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Td(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var $r=!1;function Xp(e,t){switch(e){case"compositionend":return Td(t);case"keypress":return t.which!==32?null:(gc=!0,mc);case"textInput":return e=t.data,e===mc&&gc?null:e;default:return null}}function Zp(e,t){if($r)return e==="compositionend"||!ua&&Cd(e,t)?(e=Sd(),Gn=la=Lt=null,$r=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ed&&t.locale!=="ko"?null:t.data;default:return null}}var em={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!em[e.type]:t==="textarea"}function Rd(e,t,r,s){ld(s),t=uo(t,"onChange"),0<t.length&&(r=new aa("onChange","change",null,r,s),e.push({event:r,listeners:t}))}var As=null,Gs=null;function tm(e){Bd(e,0)}function zo(e){var t=Mr(e);if(ed(t))return e}function rm(e,t){if(e==="change")return t}var Od=!1;if(jt){var ci;if(jt){var ui="oninput"in document;if(!ui){var vc=document.createElement("div");vc.setAttribute("oninput","return;"),ui=typeof vc.oninput=="function"}ci=ui}else ci=!1;Od=ci&&(!document.documentMode||9<document.documentMode)}function yc(){As&&(As.detachEvent("onpropertychange",Pd),Gs=As=null)}function Pd(e){if(e.propertyName==="value"&&zo(Gs)){var t=[];Rd(t,Gs,e,ra(e)),dd(tm,t)}}function sm(e,t,r){e==="focusin"?(yc(),As=t,Gs=r,As.attachEvent("onpropertychange",Pd)):e==="focusout"&&yc()}function nm(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return zo(Gs)}function om(e,t){if(e==="click")return zo(t)}function im(e,t){if(e==="input"||e==="change")return zo(t)}function lm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var nt=typeof Object.is=="function"?Object.is:lm;function Js(e,t){if(nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var o=r[s];if(!Ui.call(t,o)||!nt(e[o],t[o]))return!1}return!0}function wc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bc(e,t){var r=wc(e);e=0;for(var s;r;){if(r.nodeType===3){if(s=e+r.textContent.length,e<=t&&s>=t)return{node:r,offset:t-e};e=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=wc(r)}}function Ad(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ad(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Id(){for(var e=window,t=so();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=so(e.document)}return t}function da(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function am(e){var t=Id(),r=e.focusedElem,s=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&Ad(r.ownerDocument.documentElement,r)){if(s!==null&&da(r)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=r.textContent.length,i=Math.min(s.start,o);s=s.end===void 0?i:Math.min(s.end,o),!e.extend&&i>s&&(o=s,s=i,i=o),o=bc(r,i);var l=bc(r,s);o&&l&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var cm=jt&&"documentMode"in document&&11>=document.documentMode,Lr=null,ol=null,Is=null,il=!1;function jc(e,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;il||Lr==null||Lr!==so(s)||(s=Lr,"selectionStart"in s&&da(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Is&&Js(Is,s)||(Is=s,s=uo(ol,"onSelect"),0<s.length&&(t=new aa("onSelect","select",null,t,r),e.push({event:t,listeners:s}),t.target=Lr)))}function Tn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var zr={animationend:Tn("Animation","AnimationEnd"),animationiteration:Tn("Animation","AnimationIteration"),animationstart:Tn("Animation","AnimationStart"),transitionend:Tn("Transition","TransitionEnd")},di={},Dd={};jt&&(Dd=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Mo(e){if(di[e])return di[e];if(!zr[e])return e;var t=zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Dd)return di[e]=t[r];return e}var $d=Mo("animationend"),Ld=Mo("animationiteration"),zd=Mo("animationstart"),Md=Mo("transitionend"),Ud=new Map,_c="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qt(e,t){Ud.set(e,t),wr(t,[e])}for(var hi=0;hi<_c.length;hi++){var fi=_c[hi],um=fi.toLowerCase(),dm=fi[0].toUpperCase()+fi.slice(1);Qt(um,"on"+dm)}Qt($d,"onAnimationEnd");Qt(Ld,"onAnimationIteration");Qt(zd,"onAnimationStart");Qt("dblclick","onDoubleClick");Qt("focusin","onFocus");Qt("focusout","onBlur");Qt(Md,"onTransitionEnd");es("onMouseEnter",["mouseout","mouseover"]);es("onMouseLeave",["mouseout","mouseover"]);es("onPointerEnter",["pointerout","pointerover"]);es("onPointerLeave",["pointerout","pointerover"]);wr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wr("onBeforeInput",["compositionend","keypress","textInput","paste"]);wr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function Nc(e,t,r){var s=e.type||"unknown-event";e.currentTarget=r,up(s,t,void 0,e),e.currentTarget=null}function Bd(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var s=e[r],o=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var l=s.length-1;0<=l;l--){var c=s[l],a=c.instance,u=c.currentTarget;if(c=c.listener,a!==i&&o.isPropagationStopped())break e;Nc(o,c,u),i=a}else for(l=0;l<s.length;l++){if(c=s[l],a=c.instance,u=c.currentTarget,c=c.listener,a!==i&&o.isPropagationStopped())break e;Nc(o,c,u),i=a}}}if(oo)throw e=tl,oo=!1,tl=null,e}function J(e,t){var r=t[dl];r===void 0&&(r=t[dl]=new Set);var s=e+"__bubble";r.has(s)||(Wd(t,e,2,!1),r.add(s))}function pi(e,t,r){var s=0;t&&(s|=4),Wd(r,e,s,t)}var Rn="_reactListening"+Math.random().toString(36).slice(2);function Qs(e){if(!e[Rn]){e[Rn]=!0,Ju.forEach(function(r){r!=="selectionchange"&&(hm.has(r)||pi(r,!1,e),pi(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Rn]||(t[Rn]=!0,pi("selectionchange",!1,t))}}function Wd(e,t,r,s){switch(kd(t)){case 1:var o=Sp;break;case 4:o=Ep;break;default:o=ia}r=o.bind(null,t,r,e),o=void 0,!el||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),s?o!==void 0?e.addEventListener(t,r,{capture:!0,passive:o}):e.addEventListener(t,r,!0):o!==void 0?e.addEventListener(t,r,{passive:o}):e.addEventListener(t,r,!1)}function mi(e,t,r,s,o){var i=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var c=s.stateNode.containerInfo;if(c===o||c.nodeType===8&&c.parentNode===o)break;if(l===4)for(l=s.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===o||a.nodeType===8&&a.parentNode===o))return;l=l.return}for(;c!==null;){if(l=ar(c),l===null)return;if(a=l.tag,a===5||a===6){s=i=l;continue e}c=c.parentNode}}s=s.return}dd(function(){var u=i,h=ra(r),d=[];e:{var f=Ud.get(e);if(f!==void 0){var g=aa,v=e;switch(e){case"keypress":if(Jn(r)===0)break e;case"keydown":case"keyup":g=Wp;break;case"focusin":v="focus",g=ai;break;case"focusout":v="blur",g=ai;break;case"beforeblur":case"afterblur":g=ai;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=hc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=Rp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Vp;break;case $d:case Ld:case zd:g=Ap;break;case Md:g=Kp;break;case"scroll":g=Cp;break;case"wheel":g=Jp;break;case"copy":case"cut":case"paste":g=Dp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=pc}var x=(t&4)!==0,w=!x&&e==="scroll",p=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,y;m!==null;){y=m;var j=y.stateNode;if(y.tag===5&&j!==null&&(y=j,p!==null&&(j=Hs(m,p),j!=null&&x.push(Ys(m,j,y)))),w)break;m=m.return}0<x.length&&(f=new g(f,v,null,r,h),d.push({event:f,listeners:x}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==Xi&&(v=r.relatedTarget||r.fromElement)&&(ar(v)||v[_t]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(v=r.relatedTarget||r.toElement,g=u,v=v?ar(v):null,v!==null&&(w=br(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(g=null,v=u),g!==v)){if(x=hc,j="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(x=pc,j="onPointerLeave",p="onPointerEnter",m="pointer"),w=g==null?f:Mr(g),y=v==null?f:Mr(v),f=new x(j,m+"leave",g,r,h),f.target=w,f.relatedTarget=y,j=null,ar(h)===u&&(x=new x(p,m+"enter",v,r,h),x.target=y,x.relatedTarget=w,j=x),w=j,g&&v)t:{for(x=g,p=v,m=0,y=x;y;y=Nr(y))m++;for(y=0,j=p;j;j=Nr(j))y++;for(;0<m-y;)x=Nr(x),m--;for(;0<y-m;)p=Nr(p),y--;for(;m--;){if(x===p||p!==null&&x===p.alternate)break t;x=Nr(x),p=Nr(p)}x=null}else x=null;g!==null&&kc(d,f,g,x,!1),v!==null&&w!==null&&kc(d,w,v,x,!0)}}e:{if(f=u?Mr(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var _=rm;else if(xc(f))if(Od)_=im;else{_=nm;var N=sm}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=om);if(_&&(_=_(e,u))){Rd(d,_,r,h);break e}N&&N(e,f,u),e==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&Ki(f,"number",f.value)}switch(N=u?Mr(u):window,e){case"focusin":(xc(N)||N.contentEditable==="true")&&(Lr=N,ol=u,Is=null);break;case"focusout":Is=ol=Lr=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,jc(d,r,h);break;case"selectionchange":if(cm)break;case"keydown":case"keyup":jc(d,r,h)}var b;if(ua)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else $r?Cd(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(Ed&&r.locale!=="ko"&&($r||k!=="onCompositionStart"?k==="onCompositionEnd"&&$r&&(b=Sd()):(Lt=h,la="value"in Lt?Lt.value:Lt.textContent,$r=!0)),N=uo(u,k),0<N.length&&(k=new fc(k,e,null,r,h),d.push({event:k,listeners:N}),b?k.data=b:(b=Td(r),b!==null&&(k.data=b)))),(b=Yp?Xp(e,r):Zp(e,r))&&(u=uo(u,"onBeforeInput"),0<u.length&&(h=new fc("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=b))}Bd(d,t)})}function Ys(e,t,r){return{instance:e,listener:t,currentTarget:r}}function uo(e,t){for(var r=t+"Capture",s=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Hs(e,r),i!=null&&s.unshift(Ys(e,i,o)),i=Hs(e,t),i!=null&&s.push(Ys(e,i,o))),e=e.return}return s}function Nr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function kc(e,t,r,s,o){for(var i=t._reactName,l=[];r!==null&&r!==s;){var c=r,a=c.alternate,u=c.stateNode;if(a!==null&&a===s)break;c.tag===5&&u!==null&&(c=u,o?(a=Hs(r,i),a!=null&&l.unshift(Ys(r,a,c))):o||(a=Hs(r,i),a!=null&&l.push(Ys(r,a,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var fm=/\r\n?/g,pm=/\u0000|\uFFFD/g;function Sc(e){return(typeof e=="string"?e:""+e).replace(fm,`
`).replace(pm,"")}function On(e,t,r){if(t=Sc(t),Sc(e)!==t&&r)throw Error(C(425))}function ho(){}var ll=null,al=null;function cl(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ul=typeof setTimeout=="function"?setTimeout:void 0,mm=typeof clearTimeout=="function"?clearTimeout:void 0,Ec=typeof Promise=="function"?Promise:void 0,gm=typeof queueMicrotask=="function"?queueMicrotask:typeof Ec<"u"?function(e){return Ec.resolve(null).then(e).catch(xm)}:ul;function xm(e){setTimeout(function(){throw e})}function gi(e,t){var r=t,s=0;do{var o=r.nextSibling;if(e.removeChild(r),o&&o.nodeType===8)if(r=o.data,r==="/$"){if(s===0){e.removeChild(o),Ks(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=o}while(r);Ks(t)}function Wt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Cc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var hs=Math.random().toString(36).slice(2),at="__reactFiber$"+hs,Xs="__reactProps$"+hs,_t="__reactContainer$"+hs,dl="__reactEvents$"+hs,vm="__reactListeners$"+hs,ym="__reactHandles$"+hs;function ar(e){var t=e[at];if(t)return t;for(var r=e.parentNode;r;){if(t=r[_t]||r[at]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Cc(e);e!==null;){if(r=e[at])return r;e=Cc(e)}return t}e=r,r=e.parentNode}return null}function vn(e){return e=e[at]||e[_t],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function Uo(e){return e[Xs]||null}var hl=[],Ur=-1;function Yt(e){return{current:e}}function Q(e){0>Ur||(e.current=hl[Ur],hl[Ur]=null,Ur--)}function K(e,t){Ur++,hl[Ur]=e.current,e.current=t}var Gt={},je=Yt(Gt),Oe=Yt(!1),mr=Gt;function ts(e,t){var r=e.type.contextTypes;if(!r)return Gt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in r)o[i]=t[i];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Pe(e){return e=e.childContextTypes,e!=null}function fo(){Q(Oe),Q(je)}function Tc(e,t,r){if(je.current!==Gt)throw Error(C(168));K(je,t),K(Oe,r)}function Fd(e,t,r){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var o in s)if(!(o in t))throw Error(C(108,sp(e)||"Unknown",o));return re({},r,s)}function po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gt,mr=je.current,K(je,e),K(Oe,Oe.current),!0}function Rc(e,t,r){var s=e.stateNode;if(!s)throw Error(C(169));r?(e=Fd(e,t,mr),s.__reactInternalMemoizedMergedChildContext=e,Q(Oe),Q(je),K(je,e)):Q(Oe),K(Oe,r)}var xt=null,Bo=!1,xi=!1;function Hd(e){xt===null?xt=[e]:xt.push(e)}function wm(e){Bo=!0,Hd(e)}function Xt(){if(!xi&&xt!==null){xi=!0;var e=0,t=V;try{var r=xt;for(V=1;e<r.length;e++){var s=r[e];do s=s(!0);while(s!==null)}xt=null,Bo=!1}catch(o){throw xt!==null&&(xt=xt.slice(e+1)),md(sa,Xt),o}finally{V=t,xi=!1}}return null}var Br=[],Wr=0,mo=null,go=0,Fe=[],He=0,gr=null,vt=1,yt="";function sr(e,t){Br[Wr++]=go,Br[Wr++]=mo,mo=e,go=t}function Vd(e,t,r){Fe[He++]=vt,Fe[He++]=yt,Fe[He++]=gr,gr=e;var s=vt;e=yt;var o=32-rt(s)-1;s&=~(1<<o),r+=1;var i=32-rt(t)+o;if(30<i){var l=o-o%5;i=(s&(1<<l)-1).toString(32),s>>=l,o-=l,vt=1<<32-rt(t)+o|r<<o|s,yt=i+e}else vt=1<<i|r<<o|s,yt=e}function ha(e){e.return!==null&&(sr(e,1),Vd(e,1,0))}function fa(e){for(;e===mo;)mo=Br[--Wr],Br[Wr]=null,go=Br[--Wr],Br[Wr]=null;for(;e===gr;)gr=Fe[--He],Fe[He]=null,yt=Fe[--He],Fe[He]=null,vt=Fe[--He],Fe[He]=null}var Me=null,ze=null,Y=!1,tt=null;function qd(e,t){var r=Ve(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Oc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Me=e,ze=Wt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Me=e,ze=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=gr!==null?{id:vt,overflow:yt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Ve(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Me=e,ze=null,!0):!1;default:return!1}}function fl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function pl(e){if(Y){var t=ze;if(t){var r=t;if(!Oc(e,t)){if(fl(e))throw Error(C(418));t=Wt(r.nextSibling);var s=Me;t&&Oc(e,t)?qd(s,r):(e.flags=e.flags&-4097|2,Y=!1,Me=e)}}else{if(fl(e))throw Error(C(418));e.flags=e.flags&-4097|2,Y=!1,Me=e}}}function Pc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Me=e}function Pn(e){if(e!==Me)return!1;if(!Y)return Pc(e),Y=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!cl(e.type,e.memoizedProps)),t&&(t=ze)){if(fl(e))throw Kd(),Error(C(418));for(;t;)qd(e,t),t=Wt(t.nextSibling)}if(Pc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ze=Wt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ze=null}}else ze=Me?Wt(e.stateNode.nextSibling):null;return!0}function Kd(){for(var e=ze;e;)e=Wt(e.nextSibling)}function rs(){ze=Me=null,Y=!1}function pa(e){tt===null?tt=[e]:tt.push(e)}var bm=Ct.ReactCurrentBatchConfig;function ws(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var s=r.stateNode}if(!s)throw Error(C(147,e));var o=s,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(l){var c=o.refs;l===null?delete c[i]:c[i]=l},t._stringRef=i,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function An(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ac(e){var t=e._init;return t(e._payload)}function Gd(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function s(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function o(p,m){return p=qt(p,m),p.index=0,p.sibling=null,p}function i(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function l(p){return e&&p.alternate===null&&(p.flags|=2),p}function c(p,m,y,j){return m===null||m.tag!==6?(m=Ni(y,p.mode,j),m.return=p,m):(m=o(m,y),m.return=p,m)}function a(p,m,y,j){var _=y.type;return _===Dr?h(p,m,y.props.children,j,y.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ot&&Ac(_)===m.type)?(j=o(m,y.props),j.ref=ws(p,m,y),j.return=p,j):(j=ro(y.type,y.key,y.props,null,p.mode,j),j.ref=ws(p,m,y),j.return=p,j)}function u(p,m,y,j){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=ki(y,p.mode,j),m.return=p,m):(m=o(m,y.children||[]),m.return=p,m)}function h(p,m,y,j,_){return m===null||m.tag!==7?(m=fr(y,p.mode,j,_),m.return=p,m):(m=o(m,y),m.return=p,m)}function d(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Ni(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case jn:return y=ro(m.type,m.key,m.props,null,p.mode,y),y.ref=ws(p,null,m),y.return=p,y;case Ir:return m=ki(m,p.mode,y),m.return=p,m;case Ot:var j=m._init;return d(p,j(m._payload),y)}if(ks(m)||ms(m))return m=fr(m,p.mode,y,null),m.return=p,m;An(p,m)}return null}function f(p,m,y,j){var _=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return _!==null?null:c(p,m,""+y,j);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case jn:return y.key===_?a(p,m,y,j):null;case Ir:return y.key===_?u(p,m,y,j):null;case Ot:return _=y._init,f(p,m,_(y._payload),j)}if(ks(y)||ms(y))return _!==null?null:h(p,m,y,j,null);An(p,y)}return null}function g(p,m,y,j,_){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(y)||null,c(m,p,""+j,_);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case jn:return p=p.get(j.key===null?y:j.key)||null,a(m,p,j,_);case Ir:return p=p.get(j.key===null?y:j.key)||null,u(m,p,j,_);case Ot:var N=j._init;return g(p,m,y,N(j._payload),_)}if(ks(j)||ms(j))return p=p.get(y)||null,h(m,p,j,_,null);An(m,j)}return null}function v(p,m,y,j){for(var _=null,N=null,b=m,k=m=0,E=null;b!==null&&k<y.length;k++){b.index>k?(E=b,b=null):E=b.sibling;var T=f(p,b,y[k],j);if(T===null){b===null&&(b=E);break}e&&b&&T.alternate===null&&t(p,b),m=i(T,m,k),N===null?_=T:N.sibling=T,N=T,b=E}if(k===y.length)return r(p,b),Y&&sr(p,k),_;if(b===null){for(;k<y.length;k++)b=d(p,y[k],j),b!==null&&(m=i(b,m,k),N===null?_=b:N.sibling=b,N=b);return Y&&sr(p,k),_}for(b=s(p,b);k<y.length;k++)E=g(b,p,k,y[k],j),E!==null&&(e&&E.alternate!==null&&b.delete(E.key===null?k:E.key),m=i(E,m,k),N===null?_=E:N.sibling=E,N=E);return e&&b.forEach(function(U){return t(p,U)}),Y&&sr(p,k),_}function x(p,m,y,j){var _=ms(y);if(typeof _!="function")throw Error(C(150));if(y=_.call(y),y==null)throw Error(C(151));for(var N=_=null,b=m,k=m=0,E=null,T=y.next();b!==null&&!T.done;k++,T=y.next()){b.index>k?(E=b,b=null):E=b.sibling;var U=f(p,b,T.value,j);if(U===null){b===null&&(b=E);break}e&&b&&U.alternate===null&&t(p,b),m=i(U,m,k),N===null?_=U:N.sibling=U,N=U,b=E}if(T.done)return r(p,b),Y&&sr(p,k),_;if(b===null){for(;!T.done;k++,T=y.next())T=d(p,T.value,j),T!==null&&(m=i(T,m,k),N===null?_=T:N.sibling=T,N=T);return Y&&sr(p,k),_}for(b=s(p,b);!T.done;k++,T=y.next())T=g(b,p,k,T.value,j),T!==null&&(e&&T.alternate!==null&&b.delete(T.key===null?k:T.key),m=i(T,m,k),N===null?_=T:N.sibling=T,N=T);return e&&b.forEach(function(W){return t(p,W)}),Y&&sr(p,k),_}function w(p,m,y,j){if(typeof y=="object"&&y!==null&&y.type===Dr&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case jn:e:{for(var _=y.key,N=m;N!==null;){if(N.key===_){if(_=y.type,_===Dr){if(N.tag===7){r(p,N.sibling),m=o(N,y.props.children),m.return=p,p=m;break e}}else if(N.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Ot&&Ac(_)===N.type){r(p,N.sibling),m=o(N,y.props),m.ref=ws(p,N,y),m.return=p,p=m;break e}r(p,N);break}else t(p,N);N=N.sibling}y.type===Dr?(m=fr(y.props.children,p.mode,j,y.key),m.return=p,p=m):(j=ro(y.type,y.key,y.props,null,p.mode,j),j.ref=ws(p,m,y),j.return=p,p=j)}return l(p);case Ir:e:{for(N=y.key;m!==null;){if(m.key===N)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){r(p,m.sibling),m=o(m,y.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=ki(y,p.mode,j),m.return=p,p=m}return l(p);case Ot:return N=y._init,w(p,m,N(y._payload),j)}if(ks(y))return v(p,m,y,j);if(ms(y))return x(p,m,y,j);An(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(r(p,m.sibling),m=o(m,y),m.return=p,p=m):(r(p,m),m=Ni(y,p.mode,j),m.return=p,p=m),l(p)):r(p,m)}return w}var ss=Gd(!0),Jd=Gd(!1),xo=Yt(null),vo=null,Fr=null,ma=null;function ga(){ma=Fr=vo=null}function xa(e){var t=xo.current;Q(xo),e._currentValue=t}function ml(e,t,r){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===r)break;e=e.return}}function Yr(e,t){vo=e,ma=Fr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function Ke(e){var t=e._currentValue;if(ma!==e)if(e={context:e,memoizedValue:t,next:null},Fr===null){if(vo===null)throw Error(C(308));Fr=e,vo.dependencies={lanes:0,firstContext:e}}else Fr=Fr.next=e;return t}var cr=null;function va(e){cr===null?cr=[e]:cr.push(e)}function Qd(e,t,r,s){var o=t.interleaved;return o===null?(r.next=r,va(t)):(r.next=o.next,o.next=r),t.interleaved=r,Nt(e,s)}function Nt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Pt=!1;function ya(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Yd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ft(e,t,r){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,H&2){var o=s.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),s.pending=t,Nt(e,r)}return o=s.interleaved,o===null?(t.next=t,va(s)):(t.next=o.next,o.next=t),s.interleaved=t,Nt(e,r)}function Qn(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,na(e,r)}}function Ic(e,t){var r=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var o=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?o=i=l:i=i.next=l,r=r.next}while(r!==null);i===null?o=i=t:i=i.next=t}else o=i=t;r={baseState:s.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:s.shared,effects:s.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function yo(e,t,r,s){var o=e.updateQueue;Pt=!1;var i=o.firstBaseUpdate,l=o.lastBaseUpdate,c=o.shared.pending;if(c!==null){o.shared.pending=null;var a=c,u=a.next;a.next=null,l===null?i=u:l.next=u,l=a;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==l&&(c===null?h.firstBaseUpdate=u:c.next=u,h.lastBaseUpdate=a))}if(i!==null){var d=o.baseState;l=0,h=u=a=null,c=i;do{var f=c.lane,g=c.eventTime;if((s&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var v=e,x=c;switch(f=t,g=r,x.tag){case 1:if(v=x.payload,typeof v=="function"){d=v.call(g,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(g,d,f):v,f==null)break e;d=re({},d,f);break e;case 2:Pt=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,f=o.effects,f===null?o.effects=[c]:f.push(c))}else g={eventTime:g,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(u=h=g,a=d):h=h.next=g,l|=f;if(c=c.next,c===null){if(c=o.shared.pending,c===null)break;f=c,c=f.next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}while(!0);if(h===null&&(a=d),o.baseState=a,o.firstBaseUpdate=u,o.lastBaseUpdate=h,t=o.shared.interleaved,t!==null){o=t;do l|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);vr|=l,e.lanes=l,e.memoizedState=d}}function Dc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],o=s.callback;if(o!==null){if(s.callback=null,s=r,typeof o!="function")throw Error(C(191,o));o.call(s)}}}var yn={},dt=Yt(yn),Zs=Yt(yn),en=Yt(yn);function ur(e){if(e===yn)throw Error(C(174));return e}function wa(e,t){switch(K(en,t),K(Zs,e),K(dt,yn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ji(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ji(t,e)}Q(dt),K(dt,t)}function ns(){Q(dt),Q(Zs),Q(en)}function Xd(e){ur(en.current);var t=ur(dt.current),r=Ji(t,e.type);t!==r&&(K(Zs,e),K(dt,r))}function ba(e){Zs.current===e&&(Q(dt),Q(Zs))}var ee=Yt(0);function wo(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vi=[];function ja(){for(var e=0;e<vi.length;e++)vi[e]._workInProgressVersionPrimary=null;vi.length=0}var Yn=Ct.ReactCurrentDispatcher,yi=Ct.ReactCurrentBatchConfig,xr=0,te=null,ue=null,he=null,bo=!1,Ds=!1,tn=0,jm=0;function ye(){throw Error(C(321))}function _a(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!nt(e[r],t[r]))return!1;return!0}function Na(e,t,r,s,o,i){if(xr=i,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yn.current=e===null||e.memoizedState===null?Sm:Em,e=r(s,o),Ds){i=0;do{if(Ds=!1,tn=0,25<=i)throw Error(C(301));i+=1,he=ue=null,t.updateQueue=null,Yn.current=Cm,e=r(s,o)}while(Ds)}if(Yn.current=jo,t=ue!==null&&ue.next!==null,xr=0,he=ue=te=null,bo=!1,t)throw Error(C(300));return e}function ka(){var e=tn!==0;return tn=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?te.memoizedState=he=e:he=he.next=e,he}function Ge(){if(ue===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=he===null?te.memoizedState:he.next;if(t!==null)he=t,ue=e;else{if(e===null)throw Error(C(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?te.memoizedState=he=e:he=he.next=e}return he}function rn(e,t){return typeof t=="function"?t(e):t}function wi(e){var t=Ge(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var s=ue,o=s.baseQueue,i=r.pending;if(i!==null){if(o!==null){var l=o.next;o.next=i.next,i.next=l}s.baseQueue=o=i,r.pending=null}if(o!==null){i=o.next,s=s.baseState;var c=l=null,a=null,u=i;do{var h=u.lane;if((xr&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(c=a=d,l=s):a=a.next=d,te.lanes|=h,vr|=h}u=u.next}while(u!==null&&u!==i);a===null?l=s:a.next=c,nt(s,t.memoizedState)||(Re=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=a,r.lastRenderedState=s}if(e=r.interleaved,e!==null){o=e;do i=o.lane,te.lanes|=i,vr|=i,o=o.next;while(o!==e)}else o===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function bi(e){var t=Ge(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var s=r.dispatch,o=r.pending,i=t.memoizedState;if(o!==null){r.pending=null;var l=o=o.next;do i=e(i,l.action),l=l.next;while(l!==o);nt(i,t.memoizedState)||(Re=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,s]}function Zd(){}function eh(e,t){var r=te,s=Ge(),o=t(),i=!nt(s.memoizedState,o);if(i&&(s.memoizedState=o,Re=!0),s=s.queue,Sa(sh.bind(null,r,s,e),[e]),s.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,sn(9,rh.bind(null,r,s,o,t),void 0,null),fe===null)throw Error(C(349));xr&30||th(r,t,o)}return o}function th(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function rh(e,t,r,s){t.value=r,t.getSnapshot=s,nh(t)&&oh(e)}function sh(e,t,r){return r(function(){nh(t)&&oh(e)})}function nh(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!nt(e,r)}catch{return!0}}function oh(e){var t=Nt(e,1);t!==null&&st(t,e,1,-1)}function $c(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:e},t.queue=e,e=e.dispatch=km.bind(null,te,e),[t.memoizedState,e]}function sn(e,t,r,s){return e={tag:e,create:t,destroy:r,deps:s,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(s=r.next,r.next=e,e.next=s,t.lastEffect=e)),e}function ih(){return Ge().memoizedState}function Xn(e,t,r,s){var o=lt();te.flags|=e,o.memoizedState=sn(1|t,r,void 0,s===void 0?null:s)}function Wo(e,t,r,s){var o=Ge();s=s===void 0?null:s;var i=void 0;if(ue!==null){var l=ue.memoizedState;if(i=l.destroy,s!==null&&_a(s,l.deps)){o.memoizedState=sn(t,r,i,s);return}}te.flags|=e,o.memoizedState=sn(1|t,r,i,s)}function Lc(e,t){return Xn(8390656,8,e,t)}function Sa(e,t){return Wo(2048,8,e,t)}function lh(e,t){return Wo(4,2,e,t)}function ah(e,t){return Wo(4,4,e,t)}function ch(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function uh(e,t,r){return r=r!=null?r.concat([e]):null,Wo(4,4,ch.bind(null,t,e),r)}function Ea(){}function dh(e,t){var r=Ge();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&_a(t,s[1])?s[0]:(r.memoizedState=[e,t],e)}function hh(e,t){var r=Ge();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&_a(t,s[1])?s[0]:(e=e(),r.memoizedState=[e,t],e)}function fh(e,t,r){return xr&21?(nt(r,t)||(r=vd(),te.lanes|=r,vr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=r)}function _m(e,t){var r=V;V=r!==0&&4>r?r:4,e(!0);var s=yi.transition;yi.transition={};try{e(!1),t()}finally{V=r,yi.transition=s}}function ph(){return Ge().memoizedState}function Nm(e,t,r){var s=Vt(e);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},mh(e))gh(t,r);else if(r=Qd(e,t,r,s),r!==null){var o=Ne();st(r,e,s,o),xh(r,t,s)}}function km(e,t,r){var s=Vt(e),o={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(mh(e))gh(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var l=t.lastRenderedState,c=i(l,r);if(o.hasEagerState=!0,o.eagerState=c,nt(c,l)){var a=t.interleaved;a===null?(o.next=o,va(t)):(o.next=a.next,a.next=o),t.interleaved=o;return}}catch{}finally{}r=Qd(e,t,o,s),r!==null&&(o=Ne(),st(r,e,s,o),xh(r,t,s))}}function mh(e){var t=e.alternate;return e===te||t!==null&&t===te}function gh(e,t){Ds=bo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function xh(e,t,r){if(r&4194240){var s=t.lanes;s&=e.pendingLanes,r|=s,t.lanes=r,na(e,r)}}var jo={readContext:Ke,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},Sm={readContext:Ke,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:Ke,useEffect:Lc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Xn(4194308,4,ch.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Xn(4194308,4,e,t)},useInsertionEffect:function(e,t){return Xn(4,2,e,t)},useMemo:function(e,t){var r=lt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var s=lt();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=Nm.bind(null,te,e),[s.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:$c,useDebugValue:Ea,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=$c(!1),t=e[0];return e=_m.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var s=te,o=lt();if(Y){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),fe===null)throw Error(C(349));xr&30||th(s,t,r)}o.memoizedState=r;var i={value:r,getSnapshot:t};return o.queue=i,Lc(sh.bind(null,s,i,e),[e]),s.flags|=2048,sn(9,rh.bind(null,s,i,r,t),void 0,null),r},useId:function(){var e=lt(),t=fe.identifierPrefix;if(Y){var r=yt,s=vt;r=(s&~(1<<32-rt(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=tn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=jm++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Em={readContext:Ke,useCallback:dh,useContext:Ke,useEffect:Sa,useImperativeHandle:uh,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:hh,useReducer:wi,useRef:ih,useState:function(){return wi(rn)},useDebugValue:Ea,useDeferredValue:function(e){var t=Ge();return fh(t,ue.memoizedState,e)},useTransition:function(){var e=wi(rn)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1},Cm={readContext:Ke,useCallback:dh,useContext:Ke,useEffect:Sa,useImperativeHandle:uh,useInsertionEffect:lh,useLayoutEffect:ah,useMemo:hh,useReducer:bi,useRef:ih,useState:function(){return bi(rn)},useDebugValue:Ea,useDeferredValue:function(e){var t=Ge();return ue===null?t.memoizedState=e:fh(t,ue.memoizedState,e)},useTransition:function(){var e=bi(rn)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Zd,useSyncExternalStore:eh,useId:ph,unstable_isNewReconciler:!1};function Ye(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function gl(e,t,r,s){t=e.memoizedState,r=r(s,t),r=r==null?t:re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Fo={isMounted:function(e){return(e=e._reactInternals)?br(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var s=Ne(),o=Vt(e),i=wt(s,o);i.payload=t,r!=null&&(i.callback=r),t=Ft(e,i,o),t!==null&&(st(t,e,o,s),Qn(t,e,o))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var s=Ne(),o=Vt(e),i=wt(s,o);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Ft(e,i,o),t!==null&&(st(t,e,o,s),Qn(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Ne(),s=Vt(e),o=wt(r,s);o.tag=2,t!=null&&(o.callback=t),t=Ft(e,o,s),t!==null&&(st(t,e,s,r),Qn(t,e,s))}};function zc(e,t,r,s,o,i,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,l):t.prototype&&t.prototype.isPureReactComponent?!Js(r,s)||!Js(o,i):!0}function vh(e,t,r){var s=!1,o=Gt,i=t.contextType;return typeof i=="object"&&i!==null?i=Ke(i):(o=Pe(t)?mr:je.current,s=t.contextTypes,i=(s=s!=null)?ts(e,o):Gt),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fo,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function Mc(e,t,r,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==e&&Fo.enqueueReplaceState(t,t.state,null)}function xl(e,t,r,s){var o=e.stateNode;o.props=r,o.state=e.memoizedState,o.refs={},ya(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=Ke(i):(i=Pe(t)?mr:je.current,o.context=ts(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(gl(e,t,i,r),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&Fo.enqueueReplaceState(o,o.state,null),yo(e,r,o,s),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function os(e,t){try{var r="",s=t;do r+=rp(s),s=s.return;while(s);var o=r}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function ji(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function vl(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var Tm=typeof WeakMap=="function"?WeakMap:Map;function yh(e,t,r){r=wt(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){No||(No=!0,Cl=s),vl(e,t)},r}function wh(e,t,r){r=wt(-1,r),r.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var o=t.value;r.payload=function(){return s(o)},r.callback=function(){vl(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){vl(e,t),typeof s!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function Uc(e,t,r){var s=e.pingCache;if(s===null){s=e.pingCache=new Tm;var o=new Set;s.set(t,o)}else o=s.get(t),o===void 0&&(o=new Set,s.set(t,o));o.has(r)||(o.add(r),e=Fm.bind(null,e,t,r),t.then(e,e))}function Bc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Wc(e,t,r,s,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=wt(-1,1),t.tag=2,Ft(r,t,1))),r.lanes|=1),e)}var Rm=Ct.ReactCurrentOwner,Re=!1;function _e(e,t,r,s){t.child=e===null?Jd(t,null,r,s):ss(t,e.child,r,s)}function Fc(e,t,r,s,o){r=r.render;var i=t.ref;return Yr(t,o),s=Na(e,t,r,s,i,o),r=ka(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kt(e,t,o)):(Y&&r&&ha(t),t.flags|=1,_e(e,t,s,o),t.child)}function Hc(e,t,r,s,o){if(e===null){var i=r.type;return typeof i=="function"&&!Da(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,bh(e,t,i,s,o)):(e=ro(r.type,null,s,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var l=i.memoizedProps;if(r=r.compare,r=r!==null?r:Js,r(l,s)&&e.ref===t.ref)return kt(e,t,o)}return t.flags|=1,e=qt(i,s),e.ref=t.ref,e.return=t,t.child=e}function bh(e,t,r,s,o){if(e!==null){var i=e.memoizedProps;if(Js(i,s)&&e.ref===t.ref)if(Re=!1,t.pendingProps=s=i,(e.lanes&o)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,kt(e,t,o)}return yl(e,t,r,s,o)}function jh(e,t,r){var s=t.pendingProps,o=s.children,i=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Vr,De),De|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Vr,De),De|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=i!==null?i.baseLanes:r,K(Vr,De),De|=s}else i!==null?(s=i.baseLanes|r,t.memoizedState=null):s=r,K(Vr,De),De|=s;return _e(e,t,o,r),t.child}function _h(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function yl(e,t,r,s,o){var i=Pe(r)?mr:je.current;return i=ts(t,i),Yr(t,o),r=Na(e,t,r,s,i,o),s=ka(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,kt(e,t,o)):(Y&&s&&ha(t),t.flags|=1,_e(e,t,r,o),t.child)}function Vc(e,t,r,s,o){if(Pe(r)){var i=!0;po(t)}else i=!1;if(Yr(t,o),t.stateNode===null)Zn(e,t),vh(t,r,s),xl(t,r,s,o),s=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var a=l.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ke(u):(u=Pe(r)?mr:je.current,u=ts(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==s||a!==u)&&Mc(t,l,s,u),Pt=!1;var f=t.memoizedState;l.state=f,yo(t,s,l,o),a=t.memoizedState,c!==s||f!==a||Oe.current||Pt?(typeof h=="function"&&(gl(t,r,h,s),a=t.memoizedState),(c=Pt||zc(t,r,c,s,f,a,u))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=a),l.props=s,l.state=a,l.context=u,s=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,Yd(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Ye(t.type,c),l.props=u,d=t.pendingProps,f=l.context,a=r.contextType,typeof a=="object"&&a!==null?a=Ke(a):(a=Pe(r)?mr:je.current,a=ts(t,a));var g=r.getDerivedStateFromProps;(h=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==d||f!==a)&&Mc(t,l,s,a),Pt=!1,f=t.memoizedState,l.state=f,yo(t,s,l,o);var v=t.memoizedState;c!==d||f!==v||Oe.current||Pt?(typeof g=="function"&&(gl(t,r,g,s),v=t.memoizedState),(u=Pt||zc(t,r,u,s,f,v,a)||!1)?(h||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,v,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,v,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=v),l.props=s,l.state=v,l.context=a,s=u):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),s=!1)}return wl(e,t,r,s,i,o)}function wl(e,t,r,s,o,i){_h(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return o&&Rc(t,r,!1),kt(e,t,i);s=t.stateNode,Rm.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=ss(t,e.child,null,i),t.child=ss(t,null,c,i)):_e(e,t,c,i),t.memoizedState=s.state,o&&Rc(t,r,!0),t.child}function Nh(e){var t=e.stateNode;t.pendingContext?Tc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Tc(e,t.context,!1),wa(e,t.containerInfo)}function qc(e,t,r,s,o){return rs(),pa(o),t.flags|=256,_e(e,t,r,s),t.child}var bl={dehydrated:null,treeContext:null,retryLane:0};function jl(e){return{baseLanes:e,cachePool:null,transitions:null}}function kh(e,t,r){var s=t.pendingProps,o=ee.current,i=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(o&2)!==0),c?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),K(ee,o&1),e===null)return pl(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,i?(s=t.mode,i=t.child,l={mode:"hidden",children:l},!(s&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=qo(l,s,0,null),e=fr(e,s,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=jl(r),t.memoizedState=bl,e):Ca(t,l));if(o=e.memoizedState,o!==null&&(c=o.dehydrated,c!==null))return Om(e,t,l,s,c,o,r);if(i){i=s.fallback,l=t.mode,o=e.child,c=o.sibling;var a={mode:"hidden",children:s.children};return!(l&1)&&t.child!==o?(s=t.child,s.childLanes=0,s.pendingProps=a,t.deletions=null):(s=qt(o,a),s.subtreeFlags=o.subtreeFlags&14680064),c!==null?i=qt(c,i):(i=fr(i,l,r,null),i.flags|=2),i.return=t,s.return=t,s.sibling=i,t.child=s,s=i,i=t.child,l=e.child.memoizedState,l=l===null?jl(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=bl,s}return i=e.child,e=i.sibling,s=qt(i,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=s,t.memoizedState=null,s}function Ca(e,t){return t=qo({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function In(e,t,r,s){return s!==null&&pa(s),ss(t,e.child,null,r),e=Ca(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Om(e,t,r,s,o,i,l){if(r)return t.flags&256?(t.flags&=-257,s=ji(Error(C(422))),In(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=s.fallback,o=t.mode,s=qo({mode:"visible",children:s.children},o,0,null),i=fr(i,o,l,null),i.flags|=2,s.return=t,i.return=t,s.sibling=i,t.child=s,t.mode&1&&ss(t,e.child,null,l),t.child.memoizedState=jl(l),t.memoizedState=bl,i);if(!(t.mode&1))return In(e,t,l,null);if(o.data==="$!"){if(s=o.nextSibling&&o.nextSibling.dataset,s)var c=s.dgst;return s=c,i=Error(C(419)),s=ji(i,s,void 0),In(e,t,l,s)}if(c=(l&e.childLanes)!==0,Re||c){if(s=fe,s!==null){switch(l&-l){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(s.suspendedLanes|l)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Nt(e,o),st(s,e,o,-1))}return Ia(),s=ji(Error(C(421))),In(e,t,l,s)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Hm.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,ze=Wt(o.nextSibling),Me=t,Y=!0,tt=null,e!==null&&(Fe[He++]=vt,Fe[He++]=yt,Fe[He++]=gr,vt=e.id,yt=e.overflow,gr=t),t=Ca(t,s.children),t.flags|=4096,t)}function Kc(e,t,r){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),ml(e.return,t,r)}function _i(e,t,r,s,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=s,i.tail=r,i.tailMode=o)}function Sh(e,t,r){var s=t.pendingProps,o=s.revealOrder,i=s.tail;if(_e(e,t,s.children,r),s=ee.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kc(e,r,t);else if(e.tag===19)Kc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(K(ee,s),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(r=t.child,o=null;r!==null;)e=r.alternate,e!==null&&wo(e)===null&&(o=r),r=r.sibling;r=o,r===null?(o=t.child,t.child=null):(o=r.sibling,r.sibling=null),_i(t,!1,o,r,i);break;case"backwards":for(r=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&wo(e)===null){t.child=o;break}e=o.sibling,o.sibling=r,r=o,o=e}_i(t,!0,r,null,i);break;case"together":_i(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Zn(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function kt(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),vr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=qt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=qt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function Pm(e,t,r){switch(t.tag){case 3:Nh(t),rs();break;case 5:Xd(t);break;case 1:Pe(t.type)&&po(t);break;case 4:wa(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,o=t.memoizedProps.value;K(xo,s._currentValue),s._currentValue=o;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(K(ee,ee.current&1),t.flags|=128,null):r&t.child.childLanes?kh(e,t,r):(K(ee,ee.current&1),e=kt(e,t,r),e!==null?e.sibling:null);K(ee,ee.current&1);break;case 19:if(s=(r&t.childLanes)!==0,e.flags&128){if(s)return Sh(e,t,r);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),K(ee,ee.current),s)break;return null;case 22:case 23:return t.lanes=0,jh(e,t,r)}return kt(e,t,r)}var Eh,_l,Ch,Th;Eh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_l=function(){};Ch=function(e,t,r,s){var o=e.memoizedProps;if(o!==s){e=t.stateNode,ur(dt.current);var i=null;switch(r){case"input":o=Vi(e,o),s=Vi(e,s),i=[];break;case"select":o=re({},o,{value:void 0}),s=re({},s,{value:void 0}),i=[];break;case"textarea":o=Gi(e,o),s=Gi(e,s),i=[];break;default:typeof o.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=ho)}Qi(r,s);var l;r=null;for(u in o)if(!s.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var c=o[u];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ws.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in s){var a=s[u];if(c=o!=null?o[u]:void 0,s.hasOwnProperty(u)&&a!==c&&(a!=null||c!=null))if(u==="style")if(c){for(l in c)!c.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in a)a.hasOwnProperty(l)&&c[l]!==a[l]&&(r||(r={}),r[l]=a[l])}else r||(i||(i=[]),i.push(u,r)),r=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(i=i||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ws.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&J("scroll",e),i||c===a||(i=[])):(i=i||[]).push(u,a))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};Th=function(e,t,r,s){r!==s&&(t.flags|=4)};function bs(e,t){if(!Y)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,s=0;if(t)for(var o=e.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags&14680064,s|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)r|=o.lanes|o.childLanes,s|=o.subtreeFlags,s|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=s,e.childLanes=r,t}function Am(e,t,r){var s=t.pendingProps;switch(fa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Pe(t.type)&&fo(),we(t),null;case 3:return s=t.stateNode,ns(),Q(Oe),Q(je),ja(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Pn(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,tt!==null&&(Ol(tt),tt=null))),_l(e,t),we(t),null;case 5:ba(t);var o=ur(en.current);if(r=t.type,e!==null&&t.stateNode!=null)Ch(e,t,r,s,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(C(166));return we(t),null}if(e=ur(dt.current),Pn(t)){s=t.stateNode,r=t.type;var i=t.memoizedProps;switch(s[at]=t,s[Xs]=i,e=(t.mode&1)!==0,r){case"dialog":J("cancel",s),J("close",s);break;case"iframe":case"object":case"embed":J("load",s);break;case"video":case"audio":for(o=0;o<Es.length;o++)J(Es[o],s);break;case"source":J("error",s);break;case"img":case"image":case"link":J("error",s),J("load",s);break;case"details":J("toggle",s);break;case"input":rc(s,i),J("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!i.multiple},J("invalid",s);break;case"textarea":nc(s,i),J("invalid",s)}Qi(r,i),o=null;for(var l in i)if(i.hasOwnProperty(l)){var c=i[l];l==="children"?typeof c=="string"?s.textContent!==c&&(i.suppressHydrationWarning!==!0&&On(s.textContent,c,e),o=["children",c]):typeof c=="number"&&s.textContent!==""+c&&(i.suppressHydrationWarning!==!0&&On(s.textContent,c,e),o=["children",""+c]):Ws.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&J("scroll",s)}switch(r){case"input":_n(s),sc(s,i,!0);break;case"textarea":_n(s),oc(s);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(s.onclick=ho)}s=o,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=sd(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(r,{is:s.is}):(e=l.createElement(r),r==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,r),e[at]=t,e[Xs]=s,Eh(e,t,!1,!1),t.stateNode=e;e:{switch(l=Yi(r,s),r){case"dialog":J("cancel",e),J("close",e),o=s;break;case"iframe":case"object":case"embed":J("load",e),o=s;break;case"video":case"audio":for(o=0;o<Es.length;o++)J(Es[o],e);o=s;break;case"source":J("error",e),o=s;break;case"img":case"image":case"link":J("error",e),J("load",e),o=s;break;case"details":J("toggle",e),o=s;break;case"input":rc(e,s),o=Vi(e,s),J("invalid",e);break;case"option":o=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},o=re({},s,{value:void 0}),J("invalid",e);break;case"textarea":nc(e,s),o=Gi(e,s),J("invalid",e);break;default:o=s}Qi(r,o),c=o;for(i in c)if(c.hasOwnProperty(i)){var a=c[i];i==="style"?id(e,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&nd(e,a)):i==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Fs(e,a):typeof a=="number"&&Fs(e,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ws.hasOwnProperty(i)?a!=null&&i==="onScroll"&&J("scroll",e):a!=null&&Xl(e,i,a,l))}switch(r){case"input":_n(e),sc(e,s,!1);break;case"textarea":_n(e),oc(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Kt(s.value));break;case"select":e.multiple=!!s.multiple,i=s.value,i!=null?Kr(e,!!s.multiple,i,!1):s.defaultValue!=null&&Kr(e,!!s.multiple,s.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=ho)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)Th(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(C(166));if(r=ur(en.current),ur(dt.current),Pn(t)){if(s=t.stateNode,r=t.memoizedProps,s[at]=t,(i=s.nodeValue!==r)&&(e=Me,e!==null))switch(e.tag){case 3:On(s.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&On(s.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[at]=t,t.stateNode=s}return we(t),null;case 13:if(Q(ee),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Y&&ze!==null&&t.mode&1&&!(t.flags&128))Kd(),rs(),t.flags|=98560,i=!1;else if(i=Pn(t),s!==null&&s.dehydrated!==null){if(e===null){if(!i)throw Error(C(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));i[at]=t}else rs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),i=!1}else tt!==null&&(Ol(tt),tt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?de===0&&(de=3):Ia())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return ns(),_l(e,t),e===null&&Qs(t.stateNode.containerInfo),we(t),null;case 10:return xa(t.type._context),we(t),null;case 17:return Pe(t.type)&&fo(),we(t),null;case 19:if(Q(ee),i=t.memoizedState,i===null)return we(t),null;if(s=(t.flags&128)!==0,l=i.rendering,l===null)if(s)bs(i,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=wo(e),l!==null){for(t.flags|=128,bs(i,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)i=r,e=s,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return K(ee,ee.current&1|2),t.child}e=e.sibling}i.tail!==null&&oe()>is&&(t.flags|=128,s=!0,bs(i,!1),t.lanes=4194304)}else{if(!s)if(e=wo(l),e!==null){if(t.flags|=128,s=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),bs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Y)return we(t),null}else 2*oe()-i.renderingStartTime>is&&r!==1073741824&&(t.flags|=128,s=!0,bs(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(r=i.last,r!==null?r.sibling=l:t.child=l,i.last=l)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=oe(),t.sibling=null,r=ee.current,K(ee,s?r&1|2:r&1),t):(we(t),null);case 22:case 23:return Aa(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?De&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function Im(e,t){switch(fa(t),t.tag){case 1:return Pe(t.type)&&fo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ns(),Q(Oe),Q(je),ja(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ba(t),null;case 13:if(Q(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));rs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(ee),null;case 4:return ns(),null;case 10:return xa(t.type._context),null;case 22:case 23:return Aa(),null;case 24:return null;default:return null}}var Dn=!1,be=!1,Dm=typeof WeakSet=="function"?WeakSet:Set,P=null;function Hr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){ne(e,t,s)}else r.current=null}function Nl(e,t,r){try{r()}catch(s){ne(e,t,s)}}var Gc=!1;function $m(e,t){if(ll=ao,e=Id(),da(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var o=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var l=0,c=-1,a=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var g;d!==r||o!==0&&d.nodeType!==3||(c=l+o),d!==i||s!==0&&d.nodeType!==3||(a=l+s),d.nodeType===3&&(l+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===r&&++u===o&&(c=l),f===i&&++h===s&&(a=l),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=c===-1||a===-1?null:{start:c,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(al={focusedElem:e,selectionRange:r},ao=!1,P=t;P!==null;)if(t=P,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,P=e;else for(;P!==null;){t=P;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,w=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?x:Ye(t.type,x),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(j){ne(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,P=e;break}P=t.return}return v=Gc,Gc=!1,v}function $s(e,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var o=s=s.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Nl(t,r,i)}o=o.next}while(o!==s)}}function Ho(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function kl(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Rh(e){var t=e.alternate;t!==null&&(e.alternate=null,Rh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Xs],delete t[dl],delete t[vm],delete t[ym])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Oh(e){return e.tag===5||e.tag===3||e.tag===4}function Jc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Oh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Sl(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=ho));else if(s!==4&&(e=e.child,e!==null))for(Sl(e,t,r),e=e.sibling;e!==null;)Sl(e,t,r),e=e.sibling}function El(e,t,r){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(El(e,t,r),e=e.sibling;e!==null;)El(e,t,r),e=e.sibling}var ge=null,Ze=!1;function Rt(e,t,r){for(r=r.child;r!==null;)Ph(e,t,r),r=r.sibling}function Ph(e,t,r){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount($o,r)}catch{}switch(r.tag){case 5:be||Hr(r,t);case 6:var s=ge,o=Ze;ge=null,Rt(e,t,r),ge=s,Ze=o,ge!==null&&(Ze?(e=ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ge.removeChild(r.stateNode));break;case 18:ge!==null&&(Ze?(e=ge,r=r.stateNode,e.nodeType===8?gi(e.parentNode,r):e.nodeType===1&&gi(e,r),Ks(e)):gi(ge,r.stateNode));break;case 4:s=ge,o=Ze,ge=r.stateNode.containerInfo,Ze=!0,Rt(e,t,r),ge=s,Ze=o;break;case 0:case 11:case 14:case 15:if(!be&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){o=s=s.next;do{var i=o,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Nl(r,t,l),o=o.next}while(o!==s)}Rt(e,t,r);break;case 1:if(!be&&(Hr(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(c){ne(r,t,c)}Rt(e,t,r);break;case 21:Rt(e,t,r);break;case 22:r.mode&1?(be=(s=be)||r.memoizedState!==null,Rt(e,t,r),be=s):Rt(e,t,r);break;default:Rt(e,t,r)}}function Qc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Dm),t.forEach(function(s){var o=Vm.bind(null,e,s);r.has(s)||(r.add(s),s.then(o,o))})}}function Je(e,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var o=r[s];try{var i=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:ge=c.stateNode,Ze=!1;break e;case 3:ge=c.stateNode.containerInfo,Ze=!0;break e;case 4:ge=c.stateNode.containerInfo,Ze=!0;break e}c=c.return}if(ge===null)throw Error(C(160));Ph(i,l,o),ge=null,Ze=!1;var a=o.alternate;a!==null&&(a.return=null),o.return=null}catch(u){ne(o,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ah(t,e),t=t.sibling}function Ah(e,t){var r=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Je(t,e),it(e),s&4){try{$s(3,e,e.return),Ho(3,e)}catch(x){ne(e,e.return,x)}try{$s(5,e,e.return)}catch(x){ne(e,e.return,x)}}break;case 1:Je(t,e),it(e),s&512&&r!==null&&Hr(r,r.return);break;case 5:if(Je(t,e),it(e),s&512&&r!==null&&Hr(r,r.return),e.flags&32){var o=e.stateNode;try{Fs(o,"")}catch(x){ne(e,e.return,x)}}if(s&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,l=r!==null?r.memoizedProps:i,c=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{c==="input"&&i.type==="radio"&&i.name!=null&&td(o,i),Yi(c,l);var u=Yi(c,i);for(l=0;l<a.length;l+=2){var h=a[l],d=a[l+1];h==="style"?id(o,d):h==="dangerouslySetInnerHTML"?nd(o,d):h==="children"?Fs(o,d):Xl(o,h,d,u)}switch(c){case"input":qi(o,i);break;case"textarea":rd(o,i);break;case"select":var f=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Kr(o,!!i.multiple,g,!1):f!==!!i.multiple&&(i.defaultValue!=null?Kr(o,!!i.multiple,i.defaultValue,!0):Kr(o,!!i.multiple,i.multiple?[]:"",!1))}o[Xs]=i}catch(x){ne(e,e.return,x)}}break;case 6:if(Je(t,e),it(e),s&4){if(e.stateNode===null)throw Error(C(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(x){ne(e,e.return,x)}}break;case 3:if(Je(t,e),it(e),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Ks(t.containerInfo)}catch(x){ne(e,e.return,x)}break;case 4:Je(t,e),it(e);break;case 13:Je(t,e),it(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Oa=oe())),s&4&&Qc(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(be=(u=be)||h,Je(t,e),be=u):Je(t,e),it(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(P=e,h=e.child;h!==null;){for(d=P=h;P!==null;){switch(f=P,g=f.child,f.tag){case 0:case 11:case 14:case 15:$s(4,f,f.return);break;case 1:Hr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){s=f,r=f.return;try{t=s,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(x){ne(s,r,x)}}break;case 5:Hr(f,f.return);break;case 22:if(f.memoizedState!==null){Xc(d);continue}}g!==null?(g.return=f,P=g):Xc(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(c=d.stateNode,a=d.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=od("display",l))}catch(x){ne(e,e.return,x)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(x){ne(e,e.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Je(t,e),it(e),s&4&&Qc(e);break;case 21:break;default:Je(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Oh(r)){var s=r;break e}r=r.return}throw Error(C(160))}switch(s.tag){case 5:var o=s.stateNode;s.flags&32&&(Fs(o,""),s.flags&=-33);var i=Jc(e);El(e,i,o);break;case 3:case 4:var l=s.stateNode.containerInfo,c=Jc(e);Sl(e,c,l);break;default:throw Error(C(161))}}catch(a){ne(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Lm(e,t,r){P=e,Ih(e)}function Ih(e,t,r){for(var s=(e.mode&1)!==0;P!==null;){var o=P,i=o.child;if(o.tag===22&&s){var l=o.memoizedState!==null||Dn;if(!l){var c=o.alternate,a=c!==null&&c.memoizedState!==null||be;c=Dn;var u=be;if(Dn=l,(be=a)&&!u)for(P=o;P!==null;)l=P,a=l.child,l.tag===22&&l.memoizedState!==null?Zc(o):a!==null?(a.return=l,P=a):Zc(o);for(;i!==null;)P=i,Ih(i),i=i.sibling;P=o,Dn=c,be=u}Yc(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,P=i):Yc(e)}}function Yc(e){for(;P!==null;){var t=P;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Ho(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!be)if(r===null)s.componentDidMount();else{var o=t.elementType===t.type?r.memoizedProps:Ye(t.type,r.memoizedProps);s.componentDidUpdate(o,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&Dc(t,i,s);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Dc(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Ks(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}be||t.flags&512&&kl(t)}catch(f){ne(t,t.return,f)}}if(t===e){P=null;break}if(r=t.sibling,r!==null){r.return=t.return,P=r;break}P=t.return}}function Xc(e){for(;P!==null;){var t=P;if(t===e){P=null;break}var r=t.sibling;if(r!==null){r.return=t.return,P=r;break}P=t.return}}function Zc(e){for(;P!==null;){var t=P;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ho(4,t)}catch(a){ne(t,r,a)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var o=t.return;try{s.componentDidMount()}catch(a){ne(t,o,a)}}var i=t.return;try{kl(t)}catch(a){ne(t,i,a)}break;case 5:var l=t.return;try{kl(t)}catch(a){ne(t,l,a)}}}catch(a){ne(t,t.return,a)}if(t===e){P=null;break}var c=t.sibling;if(c!==null){c.return=t.return,P=c;break}P=t.return}}var zm=Math.ceil,_o=Ct.ReactCurrentDispatcher,Ta=Ct.ReactCurrentOwner,qe=Ct.ReactCurrentBatchConfig,H=0,fe=null,ae=null,xe=0,De=0,Vr=Yt(0),de=0,nn=null,vr=0,Vo=0,Ra=0,Ls=null,Te=null,Oa=0,is=1/0,mt=null,No=!1,Cl=null,Ht=null,$n=!1,zt=null,ko=0,zs=0,Tl=null,eo=-1,to=0;function Ne(){return H&6?oe():eo!==-1?eo:eo=oe()}function Vt(e){return e.mode&1?H&2&&xe!==0?xe&-xe:bm.transition!==null?(to===0&&(to=vd()),to):(e=V,e!==0||(e=window.event,e=e===void 0?16:kd(e.type)),e):1}function st(e,t,r,s){if(50<zs)throw zs=0,Tl=null,Error(C(185));gn(e,r,s),(!(H&2)||e!==fe)&&(e===fe&&(!(H&2)&&(Vo|=r),de===4&&Dt(e,xe)),Ae(e,s),r===1&&H===0&&!(t.mode&1)&&(is=oe()+500,Bo&&Xt()))}function Ae(e,t){var r=e.callbackNode;bp(e,t);var s=lo(e,e===fe?xe:0);if(s===0)r!==null&&ac(r),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(r!=null&&ac(r),t===1)e.tag===0?wm(eu.bind(null,e)):Hd(eu.bind(null,e)),gm(function(){!(H&6)&&Xt()}),r=null;else{switch(yd(s)){case 1:r=sa;break;case 4:r=gd;break;case 16:r=io;break;case 536870912:r=xd;break;default:r=io}r=Wh(r,Dh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Dh(e,t){if(eo=-1,to=0,H&6)throw Error(C(327));var r=e.callbackNode;if(Xr()&&e.callbackNode!==r)return null;var s=lo(e,e===fe?xe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=So(e,s);else{t=s;var o=H;H|=2;var i=Lh();(fe!==e||xe!==t)&&(mt=null,is=oe()+500,hr(e,t));do try{Bm();break}catch(c){$h(e,c)}while(!0);ga(),_o.current=i,H=o,ae!==null?t=0:(fe=null,xe=0,t=de)}if(t!==0){if(t===2&&(o=rl(e),o!==0&&(s=o,t=Rl(e,o))),t===1)throw r=nn,hr(e,0),Dt(e,s),Ae(e,oe()),r;if(t===6)Dt(e,s);else{if(o=e.current.alternate,!(s&30)&&!Mm(o)&&(t=So(e,s),t===2&&(i=rl(e),i!==0&&(s=i,t=Rl(e,i))),t===1))throw r=nn,hr(e,0),Dt(e,s),Ae(e,oe()),r;switch(e.finishedWork=o,e.finishedLanes=s,t){case 0:case 1:throw Error(C(345));case 2:nr(e,Te,mt);break;case 3:if(Dt(e,s),(s&130023424)===s&&(t=Oa+500-oe(),10<t)){if(lo(e,0)!==0)break;if(o=e.suspendedLanes,(o&s)!==s){Ne(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ul(nr.bind(null,e,Te,mt),t);break}nr(e,Te,mt);break;case 4:if(Dt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,o=-1;0<s;){var l=31-rt(s);i=1<<l,l=t[l],l>o&&(o=l),s&=~i}if(s=o,s=oe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*zm(s/1960))-s,10<s){e.timeoutHandle=ul(nr.bind(null,e,Te,mt),s);break}nr(e,Te,mt);break;case 5:nr(e,Te,mt);break;default:throw Error(C(329))}}}return Ae(e,oe()),e.callbackNode===r?Dh.bind(null,e):null}function Rl(e,t){var r=Ls;return e.current.memoizedState.isDehydrated&&(hr(e,t).flags|=256),e=So(e,t),e!==2&&(t=Te,Te=r,t!==null&&Ol(t)),e}function Ol(e){Te===null?Te=e:Te.push.apply(Te,e)}function Mm(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var o=r[s],i=o.getSnapshot;o=o.value;try{if(!nt(i(),o))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Dt(e,t){for(t&=~Ra,t&=~Vo,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-rt(t),s=1<<r;e[r]=-1,t&=~s}}function eu(e){if(H&6)throw Error(C(327));Xr();var t=lo(e,0);if(!(t&1))return Ae(e,oe()),null;var r=So(e,t);if(e.tag!==0&&r===2){var s=rl(e);s!==0&&(t=s,r=Rl(e,s))}if(r===1)throw r=nn,hr(e,0),Dt(e,t),Ae(e,oe()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,nr(e,Te,mt),Ae(e,oe()),null}function Pa(e,t){var r=H;H|=1;try{return e(t)}finally{H=r,H===0&&(is=oe()+500,Bo&&Xt())}}function yr(e){zt!==null&&zt.tag===0&&!(H&6)&&Xr();var t=H;H|=1;var r=qe.transition,s=V;try{if(qe.transition=null,V=1,e)return e()}finally{V=s,qe.transition=r,H=t,!(H&6)&&Xt()}}function Aa(){De=Vr.current,Q(Vr)}function hr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,mm(r)),ae!==null)for(r=ae.return;r!==null;){var s=r;switch(fa(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&fo();break;case 3:ns(),Q(Oe),Q(je),ja();break;case 5:ba(s);break;case 4:ns();break;case 13:Q(ee);break;case 19:Q(ee);break;case 10:xa(s.type._context);break;case 22:case 23:Aa()}r=r.return}if(fe=e,ae=e=qt(e.current,null),xe=De=t,de=0,nn=null,Ra=Vo=vr=0,Te=Ls=null,cr!==null){for(t=0;t<cr.length;t++)if(r=cr[t],s=r.interleaved,s!==null){r.interleaved=null;var o=s.next,i=r.pending;if(i!==null){var l=i.next;i.next=o,s.next=l}r.pending=s}cr=null}return e}function $h(e,t){do{var r=ae;try{if(ga(),Yn.current=jo,bo){for(var s=te.memoizedState;s!==null;){var o=s.queue;o!==null&&(o.pending=null),s=s.next}bo=!1}if(xr=0,he=ue=te=null,Ds=!1,tn=0,Ta.current=null,r===null||r.return===null){de=1,nn=t,ae=null;break}e:{var i=e,l=r.return,c=r,a=t;if(t=xe,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=c,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Bc(l);if(g!==null){g.flags&=-257,Wc(g,l,c,i,t),g.mode&1&&Uc(i,u,t),t=g,a=u;var v=t.updateQueue;if(v===null){var x=new Set;x.add(a),t.updateQueue=x}else v.add(a);break e}else{if(!(t&1)){Uc(i,u,t),Ia();break e}a=Error(C(426))}}else if(Y&&c.mode&1){var w=Bc(l);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Wc(w,l,c,i,t),pa(os(a,c));break e}}i=a=os(a,c),de!==4&&(de=2),Ls===null?Ls=[i]:Ls.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=yh(i,a,t);Ic(i,p);break e;case 1:c=a;var m=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ht===null||!Ht.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t;var j=wh(i,c,t);Ic(i,j);break e}}i=i.return}while(i!==null)}Mh(r)}catch(_){t=_,ae===r&&r!==null&&(ae=r=r.return);continue}break}while(!0)}function Lh(){var e=_o.current;return _o.current=jo,e===null?jo:e}function Ia(){(de===0||de===3||de===2)&&(de=4),fe===null||!(vr&268435455)&&!(Vo&268435455)||Dt(fe,xe)}function So(e,t){var r=H;H|=2;var s=Lh();(fe!==e||xe!==t)&&(mt=null,hr(e,t));do try{Um();break}catch(o){$h(e,o)}while(!0);if(ga(),H=r,_o.current=s,ae!==null)throw Error(C(261));return fe=null,xe=0,de}function Um(){for(;ae!==null;)zh(ae)}function Bm(){for(;ae!==null&&!hp();)zh(ae)}function zh(e){var t=Bh(e.alternate,e,De);e.memoizedProps=e.pendingProps,t===null?Mh(e):ae=t,Ta.current=null}function Mh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=Im(r,t),r!==null){r.flags&=32767,ae=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,ae=null;return}}else if(r=Am(r,t,De),r!==null){ae=r;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);de===0&&(de=5)}function nr(e,t,r){var s=V,o=qe.transition;try{qe.transition=null,V=1,Wm(e,t,r,s)}finally{qe.transition=o,V=s}return null}function Wm(e,t,r,s){do Xr();while(zt!==null);if(H&6)throw Error(C(327));r=e.finishedWork;var o=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(jp(e,i),e===fe&&(ae=fe=null,xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||$n||($n=!0,Wh(io,function(){return Xr(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qe.transition,qe.transition=null;var l=V;V=1;var c=H;H|=4,Ta.current=null,$m(e,r),Ah(r,e),am(al),ao=!!ll,al=ll=null,e.current=r,Lm(r),fp(),H=c,V=l,qe.transition=i}else e.current=r;if($n&&($n=!1,zt=e,ko=o),i=e.pendingLanes,i===0&&(Ht=null),gp(r.stateNode),Ae(e,oe()),t!==null)for(s=e.onRecoverableError,r=0;r<t.length;r++)o=t[r],s(o.value,{componentStack:o.stack,digest:o.digest});if(No)throw No=!1,e=Cl,Cl=null,e;return ko&1&&e.tag!==0&&Xr(),i=e.pendingLanes,i&1?e===Tl?zs++:(zs=0,Tl=e):zs=0,Xt(),null}function Xr(){if(zt!==null){var e=yd(ko),t=qe.transition,r=V;try{if(qe.transition=null,V=16>e?16:e,zt===null)var s=!1;else{if(e=zt,zt=null,ko=0,H&6)throw Error(C(331));var o=H;for(H|=4,P=e.current;P!==null;){var i=P,l=i.child;if(P.flags&16){var c=i.deletions;if(c!==null){for(var a=0;a<c.length;a++){var u=c[a];for(P=u;P!==null;){var h=P;switch(h.tag){case 0:case 11:case 15:$s(8,h,i)}var d=h.child;if(d!==null)d.return=h,P=d;else for(;P!==null;){h=P;var f=h.sibling,g=h.return;if(Rh(h),h===u){P=null;break}if(f!==null){f.return=g,P=f;break}P=g}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}P=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,P=l;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$s(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,P=p;break e}P=i.return}}var m=e.current;for(P=m;P!==null;){l=P;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,P=y;else e:for(l=m;P!==null;){if(c=P,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ho(9,c)}}catch(_){ne(c,c.return,_)}if(c===l){P=null;break e}var j=c.sibling;if(j!==null){j.return=c.return,P=j;break e}P=c.return}}if(H=o,Xt(),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot($o,e)}catch{}s=!0}return s}finally{V=r,qe.transition=t}}return!1}function tu(e,t,r){t=os(r,t),t=yh(e,t,1),e=Ft(e,t,1),t=Ne(),e!==null&&(gn(e,1,t),Ae(e,t))}function ne(e,t,r){if(e.tag===3)tu(e,e,r);else for(;t!==null;){if(t.tag===3){tu(t,e,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ht===null||!Ht.has(s))){e=os(r,e),e=wh(t,e,1),t=Ft(t,e,1),e=Ne(),t!==null&&(gn(t,1,e),Ae(t,e));break}}t=t.return}}function Fm(e,t,r){var s=e.pingCache;s!==null&&s.delete(t),t=Ne(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(xe&r)===r&&(de===4||de===3&&(xe&130023424)===xe&&500>oe()-Oa?hr(e,0):Ra|=r),Ae(e,t)}function Uh(e,t){t===0&&(e.mode&1?(t=Sn,Sn<<=1,!(Sn&130023424)&&(Sn=4194304)):t=1);var r=Ne();e=Nt(e,t),e!==null&&(gn(e,t,r),Ae(e,r))}function Hm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Uh(e,r)}function Vm(e,t){var r=0;switch(e.tag){case 13:var s=e.stateNode,o=e.memoizedState;o!==null&&(r=o.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(C(314))}s!==null&&s.delete(t),Uh(e,r)}var Bh;Bh=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Re=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Re=!1,Pm(e,t,r);Re=!!(e.flags&131072)}else Re=!1,Y&&t.flags&1048576&&Vd(t,go,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Zn(e,t),e=t.pendingProps;var o=ts(t,je.current);Yr(t,r),o=Na(null,t,s,e,o,r);var i=ka();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(s)?(i=!0,po(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,ya(t),o.updater=Fo,t.stateNode=o,o._reactInternals=t,xl(t,s,e,r),t=wl(null,t,s,!0,i,r)):(t.tag=0,Y&&i&&ha(t),_e(null,t,o,r),t=t.child),t;case 16:s=t.elementType;e:{switch(Zn(e,t),e=t.pendingProps,o=s._init,s=o(s._payload),t.type=s,o=t.tag=Km(s),e=Ye(s,e),o){case 0:t=yl(null,t,s,e,r);break e;case 1:t=Vc(null,t,s,e,r);break e;case 11:t=Fc(null,t,s,e,r);break e;case 14:t=Hc(null,t,s,Ye(s.type,e),r);break e}throw Error(C(306,s,""))}return t;case 0:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ye(s,o),yl(e,t,s,o,r);case 1:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ye(s,o),Vc(e,t,s,o,r);case 3:e:{if(Nh(t),e===null)throw Error(C(387));s=t.pendingProps,i=t.memoizedState,o=i.element,Yd(e,t),yo(t,s,null,r);var l=t.memoizedState;if(s=l.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=os(Error(C(423)),t),t=qc(e,t,s,r,o);break e}else if(s!==o){o=os(Error(C(424)),t),t=qc(e,t,s,r,o);break e}else for(ze=Wt(t.stateNode.containerInfo.firstChild),Me=t,Y=!0,tt=null,r=Jd(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(rs(),s===o){t=kt(e,t,r);break e}_e(e,t,s,r)}t=t.child}return t;case 5:return Xd(t),e===null&&pl(t),s=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,l=o.children,cl(s,o)?l=null:i!==null&&cl(s,i)&&(t.flags|=32),_h(e,t),_e(e,t,l,r),t.child;case 6:return e===null&&pl(t),null;case 13:return kh(e,t,r);case 4:return wa(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ss(t,null,s,r):_e(e,t,s,r),t.child;case 11:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ye(s,o),Fc(e,t,s,o,r);case 7:return _e(e,t,t.pendingProps,r),t.child;case 8:return _e(e,t,t.pendingProps.children,r),t.child;case 12:return _e(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,o=t.pendingProps,i=t.memoizedProps,l=o.value,K(xo,s._currentValue),s._currentValue=l,i!==null)if(nt(i.value,l)){if(i.children===o.children&&!Oe.current){t=kt(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var c=i.dependencies;if(c!==null){l=i.child;for(var a=c.firstContext;a!==null;){if(a.context===s){if(i.tag===1){a=wt(-1,r&-r),a.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}i.lanes|=r,a=i.alternate,a!==null&&(a.lanes|=r),ml(i.return,r,t),c.lanes|=r;break}a=a.next}}else if(i.tag===10)l=i.type===t.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(C(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),ml(l,r,t),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===t){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}_e(e,t,o.children,r),t=t.child}return t;case 9:return o=t.type,s=t.pendingProps.children,Yr(t,r),o=Ke(o),s=s(o),t.flags|=1,_e(e,t,s,r),t.child;case 14:return s=t.type,o=Ye(s,t.pendingProps),o=Ye(s.type,o),Hc(e,t,s,o,r);case 15:return bh(e,t,t.type,t.pendingProps,r);case 17:return s=t.type,o=t.pendingProps,o=t.elementType===s?o:Ye(s,o),Zn(e,t),t.tag=1,Pe(s)?(e=!0,po(t)):e=!1,Yr(t,r),vh(t,s,o),xl(t,s,o,r),wl(null,t,s,!0,e,r);case 19:return Sh(e,t,r);case 22:return jh(e,t,r)}throw Error(C(156,t.tag))};function Wh(e,t){return md(e,t)}function qm(e,t,r,s){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,r,s){return new qm(e,t,r,s)}function Da(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Km(e){if(typeof e=="function")return Da(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ea)return 11;if(e===ta)return 14}return 2}function qt(e,t){var r=e.alternate;return r===null?(r=Ve(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ro(e,t,r,s,o,i){var l=2;if(s=e,typeof e=="function")Da(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Dr:return fr(r.children,o,i,t);case Zl:l=8,o|=8;break;case Bi:return e=Ve(12,r,t,o|2),e.elementType=Bi,e.lanes=i,e;case Wi:return e=Ve(13,r,t,o),e.elementType=Wi,e.lanes=i,e;case Fi:return e=Ve(19,r,t,o),e.elementType=Fi,e.lanes=i,e;case Xu:return qo(r,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Qu:l=10;break e;case Yu:l=9;break e;case ea:l=11;break e;case ta:l=14;break e;case Ot:l=16,s=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=Ve(l,r,t,o),t.elementType=e,t.type=s,t.lanes=i,t}function fr(e,t,r,s){return e=Ve(7,e,s,t),e.lanes=r,e}function qo(e,t,r,s){return e=Ve(22,e,s,t),e.elementType=Xu,e.lanes=r,e.stateNode={isHidden:!1},e}function Ni(e,t,r){return e=Ve(6,e,null,t),e.lanes=r,e}function ki(e,t,r){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Gm(e,t,r,s,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oi(0),this.expirationTimes=oi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.identifierPrefix=s,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $a(e,t,r,s,o,i,l,c,a){return e=new Gm(e,t,r,c,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ve(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ya(i),e}function Jm(e,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ir,key:s==null?null:""+s,children:e,containerInfo:t,implementation:r}}function Fh(e){if(!e)return Gt;e=e._reactInternals;e:{if(br(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Pe(r))return Fd(e,r,t)}return t}function Hh(e,t,r,s,o,i,l,c,a){return e=$a(r,s,!0,e,o,i,l,c,a),e.context=Fh(null),r=e.current,s=Ne(),o=Vt(r),i=wt(s,o),i.callback=t??null,Ft(r,i,o),e.current.lanes=o,gn(e,o,s),Ae(e,s),e}function Ko(e,t,r,s){var o=t.current,i=Ne(),l=Vt(o);return r=Fh(r),t.context===null?t.context=r:t.pendingContext=r,t=wt(i,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Ft(o,t,l),e!==null&&(st(e,o,l,i),Qn(e,o,l)),l}function Eo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function ru(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function La(e,t){ru(e,t),(e=e.alternate)&&ru(e,t)}function Qm(){return null}var Vh=typeof reportError=="function"?reportError:function(e){console.error(e)};function za(e){this._internalRoot=e}Go.prototype.render=za.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Ko(e,t,null,null)};Go.prototype.unmount=za.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yr(function(){Ko(null,e,null,null)}),t[_t]=null}};function Go(e){this._internalRoot=e}Go.prototype.unstable_scheduleHydration=function(e){if(e){var t=jd();e={blockedOn:null,target:e,priority:t};for(var r=0;r<It.length&&t!==0&&t<It[r].priority;r++);It.splice(r,0,e),r===0&&Nd(e)}};function Ma(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Jo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function su(){}function Ym(e,t,r,s,o){if(o){if(typeof s=="function"){var i=s;s=function(){var u=Eo(l);i.call(u)}}var l=Hh(t,s,e,0,null,!1,!1,"",su);return e._reactRootContainer=l,e[_t]=l.current,Qs(e.nodeType===8?e.parentNode:e),yr(),l}for(;o=e.lastChild;)e.removeChild(o);if(typeof s=="function"){var c=s;s=function(){var u=Eo(a);c.call(u)}}var a=$a(e,0,!1,null,null,!1,!1,"",su);return e._reactRootContainer=a,e[_t]=a.current,Qs(e.nodeType===8?e.parentNode:e),yr(function(){Ko(t,a,r,s)}),a}function Qo(e,t,r,s,o){var i=r._reactRootContainer;if(i){var l=i;if(typeof o=="function"){var c=o;o=function(){var a=Eo(l);c.call(a)}}Ko(t,l,e,o)}else l=Ym(r,t,e,o,s);return Eo(l)}wd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=Ss(t.pendingLanes);r!==0&&(na(t,r|1),Ae(t,oe()),!(H&6)&&(is=oe()+500,Xt()))}break;case 13:yr(function(){var s=Nt(e,1);if(s!==null){var o=Ne();st(s,e,1,o)}}),La(e,1)}};oa=function(e){if(e.tag===13){var t=Nt(e,134217728);if(t!==null){var r=Ne();st(t,e,134217728,r)}La(e,134217728)}};bd=function(e){if(e.tag===13){var t=Vt(e),r=Nt(e,t);if(r!==null){var s=Ne();st(r,e,t,s)}La(e,t)}};jd=function(){return V};_d=function(e,t){var r=V;try{return V=e,t()}finally{V=r}};Zi=function(e,t,r){switch(t){case"input":if(qi(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==e&&s.form===e.form){var o=Uo(s);if(!o)throw Error(C(90));ed(s),qi(s,o)}}}break;case"textarea":rd(e,r);break;case"select":t=r.value,t!=null&&Kr(e,!!r.multiple,t,!1)}};cd=Pa;ud=yr;var Xm={usingClientEntryPoint:!1,Events:[vn,Mr,Uo,ld,ad,Pa]},js={findFiberByHostInstance:ar,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Zm={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ct.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=fd(e),e===null?null:e.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||Qm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ln=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ln.isDisabled&&Ln.supportsFiber)try{$o=Ln.inject(Zm),ut=Ln}catch{}}Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xm;Be.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ma(t))throw Error(C(200));return Jm(e,t,null,r)};Be.createRoot=function(e,t){if(!Ma(e))throw Error(C(299));var r=!1,s="",o=Vh;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=$a(e,1,!1,null,null,r,!1,s,o),e[_t]=t.current,Qs(e.nodeType===8?e.parentNode:e),new za(t)};Be.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=fd(t),e=e===null?null:e.stateNode,e};Be.flushSync=function(e){return yr(e)};Be.hydrate=function(e,t,r){if(!Jo(t))throw Error(C(200));return Qo(null,e,t,!0,r)};Be.hydrateRoot=function(e,t,r){if(!Ma(e))throw Error(C(405));var s=r!=null&&r.hydratedSources||null,o=!1,i="",l=Vh;if(r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=Hh(t,null,e,1,r??null,o,!1,i,l),e[_t]=t.current,Qs(e),s)for(e=0;e<s.length;e++)r=s[e],o=r._getVersion,o=o(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,o]:t.mutableSourceEagerHydrationData.push(r,o);return new Go(t)};Be.render=function(e,t,r){if(!Jo(t))throw Error(C(200));return Qo(null,e,t,!1,r)};Be.unmountComponentAtNode=function(e){if(!Jo(e))throw Error(C(40));return e._reactRootContainer?(yr(function(){Qo(null,null,e,!1,function(){e._reactRootContainer=null,e[_t]=null})}),!0):!1};Be.unstable_batchedUpdates=Pa;Be.unstable_renderSubtreeIntoContainer=function(e,t,r,s){if(!Jo(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Qo(e,t,r,!1,s)};Be.version="18.3.1-next-f1338f8080-20240426";function qh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(qh)}catch(e){console.error(e)}}qh(),qu.exports=Be;var e0=qu.exports,Kh,nu=e0;Kh=nu.createRoot,nu.hydrateRoot;function ct({children:e,variant:t="primary",size:r="medium",onClick:s,href:o}){const i="inline-flex items-center justify-center transition-all duration-200 cursor-pointer",l={primary:"bg-[#1a4d2e] text-white hover:bg-[#153d25] shadow-[var(--shadow-md)] hover:shadow-[var(--shadow-lg)] border-0",secondary:"bg-white text-[#1a4d2e] border border-[#1a4d2e] hover:bg-[#4a6f5a] hover:text-white"},c={medium:"px-8 py-3 text-base rounded-lg",large:"px-10 py-4 text-lg rounded-lg"},a=`${i} ${l[t]} ${c[r]}`;return o?n.jsx("a",{href:o,className:a,children:e}):n.jsx("button",{onClick:s,className:a,children:e})}const Gh="/assets/Logo-DuJXds8E.svg";function St({onGetStartedClick:e}){return n.jsx("header",{className:"bg-white/80 backdrop-blur-sm sticky top-0 z-50 border-b border-[--color-sand-200]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[n.jsx("div",{className:"flex items-center flex-shrink-0",children:n.jsx("a",{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:n.jsx("img",{src:Gh,alt:"DoneWell",className:"h-8 w-auto",loading:"eager",width:120,height:32})})}),n.jsxs("nav",{className:"hidden md:flex items-center gap-8 flex-1 justify-center",children:[n.jsx("a",{href:"/",className:"text-[--color-stone-700] hover:text-[--color-forest-700] transition-colors font-semibold",children:"Home"}),n.jsx("a",{href:"/work",className:"text-[--color-stone-700] hover:text-[--color-forest-700] transition-colors font-semibold",children:"Work"}),n.jsx("a",{href:"/about",className:"text-[--color-stone-700] hover:text-[--color-forest-700] transition-colors font-semibold",children:"About"})]}),n.jsx("div",{className:"flex items-center gap-4 flex-shrink-0",children:n.jsx(ct,{variant:"primary",size:"medium",onClick:e,children:n.jsx("span",{className:"whitespace-nowrap text-sm md:text-base",children:"Book a Consult"})})})]})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),r0=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,s)=>s?s.toUpperCase():r.toLowerCase()),ou=e=>{const t=r0(e);return t.charAt(0).toUpperCase()+t.slice(1)},Jh=(...e)=>e.filter((t,r,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=S.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:o="",children:i,iconNode:l,...c},a)=>S.createElement("svg",{ref:a,...s0,width:t,height:t,stroke:e,strokeWidth:s?Number(r)*24/Number(t):r,className:Jh("lucide",o),...c},[...l.map(([u,h])=>S.createElement(u,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=(e,t)=>{const r=S.forwardRef(({className:s,...o},i)=>S.createElement(n0,{ref:i,iconNode:t,className:Jh(`lucide-${t0(ou(e))}`,`lucide-${e}`,s),...o}));return r.displayName=ou(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Pl=A("arrow-left",o0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Co=A("arrow-right",i0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],a0=A("award",l0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],u0=A("bold",c0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Qh=A("calendar",d0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],f0=A("chart-column",h0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ms=A("check",p0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Ua=A("chevron-down",m0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],x0=A("chevron-left",g0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ba=A("chevron-right",v0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],bt=A("circle-check",y0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],on=A("circle-x",w0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],j0=A("clock",b0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Yh=A("copy",_0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],k0=A("external-link",N0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Xh=A("eye-off",S0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ln=A("eye",E0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],T0=A("file-text",C0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R0=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],O0=A("folder-open",R0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],To=A("globe",P0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],I0=A("hammer",A0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],$0=A("heading-1",D0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L0=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],z0=A("heading-2",L0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],U0=A("heading-3",M0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],W0=A("image",B0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],H0=A("instagram",F0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],q0=A("italic",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],G0=A("lightbulb",K0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Q0=A("link",J0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],X0=A("linkedin",Y0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],eg=A("list-ordered",Z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],rg=A("list",tg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Cs=A("loader-circle",sg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ng=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],og=A("lock",ng);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],lg=A("log-out",ig);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ag=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],an=A("mail",ag);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],ug=A("message-square",cg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],iu=A("mouse-pointer-click",dg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Wa=A("pen",hg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],pg=A("phone",fg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ls=A("plus",mg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ro=A("refresh-cw",gg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],vg=A("rocket",xg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fa=A("save",yg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bg=A("send",wg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_g=A("settings",jg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ng=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],kg=A("shield",Ng);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Zh=A("star",Sg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eg=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],as=A("trash-2",Eg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Oo=A("triangle-alert",Cg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Rg=A("twitter",Tg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Pg=A("type",Og);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ag=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],Ig=A("underline",Ag);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dg=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ef=A("upload",Dg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],tf=A("users",$g);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lg=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],zg=A("video",Lg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ug=A("wifi-off",Mg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],lu=A("wifi",Bg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],cs=A("x",Wg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fg=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Hg=A("zap",Fg),Vg="/assets/Logo_wh-CUk2J0yk.svg";function Et(){return n.jsx("footer",{className:"bg-[#1B4D2E] text-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 mb-12",children:[n.jsxs("div",{children:[n.jsx("div",{className:"flex items-center gap-2 mb-4",children:n.jsx("a",{href:"/",className:"hover:opacity-80 transition-opacity",children:n.jsx("img",{src:Vg,alt:"DoneWell",className:"h-8 w-auto opacity-90",loading:"lazy",width:120,height:32})})}),n.jsx("p",{className:"!text-white text-base",children:"Professional websites designed, built, and launched with care."})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"mb-4 text-sm uppercase tracking-wider !text-white pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Navigation"}),n.jsxs("nav",{className:"flex flex-col gap-3",children:[n.jsx("a",{href:"/",className:"!text-white hover:!text-white transition-colors",children:"Home"}),n.jsx("a",{href:"/work",className:"!text-white hover:!text-white transition-colors",children:"Work"}),n.jsx("a",{href:"/about",className:"!text-white hover:!text-white transition-colors",children:"About"})]})]}),n.jsxs("div",{children:[n.jsx("h5",{className:"mb-[16px] text-sm uppercase tracking-wider !text-white mt-[0px] mr-[0px] ml-[0px]",children:"Connect"}),n.jsxs("div",{className:"flex gap-4 mt-[16px] mr-[0px] mb-[0px] ml-[0px]",children:[n.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors !text-white","aria-label":"LinkedIn",children:n.jsx(X0,{size:20})}),n.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors !text-white","aria-label":"Twitter",children:n.jsx(Rg,{size:20})}),n.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors !text-white","aria-label":"Instagram",children:n.jsx(H0,{size:20})})]})]})]}),n.jsx("div",{className:"pt-8 border-t border-white/10 text-center !text-white text-sm",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsxs("p",{className:"!text-white",children:[" ",new Date().getFullYear()," DoneWell. All rights reserved."]}),n.jsx("a",{href:"/admin",className:"inline-flex items-center justify-center transition-colors !text-white opacity-30 hover:opacity-50","aria-label":"Admin",title:"Admin",children:n.jsx(_g,{size:16})})]})})]})})}function zn({number:e,title:t,description:r,icon:s}){return n.jsx("div",{className:"bg-white rounded-[var(--radius-lg)] p-8 shadow-[var(--shadow-md)] hover:shadow-[var(--shadow-lg)] transition-shadow duration-300 flex flex-col items-start border border-[--color-stone-200] rounded-[8px]",children:n.jsxs("div",{className:"flex items-start gap-4 mb-4 w-full",children:[n.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-[var(--radius-md)] bg-gradient-to-br from-[--color-sage-100] to-[--color-forest-100] flex items-center justify-center text-[--color-forest-700]",children:s}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"text-sm tracking-wider text-[--color-forest-700] mb-2",children:["STEP ",e]}),n.jsx("h4",{className:"mb-3",children:t}),n.jsx("p",{className:"text-[--color-stone-700]",children:r})]})]})})}const qg="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function rf(e){const[t,r]=S.useState(!1),s=()=>{r(!0)},{src:o,alt:i,style:l,className:c,...a}=e,u=e.loading??"lazy";return t?n.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:l,children:n.jsx("div",{className:"flex items-center justify-center w-full h-full",children:n.jsx("img",{src:qg,alt:"Error loading image",loading:u,...a,"data-original-url":o})})}):n.jsx("img",{src:o,alt:i,className:c,style:l,loading:u,...a,onError:s})}function Kg({image:e,title:t,description:r,slug:s}){return n.jsxs("a",{href:`/projects/${s}`,className:"block bg-white rounded-[var(--radius-xl)] overflow-hidden shadow-[var(--shadow-md)] hover:shadow-[var(--shadow-xl)] transition-all duration-300 hover:-translate-y-1 border border-[--color-stone-200]",children:[n.jsx("div",{className:"aspect-video w-full overflow-hidden bg-[--color-sand-100]",children:n.jsx(rf,{src:e,alt:t,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500 rounded-t-[8px]"})}),n.jsxs("div",{className:"p-6",children:[n.jsx("h4",{className:"mb-2 pt-[0px] pr-[0px] pb-[8px] pl-[0px]",children:t}),n.jsx("p",{className:"text-[--color-stone-700] mb-5 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:r}),n.jsx(ct,{variant:"secondary",size:"medium",children:"View Project"})]})]})}function Gg({quote:e,author:t,role:r,company:s,image:o}){return n.jsxs("div",{className:"bg-white p-8 rounded-[var(--radius-xl)] shadow-[var(--shadow-lg)] border border-[--color-stone-200] h-full flex flex-col rounded-[8px]",children:[n.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((i,l)=>n.jsx(Zh,{size:18,fill:"currentColor",className:"text-[--color-amber-400]"},l))}),n.jsxs("p",{className:"text-[--color-stone-800] mb-6 leading-relaxed flex-grow",children:['"',e,'"']}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("img",{src:o,alt:t,className:"w-12 h-12 rounded-full object-cover",loading:"lazy",width:48,height:48}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[--color-stone-900]",children:t}),n.jsxs("div",{className:"text-sm text-[--color-stone-600]",children:[r,", ",s]})]})]})]})}function au({icon:e,text:t}){return n.jsxs("div",{className:"flex items-center gap-3 bg-white/80 backdrop-blur-sm px-5 py-3 rounded-full shadow-[var(--shadow-md)] border border-[--color-sage-200]",children:[n.jsx("div",{className:"text-[--color-forest-600]",children:e}),n.jsx("span",{className:"text-sm text-[--color-stone-800]",children:t})]})}function Jg({isOpen:e,onClose:t,children:r,size:s="default"}){if(!e)return null;const o=s==="large"?"max-w-4xl":"max-w-2xl";return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:t}),n.jsxs("div",{className:`relative bg-white rounded-[var(--radius-xl)] ${o} w-full max-h-[90vh] overflow-y-auto shadow-2xl`,children:[n.jsx("button",{onClick:t,className:"absolute top-6 right-6 p-2 hover:bg-[--color-stone-100] rounded-full transition-colors","aria-label":"Close modal",children:n.jsx(cs,{size:24,className:"text-[--color-stone-600]"})}),r]})]})}function Yo(e,t){var r={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(r[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(e);o<s.length;o++)t.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(e,s[o])&&(r[s[o]]=e[s[o]]);return r}function Qg(e,t,r,s){function o(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(h){try{u(s.next(h))}catch(d){l(d)}}function a(h){try{u(s.throw(h))}catch(d){l(d)}}function u(h){h.done?i(h.value):o(h.value).then(c,a)}u((s=s.apply(e,t||[])).next())})}const Yg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Ha extends Error{constructor(t,r="FunctionsError",s){super(t),this.name=r,this.context=s}}class Xg extends Ha{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class cu extends Ha{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class uu extends Ha{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Al;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Al||(Al={}));class Zg{constructor(t,{headers:r={},customFetch:s,region:o=Al.Any}={}){this.url=t,this.headers=r,this.region=o,this.fetch=Yg(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Qg(this,arguments,void 0,function*(r,s={}){var o;let i,l;try{const{headers:c,method:a,body:u,signal:h,timeout:d}=s;let f={},{region:g}=s;g||(g=this.region);const v=new URL(`${this.url}/${r}`);g&&g!=="any"&&(f["x-region"]=g,v.searchParams.set("forceFunctionRegion",g));let x;u&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(f["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(f["Content-Type"]="application/json",x=JSON.stringify(u)):x=u;let w=h;d&&(l=new AbortController,i=setTimeout(()=>l.abort(),d),h?(w=l.signal,h.addEventListener("abort",()=>l.abort())):w=l.signal);const p=yield this.fetch(v.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),c),body:x,signal:w}).catch(_=>{throw new Xg(_)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new cu(p);if(!p.ok)throw new uu(p);let y=((o=p.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),j;return y==="application/json"?j=yield p.json():y==="application/octet-stream"||y==="application/pdf"?j=yield p.blob():y==="text/event-stream"?j=p:y==="multipart/form-data"?j=yield p.formData():j=yield p.text(),{data:j,error:null,response:p}}catch(c){return{data:null,error:c,response:c instanceof uu||c instanceof cu?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var ex=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},tx=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let o=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let l=null,c=null,a=null,u=i.status,h=i.statusText;if(i.ok){var d,f;if(r.method!=="HEAD"){var g;const p=await i.text();p===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?c=p:c=JSON.parse(p))}const x=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(f=i.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");x&&w&&w.length>1&&(a=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,a=null,u=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var v;const x=await i.text();try{l=JSON.parse(x),Array.isArray(l)&&i.status===404&&(c=[],l=null,u=200,h="OK")}catch{i.status===404&&x===""?(u=204,h="No Content"):l={message:x}}if(l&&r.isMaybeSingle&&(!(l==null||(v=l.details)===null||v===void 0)&&v.includes("0 rows"))&&(l=null,u=200,h="OK"),l&&r.shouldThrowOnError)throw new ex(l)}return{error:l,data:c,count:a,status:u,statusText:h}});return this.shouldThrowOnError||(o=o.catch(i=>{var l;let c="";const a=i==null?void 0:i.cause;if(a){var u,h,d,f;const v=(u=a==null?void 0:a.message)!==null&&u!==void 0?u:"",x=(h=a==null?void 0:a.code)!==null&&h!==void 0?h:"";c=`${(d=i==null?void 0:i.name)!==null&&d!==void 0?d:"FetchError"}: ${i==null?void 0:i.message}`,c+=`

Caused by: ${(f=a==null?void 0:a.name)!==null&&f!==void 0?f:"Error"}: ${v}`,x&&(c+=` (${x})`),a!=null&&a.stack&&(c+=`
${a.stack}`)}else{var g;c=(g=i==null?void 0:i.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(e,t)}returns(){return this}overrideTypes(){return this}},rx=class extends tx{select(e){let t=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const i=o?`${o}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),a=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${a}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const du=new RegExp("[,()]");var Or=class extends rx{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&du.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(s=>typeof s=="string"&&du.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${o}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},sx=class{constructor(e,{headers:t={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=s}select(e,t){const{head:r=!1,count:s}=t??{},o=r?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),s&&this.headers.append("Prefer",`count=${s}`),new Or({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var s;const o="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Or({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(c.length>0){const a=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new Or({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const s="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Or({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Or({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},nx=class sf{constructor(t,{headers:r={},schema:s,fetch:o}={}){this.url=t,this.headers=new Headers(r),this.schemaName=s,this.fetch=o}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new sx(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new sf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:s=!1,get:o=!1,count:i}={}){var l;let c;const a=new URL(`${this.url}/rpc/${t}`);let u;s||o?(c=s?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{a.searchParams.append(d,f)})):(c="POST",u=r);const h=new Headers(this.headers);return i&&h.set("Prefer",`count=${i}`),new Or({method:c,url:a,headers:h,schema:this.schemaName,body:u,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class ox{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const s=this.getWebSocketConstructor();return new s(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const ix="2.89.0",lx=`realtime-js/${ix}`,nf="1.0.0",ax="2.0.0",hu=nf,Il=1e4,cx=1e3,ux=100;var At;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(At||(At={}));var ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ce||(ce={}));var et;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(et||(et={}));var Dl;(function(e){e.websocket="websocket"})(Dl||(Dl={}));var ir;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ir||(ir={}));class dx{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let s=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(s))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,s;const o=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var r,s;const o=(s=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&s!==void 0?s:{},l=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,s){var o,i;const l=t.topic,c=(o=t.ref)!==null&&o!==void 0?o:"",a=(i=t.join_ref)!==null&&i!==void 0?i:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(h).length===0?"":JSON.stringify(h);if(a.length>255)throw new Error(`joinRef length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+a.length+c.length+l.length+u.length+d.length,g=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(g),x=0;v.setUint8(x++,this.KINDS.userBroadcastPush),v.setUint8(x++,a.length),v.setUint8(x++,c.length),v.setUint8(x++,l.length),v.setUint8(x++,u.length),v.setUint8(x++,d.length),v.setUint8(x++,r),Array.from(a,p=>v.setUint8(x++,p.charCodeAt(0))),Array.from(c,p=>v.setUint8(x++,p.charCodeAt(0))),Array.from(l,p=>v.setUint8(x++,p.charCodeAt(0))),Array.from(u,p=>v.setUint8(x++,p.charCodeAt(0))),Array.from(d,p=>v.setUint8(x++,p.charCodeAt(0)));var w=new Uint8Array(g.byteLength+s.byteLength);return w.set(new Uint8Array(g),0),w.set(new Uint8Array(s),g.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let s=this._binaryDecode(t);return r(s)}if(typeof t=="string"){const s=JSON.parse(t),[o,i,l,c,a]=s;return r({join_ref:o,ref:i,topic:l,event:c,payload:a})}return r({})}_binaryDecode(t){const r=new DataView(t),s=r.getUint8(0),o=new TextDecoder;switch(s){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,o)}}_decodeUserBroadcast(t,r,s){const o=r.getUint8(1),i=r.getUint8(2),l=r.getUint8(3),c=r.getUint8(4);let a=this.HEADER_LENGTH+4;const u=s.decode(t.slice(a,a+o));a=a+o;const h=s.decode(t.slice(a,a+i));a=a+i;const d=s.decode(t.slice(a,a+l));a=a+l;const f=t.slice(a,t.byteLength),g=c===this.JSON_ENCODING?JSON.parse(s.decode(f)):f,v={type:this.BROADCAST_EVENT,event:h,payload:g};return l>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([s])=>r.includes(s)))}}class of{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(q||(q={}));const fu=(e,t,r={})=>{var s;const o=(s=r.skipTypes)!==null&&s!==void 0?s:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=hx(l,e,t,o),i),{}):{}},hx=(e,t,r,s)=>{const o=t.find(c=>c.name===e),i=o==null?void 0:o.type,l=r[e];return i&&!s.includes(i)?lf(i,l):$l(l)},lf=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return gx(t,r)}switch(e){case q.bool:return fx(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return px(t);case q.json:case q.jsonb:return mx(t);case q.timestamp:return xx(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return $l(t);default:return $l(t)}},$l=e=>e,fx=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},px=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},mx=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},gx=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,s=e[r];if(e[0]==="{"&&s==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(c=>lf(t,c))}return e},xx=e=>typeof e=="string"?e.replace(" ","T"):e,af=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Si{constructor(t,r,s={},o=Il){this.channel=t,this.event=r,this.payload=s,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var s;return this._hasReceived(t)&&r((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pu||(pu={}));class Us{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},o=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Us.syncState(this.state,o,i,l),this.pendingDiffs.forEach(a=>{this.state=Us.syncDiff(this.state,a,i,l)}),this.pendingDiffs=[],c()}),this.channel._on(s.diff,{},o=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Us.syncDiff(this.state,o,i,l),c())}),this.onJoin((o,i,l)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:i,newPresences:l})}),this.onLeave((o,i,l)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,s,o){const i=this.cloneDeep(t),l=this.transformState(r),c={},a={};return this.map(i,(u,h)=>{l[u]||(a[u]=h)}),this.map(l,(u,h)=>{const d=i[u];if(d){const f=h.map(w=>w.presence_ref),g=d.map(w=>w.presence_ref),v=h.filter(w=>g.indexOf(w.presence_ref)<0),x=d.filter(w=>f.indexOf(w.presence_ref)<0);v.length>0&&(c[u]=v),x.length>0&&(a[u]=x)}else c[u]=h}),this.syncDiff(i,{joins:c,leaves:a},s,o)}static syncDiff(t,r,s,o){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return s||(s=()=>{}),o||(o=()=>{}),this.map(i,(c,a)=>{var u;const h=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(a),h.length>0){const d=t[c].map(g=>g.presence_ref),f=h.filter(g=>d.indexOf(g.presence_ref)<0);t[c].unshift(...f)}s(c,h,a)}),this.map(l,(c,a)=>{let u=t[c];if(!u)return;const h=a.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[c]=u,o(c,u,a),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(s=>r(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,s)=>{const o=t[s];return"metas"in o?r[s]=o.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[s]=o,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var mu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(mu||(mu={}));var Bs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Bs||(Bs={}));var gt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class qr{constructor(t,r={config:{}},s){var o,i;if(this.topic=t,this.params=r,this.socket=s,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Si(this,et.join,this.params,this.timeout),this.rejoinTimer=new of(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(et.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new Us(this),this.broadcastEndpointURL=af(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var s,o,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:l,presence:c,private:a}}=this.params,u=(o=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(g=>g.filter))!==null&&o!==void 0?o:[],h=!!this.bindings[Bs.PRESENCE]&&this.bindings[Bs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,d={},f={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:u,private:a};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(gt.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(gt.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,p=[];for(let m=0;m<w;m++){const y=x[m],{filter:{event:j,schema:_,table:N,filter:b}}=y,k=g&&g[m];if(k&&k.event===j&&qr.isFilterValueEqual(k.schema,_)&&qr.isFilterValueEqual(k.table,N)&&qr.isFilterValueEqual(k.filter,b))p.push(Object.assign(Object.assign({},y),{id:k.id}));else{this.unsubscribe(),this.state=ce.errored,t==null||t(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(gt.SUBSCRIBED);return}}).receive("error",g=>{this.state=ce.errored,t==null||t(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,s){return this.state===ce.joined&&t===Bs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,s)}async httpSend(t,r,s={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(o=s.timeout)!==null&&o!==void 0?o:this.timeout);if(c.status===202)return{success:!0};let a=c.statusText;try{const u=await c.json();a=u.error||u.message||a}catch{}return Promise.reject(new Error(a))}async send(t,r={}){var s,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);return await((o=u.body)===null||o===void 0?void 0:o.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,c,a;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(et.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(o=>{s=new Si(this,et.leave,{},t),s.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(t,r,s){const o=new AbortController,i=setTimeout(()=>o.abort(),s),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(i),l}_push(t,r,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Si(this,t,r,s);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ux){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,s){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,s){var o,i;const l=t.toLocaleLowerCase(),{close:c,error:a,leave:u,join:h}=et;if(s&&[c,a,u,h].indexOf(l)>=0&&s!==this._joinRef())return;let f=this._onMessage(l,r,s);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(g=>{var v,x,w;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(x=g.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===l}).map(g=>g.callback(f,s)):(i=this.bindings[l])===null||i===void 0||i.filter(g=>{var v,x,w,p,m,y;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in g){const j=g.id,_=(v=g.filter)===null||v===void 0?void 0:v.event;return j&&((x=r.ids)===null||x===void 0?void 0:x.includes(j))&&(_==="*"||(_==null?void 0:_.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(m=(p=g==null?void 0:g.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return j==="*"||j===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===l}).map(g=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:w,commit_timestamp:p,type:m,errors:y}=v;f=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:p,eventType:m,new:{},old:{},errors:y}),this._getPayloadRecords(v))}g.callback(f,s)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,s){const o=t.toLocaleLowerCase(),i={type:o,filter:r,callback:s};return this.bindings[o]?this.bindings[o].push(i):this.bindings[o]=[i],this}_off(t,r){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(o=>{var i;return!(((i=o.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===s&&qr.isEqual(o.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const s in t)if(t[s]!==r[s])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(et.close,{},t)}_onError(t){this._on(et.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=fu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=fu(t.columns,t.old_record)),r}}const Ei=()=>{},Mn={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},vx=[1e3,2e3,5e3,1e4],yx=1e4,wx=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bx{constructor(t,r){var s;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Il,this.transport=null,this.heartbeatIntervalMs=Mn.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ei,this.ref=0,this.reconnectTimer=null,this.vsn=hu,this.logger=Ei,this.conn=null,this.sendBuffer=[],this.serializer=new dx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...i)=>o(...i):(...i)=>fetch(...i),!(!((s=r==null?void 0:r.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Dl.websocket}`,this.httpEndpoint=af(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=ox.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,s){this.logger(t,r,s)}connectionState(){switch(this.conn&&this.conn.readyState){case At.connecting:return ir.Connecting;case At.open:return ir.Open;case At.closing:return ir.Closing;default:return ir.Closed}}isConnected(){return this.connectionState()===ir.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const s=`realtime:${t}`,o=this.getChannels().find(i=>i.topic===s);if(o)return o;{const i=new qr(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:s,payload:o,ref:i}=t,l=()=>{this.encode(t,c=>{var a;(a=this.conn)===null||a===void 0||a.send(c)})};this.log("push",`${r} ${s} (${i})`,o),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(cx,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Mn.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:o,payload:i,ref:l}=r,c=l?`(${l})`:"",a=i.status||"";this.log("receive",`${a} ${s} ${o} ${c}`.trim(),i),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(o,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===At.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===At.open||this.conn.readyState===At.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(et.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const s=t.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${t}${s}${o}`}_workerObjectUrl(t){let r;if(t)r=t;else{const s=new Blob([wx],{type:"application/javascript"});r=URL.createObjectURL(s)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,s=!1;if(t)r=t,s=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;s?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const i={access_token:r,version:lx};r&&o.updateJoinPayload(i),o.joinedOnce&&o._isJoined()&&o._push(et.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(r)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new of(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Mn.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,s,o,i,l,c,a,u,h,d,f,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:Il,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:Mn.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:Ei,this.vsn=(a=t==null?void 0:t.vsn)!==null&&a!==void 0?a:hu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>vx[v-1]||yx,this.vsn){case nf:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(v,x)=>x(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,x)=>x(JSON.parse(v));break;case ax:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var cn=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function jx(e,t,r){const s=new URL(t,e);if(r)for(const[o,i]of Object.entries(r))i!==void 0&&s.searchParams.set(o,i);return s.toString()}async function _x(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function Nx(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:s,query:o,body:i,headers:l}){const c=jx(e.baseUrl,s,o),a=await _x(e.auth),u=await t(c,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...a,...l},body:i?JSON.stringify(i):void 0}),h=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&h?JSON.parse(h):h;if(!u.ok){const g=d?f:void 0,v=g==null?void 0:g.error;throw new cn((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:g})}return{status:u.status,headers:u.headers,data:f}}}}function Un(e){return e.join("")}var kx=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Un(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(s=>({namespace:s}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Un(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Un(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Un(e.namespace)}`}),!0}catch(t){if(t instanceof cn&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof cn&&r.status===409)return;throw r}}};function kr(e){return e.join("")}var Sx=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${kr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof cn&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof cn&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},Ex=class{constructor(e){var s;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=Nx({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(s=e.accessDelegation)==null?void 0:s.join(","),this.namespaceOps=new kx(this.client,t),this.tableOps=new Sx(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Xo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Z(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Cx=class extends Xo{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ll=class extends Xo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Va=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Tx=()=>Response,zl=e=>{if(Array.isArray(e))return e.map(r=>zl(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,s])=>{const o=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[o]=zl(s)}),t},Rx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Ox=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function un(e){"@babel/helpers - typeof";return un=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},un(e)}function Px(e,t){if(un(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(un(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ax(e){var t=Px(e,"string");return un(t)=="symbol"?t:t+""}function Ix(e,t,r){return(t=Ax(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,s)}return r}function $(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gu(Object(r),!0).forEach(function(s){Ix(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gu(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const Ci=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},Dx=async(e,t,r)=>{e instanceof await Tx()&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const o=e.status||500,i=(s==null?void 0:s.statusCode)||o+"";t(new Cx(Ci(s),o,i))}).catch(s=>{t(new Ll(Ci(s),s))}):t(new Ll(Ci(e),e))},$x=(e,t,r,s)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?o:(Rx(s)?(o.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(s)):o.body=s,t!=null&&t.duplex&&(o.duplex=t.duplex),$($({},o),r))};async function wn(e,t,r,s,o,i){return new Promise((l,c)=>{e(r,$x(t,s,o,i)).then(a=>{if(!a.ok)throw a;return s!=null&&s.noResolveJson?a:a.json()}).then(a=>l(a)).catch(a=>Dx(a,c,s))})}async function dn(e,t,r,s){return wn(e,"GET",t,r,s)}async function Xe(e,t,r,s,o){return wn(e,"POST",t,s,o,r)}async function Ml(e,t,r,s,o){return wn(e,"PUT",t,s,o,r)}async function Lx(e,t,r,s){return wn(e,"HEAD",t,$($({},r),{},{noResolveJson:!0}),s)}async function qa(e,t,r,s,o){return wn(e,"DELETE",t,s,o,r)}var zx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Z(t))return{data:null,error:t};throw t}}};let cf;cf=Symbol.toStringTag;var Mx=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[cf]="BlobDownloadBuilder",this.promise=null}asStream(){return new zx(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Z(t))return{data:null,error:t};throw t}}};const Ux={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Bx=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Va(s)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,s){var o=this;try{let i;const l=$($({},xu),s);let c=$($({},o.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const a=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),a&&i.append("metadata",o.encodeMetadata(a)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),a&&!i.has("metadata")&&i.append("metadata",o.encodeMetadata(a))):(i=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,a&&(c["x-metadata"]=o.toBase64(o.encodeMetadata(a))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),s!=null&&s.headers&&(c=$($({},c),s.headers));const u=o._removeEmptyFolders(t),h=o._getFinalPath(u),d=await(e=="PUT"?Ml:Xe)(o.fetch,`${o.url}/object/${h}`,i,$({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(o.shouldThrowOnError)throw i;if(Z(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,s){var o=this;const i=o._removeEmptyFolders(e),l=o._getFinalPath(i),c=new URL(o.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let a;const u=$({upsert:xu.upsert},s),h=$($({},o.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),a.append("",r)):typeof FormData<"u"&&r instanceof FormData?(a=r,a.append("cacheControl",u.cacheControl)):(a=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{data:{path:i,fullPath:(await Ml(o.fetch,c.toString(),a,{headers:h})).Key},error:null}}catch(a){if(o.shouldThrowOnError)throw a;if(Z(a))return{data:null,error:a};throw a}}async createSignedUploadUrl(e,t){var r=this;try{let s=r._getFinalPath(e);const o=$({},r.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const i=await Xe(r.fetch,`${r.url}/object/upload/sign/${s}`,{},{headers:o}),l=new URL(r.url+i.url),c=l.searchParams.get("token");if(!c)throw new Xo("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var s=this;try{return{data:await Xe(s.fetch,`${s.url}/object/move`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers}),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Z(o))return{data:null,error:o};throw o}}async copy(e,t,r){var s=this;try{return{data:{path:(await Xe(s.fetch,`${s.url}/object/copy`,{bucketId:s.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:s.headers})).Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Z(o))return{data:null,error:o};throw o}}async createSignedUrl(e,t,r){var s=this;try{let o=s._getFinalPath(e),i=await Xe(s.fetch,`${s.url}/object/sign/${o}`,$({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:s.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${s.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Z(o))return{data:null,error:o};throw o}}async createSignedUrls(e,t,r){var s=this;try{const o=await Xe(s.fetch,`${s.url}/object/sign/${s.bucketId}`,{expiresIn:t,paths:e},{headers:s.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(l=>$($({},l),{},{signedUrl:l.signedURL?encodeURI(`${s.url}${l.signedURL}${i}`):null})),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Z(o))return{data:null,error:o};throw o}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),o=s?`?${s}`:"",i=this._getFinalPath(e),l=()=>dn(this.fetch,`${this.url}/${r}/${i}${o}`,{headers:this.headers,noResolveJson:!0});return new Mx(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:zl(await dn(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await Lx(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Z(s)&&s instanceof Ll){const o=s.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:s}}throw s}}getPublicUrl(e,t){const r=this._getFinalPath(e),s=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&s.push(o);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${c}`)}}}async remove(e){var t=this;try{return{data:await qa(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async list(e,t,r){var s=this;try{const o=$($($({},Ux),t),{},{prefix:e||""});return{data:await Xe(s.fetch,`${s.url}/object/list/${s.bucketId}`,o,{headers:s.headers},r),error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Z(o))return{data:null,error:o};throw o}}async listV2(e,t){var r=this;try{const s=$({},e);return{data:await Xe(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,s,{headers:r.headers},t),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const uf="2.89.0",df={"X-Client-Info":`storage-js/${uf}`};var Wx=class{constructor(e,t={},r,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=$($({},df),t),this.fetch=Va(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await dn(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await dn(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Xe(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async updateBucket(e,t){var r=this;try{return{data:await Ml(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async emptyBucket(e){var t=this;try{return{data:await Xe(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await qa(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Fx=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},df),t),this.fetch=Va(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Xe(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const s=r.toString(),o=s?`${t.url}/bucket?${s}`:`${t.url}/bucket`;return{data:await dn(t.fetch,o,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await qa(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!Ox(e))throw new Xo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Ex({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),s=this.shouldThrowOnError;return new Proxy(r,{get(o,i){const l=o[i];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(o,c),error:null}}catch(a){if(s)throw a;return{data:null,error:a}}}}})}};const Ka={"X-Client-Info":`storage-js/${uf}`,"Content-Type":"application/json"};var hf=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $e(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var Ti=class extends hf{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Hx=class extends hf{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Ga=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Vx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),qx=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const s=e.status||500,o=e;if(typeof o.json=="function")o.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||s+"";t(new Ti(vu(i),s,l))}).catch(()=>{const i=s+"";t(new Ti(o.statusText||`HTTP ${s} error`,s,i))});else{const i=s+"";t(new Ti(o.statusText||`HTTP ${s} error`,s,i))}}else t(new Hx(vu(e),e))},Kx=(e,t,r,s)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return s?(Vx(s)?(o.headers=$({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(s)):o.body=s,$($({},o),r)):o};async function Gx(e,t,r,s,o,i){return new Promise((l,c)=>{e(r,Kx(t,s,o,i)).then(a=>{if(!a.ok)throw a;if(s!=null&&s.noResolveJson)return a;const u=a.headers.get("content-type");return!u||!u.includes("application/json")?{}:a.json()}).then(a=>l(a)).catch(a=>qx(a,c,s))})}async function Le(e,t,r,s,o){return Gx(e,"POST",t,s,o,r)}var Jx=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},Ka),t),this.fetch=Ga(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Le(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await Le(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}async listIndexes(e){var t=this;try{return{data:await Le(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await Le(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}}},Qx=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},Ka),t),this.fetch=Ga(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Le(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await Le(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Le(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await Le(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Le(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}},Yx=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=$($({},Ka),t),this.fetch=Ga(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Le(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await Le(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await Le(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await Le(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}}},Xx=class extends Yx{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Zx(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Zx=class extends Jx{constructor(e,t,r,s){super(e,t,s),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new ev(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},ev=class extends Qx{constructor(e,t,r,s,o){super(e,t,o),this.vectorBucketName=r,this.indexName=s}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,$($({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},tv=class extends Wx{constructor(e,t={},r,s){super(e,t,r,s)}from(e){return new Bx(this.url,this.headers,e,this.fetch)}get vectors(){return new Xx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Fx(this.url+"/iceberg",this.headers,this.fetch)}};const ff="2.89.0",Pr=30*1e3,Ul=3,Ri=Ul*Pr,rv="http://localhost:9999",sv="supabase.auth.token",nv={"X-Client-Info":`gotrue-js/${ff}`},Bl="X-Supabase-Api-Version",pf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},ov=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,iv=10*60*1e3;class hn extends Error{constructor(t,r,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=s}}function I(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class lv extends hn{constructor(t,r,s){super(t,r,s),this.name="AuthApiError",this.status=r,this.code=s}}function av(e){return I(e)&&e.name==="AuthApiError"}class lr extends hn{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Tt extends hn{constructor(t,r,s,o){super(t,s,o),this.name=r,this.status=s}}class Ie extends Tt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function cv(e){return I(e)&&e.name==="AuthSessionMissingError"}class Sr extends Tt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bn extends Tt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Wn extends Tt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function uv(e){return I(e)&&e.name==="AuthImplicitGrantRedirectError"}class yu extends Tt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class dv extends Tt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Wl extends Tt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Oi(e){return I(e)&&e.name==="AuthRetryableFetchError"}class wu extends Tt{constructor(t,r,s){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=s}}class Fl extends Tt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Po="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bu=` 	
\r=`.split(""),hv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bu.length;t+=1)e[bu[t].charCodeAt(0)]=-2;for(let t=0;t<Po.length;t+=1)e[Po[t].charCodeAt(0)]=t;return e})();function ju(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Po[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;r(Po[s]),t.queuedBits-=6}}function mf(e,t,r){const s=hv[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _u(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},s={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},i=l=>{mv(l,s,r)};for(let l=0;l<e.length;l+=1)mf(e.charCodeAt(l),o,i);return t.join("")}function fv(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function pv(e,t){for(let r=0;r<e.length;r+=1){let s=e.charCodeAt(r);if(s>55295&&s<=56319){const o=(s-55296)*1024&65535;s=(e.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}fv(s,t)}}function mv(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Zr(e){const t=[],r={queue:0,queuedBits:0},s=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)mf(e.charCodeAt(o),r,s);return new Uint8Array(t)}function gv(e){const t=[];return pv(e,r=>t.push(r)),new Uint8Array(t)}function dr(e){const t=[],r={queue:0,queuedBits:0},s=o=>{t.push(o)};return e.forEach(o=>ju(o,r,s)),ju(null,r,s),t.join("")}function xv(e){return Math.round(Date.now()/1e3)+e}function vv(){return Symbol("auth-callback")}const me=()=>typeof window<"u"&&typeof document<"u",tr={tested:!1,writable:!1},gf=()=>{if(!me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tr.tested)return tr.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tr.tested=!0,tr.writable=!0}catch{tr.tested=!0,tr.writable=!1}return tr.writable};function yv(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,i)=>{t[i]=o})}catch{}return r.searchParams.forEach((s,o)=>{t[o]=s}),t}const xf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),wv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ar=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},rr=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pe=async(e,t)=>{await e.removeItem(t)};class Zo{constructor(){this.promise=new Zo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zo.promiseConstructor=Promise;function Pi(e){const t=e.split(".");if(t.length!==3)throw new Fl("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!ov.test(t[s]))throw new Fl("JWT not in base64url format");return{header:JSON.parse(_u(t[0])),payload:JSON.parse(_u(t[1])),signature:Zr(t[2]),raw:{header:t[0],payload:t[1]}}}async function bv(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function jv(e,t){return new Promise((s,o)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){s(l);return}}catch(l){if(!t(i,l)){o(l);return}}})()})}function _v(e){return("0"+e.toString(16)).substr(-2)}function Nv(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=r.length;let o="";for(let i=0;i<56;i++)o+=r.charAt(Math.floor(Math.random()*s));return o}return crypto.getRandomValues(t),Array.from(t,_v).join("")}async function kv(e){const r=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(s);return Array.from(o).map(i=>String.fromCharCode(i)).join("")}async function Sv(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await kv(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Er(e,t,r=!1){const s=Nv();let o=s;r&&(o+="/PASSWORD_RECOVERY"),await Ar(e,`${t}-code-verifier`,o);const i=await Sv(s);return[i,s===i?"plain":"s256"]}const Ev=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cv(e){const t=e.headers.get(Bl);if(!t||!t.match(Ev))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Tv(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Rv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ov=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Cr(e){if(!Ov.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ai(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Pv(e,t){return new Proxy(e,{get:(r,s,o)=>{if(s==="__isInsecureUserWarningProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,s,o)}return!t.value&&typeof s=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,s,o)}})}function Nu(e){return JSON.parse(JSON.stringify(e))}const or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Av=[502,503,504];async function ku(e){var t;if(!wv(e))throw new Wl(or(e),0);if(Av.includes(e.status))throw new Wl(or(e),e.status);let r;try{r=await e.json()}catch(i){throw new lr(or(i),i)}let s;const o=Cv(e);if(o&&o.getTime()>=pf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?s=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(s=r.error_code),s){if(s==="weak_password")throw new wu(or(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new Ie}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new wu(or(r),e.status,r.weak_password.reasons);throw new lv(or(r),e.status||500,s)}const Iv=(e,t,r,s)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(s),Object.assign(Object.assign({},o),r))};async function D(e,t,r,s){var o;const i=Object.assign({},s==null?void 0:s.headers);i[Bl]||(i[Bl]=pf["2024-01-01"].name),s!=null&&s.jwt&&(i.Authorization=`Bearer ${s.jwt}`);const l=(o=s==null?void 0:s.query)!==null&&o!==void 0?o:{};s!=null&&s.redirectTo&&(l.redirect_to=s.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",a=await Dv(e,t,r+c,{headers:i,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(a):{data:Object.assign({},a),error:null}}async function Dv(e,t,r,s,o,i){const l=Iv(t,s,o,i);let c;try{c=await e(r,Object.assign({},l))}catch(a){throw console.error(a),new Wl(or(a),0)}if(c.ok||await ku(c),s!=null&&s.noResolveJson)return c;try{return await c.json()}catch(a){await ku(a)}}function Qe(e){var t;let r=null;zv(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=xv(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:s},error:null}}function Su(e){const t=Qe(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,s)=>r&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $t(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function $v(e){return{data:e,error:null}}function Lv(e){const{action_link:t,email_otp:r,hashed_token:s,redirect_to:o,verification_type:i}=e,l=Yo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:s,redirect_to:o,verification_type:i},a=Object.assign({},l);return{data:{properties:c,user:a},error:null}}function Eu(e){return e}function zv(e){return e.access_token&&e.refresh_token&&e.expires_in}const Ii=["global","local","others"];class Mv{constructor({url:t="",headers:r={},fetch:s}){this.url=t,this.headers=r,this.fetch=xf(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Ii[0]){if(Ii.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ii.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(I(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:$t})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:r}=t,s=Yo(t,["options"]),o=Object.assign(Object.assign({},s),r);return"newEmail"in s&&(o.new_email=s==null?void 0:s.newEmail,delete o.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Lv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$t})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,s,o,i,l,c,a;try{const u={nextPage:null,lastPage:0,total:0},h=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Eu});if(h.error)throw h.error;const d=await h.json(),f=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,g=(a=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&a!==void 0?a:[];return g.length>0&&(g.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Cr(t);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$t})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Cr(t);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:$t})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,r=!1){Cr(t);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:$t})}catch(s){if(I(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Cr(t.userId);try{const{data:r,error:s}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:s}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Cr(t.userId),Cr(t.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,s,o,i,l,c,a;try{const u={nextPage:null,lastPage:0,total:0},h=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&s!==void 0?s:"",per_page:(i=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&i!==void 0?i:""},xform:Eu});if(h.error)throw h.error;const d=await h.json(),f=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,g=(a=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&a!==void 0?a:[];return g.length>0&&(g.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(I(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(t){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Cu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Tr={debug:!!(globalThis&&gf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Uv extends vf{}async function Bv(e,t,r){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async o=>{if(o){Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await r()}finally{Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw Tr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Uv(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Tr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Wv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function yf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Fv(e){return parseInt(e,16)}function Hv(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,s=>s.toString(16).padStart(2,"0")).join("")}function Vv(e){var t;const{chainId:r,domain:s,expirationTime:o,issuedAt:i=new Date,nonce:l,notBefore:c,requestId:a,resources:u,scheme:h,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!s)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=yf(e.address),v=h?`${h}://${s}`:s,x=e.statement?`${e.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${g}

${x}`;let p=`URI: ${d}
Version: ${f}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(o&&(p+=`
Expiration Time: ${o.toISOString()}`),c&&(p+=`
Not Before: ${c.toISOString()}`),a&&(p+=`
Request ID: ${a}`),u){let m=`
Resources:`;for(const y of u){if(!y||typeof y!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${y}`);m+=`
- ${y}`}p+=m}return`${w}
${p}`}class le extends Error{constructor({message:t,code:r,cause:s,name:o}){var i;super(t,{cause:s}),this.__isWebAuthnError=!0,this.name=(i=o??(s instanceof Error?s.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Ao extends le{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function qv({error:e,options:t}){var r,s,o;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new le({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new le({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new le({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((o=i.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new le({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new le({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new le({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new le({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(wf(l)){if(i.rp.id!==l)return new le({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new le({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Kv({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new le({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new le({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const s=window.location.hostname;if(wf(s)){if(r.rpId!==s)return new le({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new le({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new le({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new le({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Gv{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Jv=new Gv;function Qv(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:s}=e,o=Yo(e,["challenge","user","excludeCredentials"]),i=Zr(t).buffer,l=Object.assign(Object.assign({},r),{id:Zr(r.id).buffer}),c=Object.assign(Object.assign({},o),{challenge:i,user:l});if(s&&s.length>0){c.excludeCredentials=new Array(s.length);for(let a=0;a<s.length;a++){const u=s[a];c.excludeCredentials[a]=Object.assign(Object.assign({},u),{id:Zr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return c}function Yv(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,s=Yo(e,["challenge","allowCredentials"]),o=Zr(t).buffer,i=Object.assign(Object.assign({},s),{challenge:o});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];i.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Zr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function Xv(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:dr(new Uint8Array(e.response.attestationObject)),clientDataJSON:dr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Zv(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,s=e.getClientExtensionResults(),o=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:dr(new Uint8Array(o.authenticatorData)),clientDataJSON:dr(new Uint8Array(o.clientDataJSON)),signature:dr(new Uint8Array(o.signature)),userHandle:o.userHandle?dr(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:s,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function wf(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Tu(){var e,t;return!!(me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function ey(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",t)}:{data:null,error:new Ao("Empty credential response",t)}}catch(t){return{data:null,error:qv({error:t,options:e})}}}async function ty(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Ao("Browser returned unexpected credential type",t)}:{data:null,error:new Ao("Empty credential response",t)}}catch(t){return{data:null,error:Kv({error:t,options:e})}}}const ry={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},sy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Io(...e){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),s={};for(const o of e)if(o)for(const i in o){const l=o[i];if(l!==void 0)if(Array.isArray(l))s[i]=l;else if(r(l))s[i]=l;else if(t(l)){const c=s[i];t(c)?s[i]=Io(c,l):s[i]=Io(l)}else s[i]=l}return s}function ny(e,t){return Io(ry,e,t||{})}function oy(e,t){return Io(sy,e,t||{})}class iy{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:s,signal:o},i){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const a=o??Jv.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:u}=l.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${s}`),u.displayName||(u.displayName=u.name)}switch(l.webauthn.type){case"create":{const u=ny(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:h,error:d}=await ey({publicKey:u,signal:a});return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=oy(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:h,error:d}=await ty(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u,signal:a}));return h?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(l){return I(l)?{data:null,error:l}:{data:null,error:new lr("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:s}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:s})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!r)return{data:null,error:new hn("rpId is required for WebAuthn authentication")};try{if(!Tu())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:s},signal:o},{request:i});if(!l)return{data:null,error:c};const{webauthn:a}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:a.type,rpId:r,rpOrigins:s,credential_response:a.credential_response}})}catch(l){return I(l)?{data:null,error:l}:{data:null,error:new lr("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:s=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},i){if(!r)return{data:null,error:new hn("rpId is required for WebAuthn registration")};try{if(!Tu())return{data:null,error:new lr("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:c};const{data:a,error:u}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:s},signal:o},{create:i});return a?this._verify({factorId:l.id,challengeId:a.challengeId,webauthn:{rpId:r,rpOrigins:s,type:a.webauthn.type,credential_response:a.webauthn.credential_response}}):{data:null,error:u}}catch(l){return I(l)?{data:null,error:l}:{data:null,error:new lr("Unexpected error in register",l)}}}}Wv();const ly={url:rv,storageKey:sv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:nv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ru(e,t,r){return await r()}const Rr={};class fn{get jwks(){var t,r;return(r=(t=Rr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Rr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:t})}constructor(t){var r,s,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},ly),t);if(this.storageKey=i.storageKey,this.instanceID=(r=fn.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,fn.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&me()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Mv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=xf(i.fetch),this.lock=i.lock||Ru,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:this.persistSession&&me()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=Bv:this.lock=Ru,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new iy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:gf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Cu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Cu(this.memoryStorage)),me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ff}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},s="none";if(me()&&(r=yv(window.location.href),this._isImplicitGrantCallback(r)?s="implicit":await this._isPKCECallback(r)&&(s="pkce")),me()&&this.detectSessionInUrl&&s!=="none"){const{data:o,error:i}=await this._getSessionFromURL(r,s);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),uv(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:l,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new lr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,s,o;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Qe}),{data:l,error:c}=i;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const a=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:u,session:a},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,s,o;try{let i;if("email"in t){const{email:h,password:d,options:f}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Er(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:v},xform:Qe})}else if("phone"in t){const{phone:h,password:d,options:f}=t;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},channel:(o=f==null?void 0:f.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Qe})}else throw new Bn("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c||!l)return await pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const a=l.session,u=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:u,session:a},error:null})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:c}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Su})}else if("phone"in t){const{phone:i,password:l,options:c}=t;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Su})}else throw new Bn("You must provide either an email or phone number and a password");const{data:s,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!s||!s.session||!s.user){const i=new Sr;return this._returnResult({data:{user:null,session:null},error:i})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:o})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,s,o,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,s,o,i,l,c,a,u,h,d,f;let g,v;if("message"in t)g=t.message,v=t.signature;else{const{chain:x,wallet:w,statement:p,options:m}=t;let y;if(me())if(typeof w=="object")y=w;else{const E=window;if("ethereum"in E&&typeof E.ethereum=="object"&&"request"in E.ethereum&&typeof E.ethereum.request=="function")y=E.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");y=w}const j=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),_=await y.request({method:"eth_requestAccounts"}).then(E=>E).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!_||_.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const N=yf(_[0]);let b=(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.chainId;if(!b){const E=await y.request({method:"eth_chainId"});b=Fv(E)}const k={domain:j.host,address:N,statement:p,uri:j.href,version:"1",chainId:b,nonce:(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(l=(i=m==null?void 0:m.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(a=m==null?void 0:m.signInWithEthereum)===null||a===void 0?void 0:a.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=m==null?void 0:m.signInWithEthereum)===null||h===void 0?void 0:h.resources};g=Vv(k),v=await y.request({method:"personal_sign",params:[Hv(g),N]})}try{const{data:x,error:w}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Qe});if(w)throw w;if(!x||!x.session||!x.user){const p=new Sr;return this._returnResult({data:{user:null,session:null},error:p})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:Object.assign({},x),error:w})}catch(x){if(I(x))return this._returnResult({data:{user:null,session:null},error:x});throw x}}async signInWithSolana(t){var r,s,o,i,l,c,a,u,h,d,f,g;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:w,wallet:p,statement:m,options:y}=t;let j;if(me())if(typeof p=="object")j=p;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))j=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=p}const _=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in j&&j.signIn){const N=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:_.host,uri:_.href}),m?{statement:m}:null));let b;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")b=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)b=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)v=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),x=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${_.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${_.href}`,`Issued At: ${(o=(s=y==null?void 0:y.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((d=(h=y==null?void 0:y.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...y.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const N=await j.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:p}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:dr(x)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Qe});if(p)throw p;if(!w||!w.session||!w.user){const m=new Sr;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:p})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await rr(this.storage,`${this.storageKey}-code-verifier`),[s,o]=(r??"").split("/");try{if(!s&&this.flowType==="pkce")throw new dv;const{data:i,error:l}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Qe});if(await pe(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const c=new Sr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:l})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:s,token:o,access_token:i,nonce:l}=t,c=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:o,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qe}),{data:a,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!a||!a.session||!a.user){const h=new Sr;return this._returnResult({data:{user:null,session:null},error:h})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:a,error:u})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,s,o,i,l;try{if("email"in t){const{email:c,options:a}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await Er(this.storage,this.storageKey));const{error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=a==null?void 0:a.data)!==null&&r!==void 0?r:{},create_user:(s=a==null?void 0:a.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:a==null?void 0:a.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:c,options:a}=t,{data:u,error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=a==null?void 0:a.data)!==null&&o!==void 0?o:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(l=a==null?void 0:a.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new Bn("You must provide either an email or phone number.")}catch(c){if(await pe(this.storage,`${this.storageKey}-code-verifier`),I(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,s;try{let o,i;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:l,error:c}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:Qe});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const a=l.session,u=l.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),this._returnResult({data:{user:u,session:a},error:null})}catch(o){if(I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var r,s,o,i,l;try{let c=null,a=null;this.flowType==="pkce"&&([c,a]=await Er(this.storage,this.storageKey));const u=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&s!==void 0?s:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:a}),headers:this.headers,xform:$v});return!((i=u.data)===null||i===void 0)&&i.url&&me()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await pe(this.storage,`${this.storageKey}-code-verifier`),I(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;if(s)throw s;if(!r)throw new Ie;const{error:o}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(I(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:s,type:o,options:i}=t,{error:l}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:s,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:s,type:o,options:i}=t,{data:l,error:c}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:s,type:o,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new Bn("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await s,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=r();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Ri:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const l=await rr(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Ai()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=Pv(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:$t}):await this._useSession(async r=>{var s,o,i;const{data:l,error:c}=r;if(c)throw c;return!(!((s=l.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ie}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=l.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:$t})})}catch(r){if(I(r))return cv(r)&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async s=>{const{data:o,error:i}=s;if(i)throw i;if(!o.session)throw new Ie;const l=o.session;let c=null,a=null;this.flowType==="pkce"&&t.email!=null&&([c,a]=await Er(this.storage,this.storageKey));const{data:u,error:h}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:a}),jwt:l.access_token,xform:$t});if(h)throw h;return l.user=u.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(s){if(await pe(this.storage,`${this.storageKey}-code-verifier`),I(s))return this._returnResult({data:{user:null},error:s});throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ie;const r=Date.now()/1e3;let s=r,o=!0,i=null;const{payload:l}=Pi(t.access_token);if(l.exp&&(s=l.exp,o=s<=r),o){const{data:c,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:s-r,expires_at:s},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var s;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(s=l.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new Ie;const{data:o,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!me())throw new Wn("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Wn(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new yu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Wn("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new yu("No code detected.");const{data:m,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:o,access_token:i,refresh_token:l,expires_in:c,expires_at:a,token_type:u}=t;if(!i||!c||!l||!u)throw new Wn("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(c);let f=h+d;a&&(f=parseInt(a));const g=f-h;g*1e3<=Pr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const v=f-d;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,h);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const p={provider_token:s,provider_refresh_token:o,access_token:i,expires_in:d,expires_at:f,refresh_token:l,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(s){if(I(s))return this._returnResult({data:{session:null,redirectType:null},error:s});throw s}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await rr(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var s;const{data:o,error:i}=r;if(i)return this._returnResult({error:i});const l=(s=o.session)===null||s===void 0?void 0:s.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(av(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=vv(),s={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async r=>{var s,o;try{const{data:{session:i},error:l}=r;if(l)throw l;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=await Er(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await pe(this.storage,`${this.storageKey}-code-verifier`),I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:s}=await this.getUser();if(s)throw s;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:s,error:o}=await this._useSession(async i=>{var l,c,a,u,h;const{data:d,error:f}=i;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",g,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(o)throw o;return me()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),this._returnResult({data:{provider:t.provider,url:s==null?void 0:s.url},error:null})}catch(s){if(I(s))return this._returnResult({data:{provider:t.provider,url:null},error:s});throw s}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var s;try{const{error:o,data:{session:i}}=r;if(o)throw o;const{options:l,provider:c,token:a,access_token:u,nonce:h}=t,d=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(s=i==null?void 0:i.access_token)!==null&&s!==void 0?s:void 0,body:{provider:c,id_token:a,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Qe}),{data:f,error:g}=d;return g?this._returnResult({data:{user:null,session:null},error:g}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new Sr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:g}))}catch(o){if(await pe(this.storage,`${this.storageKey}-code-verifier`),I(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var s,o;const{data:i,error:l}=r;if(l)throw l;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const s=Date.now();return await jv(async o=>(o>0&&await bv(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qe})),(o,i)=>{const l=200*Math.pow(2,o);return i&&Oi(i)&&Date.now()+l-s<Pr})}catch(s){if(this._debug(r,"error",s),I(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",s),me()&&!r.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,r;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const o=await rr(this.storage,this.storageKey);if(o&&this.userStorage){let l=await rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:o.user},await Ar(this.userStorage,this.storageKey+"-user",l)),o.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Ai()}else if(o&&!o.user&&!o.user){const l=await rr(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(o.user=l.user,await pe(this.storage,this.storageKey+"-user"),await Ar(this.storage,this.storageKey,o)):o.user=Ai()}if(this._debug(s,"session from storage",o),!this._isValidSession(o)){this._debug(s,"session is not valid"),o!==null&&await this._removeSession();return}const i=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Ri;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${Ri}s`),i){if(this.autoRefreshToken&&o.refresh_token){const{error:l}=await this._callRefreshToken(o.refresh_token);l&&(console.error(l),Oi(l)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(o.access_token);!c&&(l!=null&&l.user)?(o.user=l.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(s,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(s,"error",o),console.error(o);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var r,s;if(!t)throw new Ie;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Zo;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Ie;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(o,"error",i),I(i)){const l={data:null,error:i};return Oi(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,r,s=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(a){i.push(a)}});if(await Promise.all(l),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),s=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&r.user&&await Ar(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const i=Nu(o);await Ar(this.storage,this.storageKey,i)}else{const o=Nu(r);await Ar(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pe(this.storage,this.storageKey),await pe(this.storage,this.storageKey+"-code-verifier"),await pe(this.storage,this.storageKey+"-user"),this.userStorage&&await pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Pr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:s}}=r;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((s.expires_at*1e3-t)/Pr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Pr}ms, refresh threshold is ${Ul} ticks`),o<=Ul&&await this._callRefreshToken(s.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,s){const o=[`provider=${encodeURIComponent(r)}`];if(s!=null&&s.redirectTo&&o.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&o.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[i,l]=await Er(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});o.push(c.toString())}if(s!=null&&s.queryParams){const i=new URLSearchParams(s.queryParams);o.push(i.toString())}return s!=null&&s.skipBrowserRedirect&&o.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var s;const{data:o,error:i}=r;return i?this._returnResult({data:null,error:i}):await D(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var s,o;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:a,error:u}=await D(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(s=i==null?void 0:i.session)===null||s===void 0?void 0:s.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&a.type==="totp"&&(!((o=a==null?void 0:a.totp)===null||o===void 0)&&o.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),this._returnResult({data:a,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?Xv(t.webauthn.credential_response):Zv(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});return a?this._returnResult({data:null,error:a}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:a}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var s;const{data:o,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=await D(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(s=o==null?void 0:o.session)===null||s===void 0?void 0:s.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Qv(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Yv(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:s}=await this._challenge({factorId:t.factorId});return s?this._returnResult({data:null,error:s}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:s}=await this.getUser();if(s)return{data:null,error:s};const o={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])o.all.push(i),i.status==="verified"&&o[i.factor_type].push(i);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:s},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Pi(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(t=s.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:s.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Ie})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:o},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new Ie});const l=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}async _denyAuthorization(t,r){try{return await this._useSession(async s=>{const{data:{session:o},error:i}=s;if(i)return this._returnResult({data:null,error:i});if(!o)return this._returnResult({data:null,error:new Ie});const l=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:s}=t;return s?this._returnResult({data:null,error:s}):r?await D(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Ie})})}catch(t){if(I(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;return o?this._returnResult({data:null,error:o}):s?(await D(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Ie})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let s=r.keys.find(c=>c.kid===t);if(s)return s;const o=Date.now();if(s=this.jwks.keys.find(c=>c.kid===t),s&&this.jwks_cached_at+iv>o)return s;const{data:i,error:l}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=o,s=i.keys.find(c=>c.kid===t),!s)?null:s}async getClaims(t,r={}){try{let s=t;if(!s){const{data:g,error:v}=await this.getSession();if(v||!g.session)return this._returnResult({data:null,error:v});s=g.session.access_token}const{header:o,payload:i,signature:l,raw:{header:c,payload:a}}=Pi(s);r!=null&&r.allowExpired||Tv(i.exp);const u=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(s);if(g)throw g;return{data:{claims:i,header:o,signature:l},error:null}}const h=Rv(o.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,l,gv(`${c}.${a}`)))throw new Fl("Invalid JWT signature");return{data:{claims:i,header:o,signature:l},error:null}}catch(s){if(I(s))return this._returnResult({data:null,error:s});throw s}}}fn.nextInstanceID={};const ay=fn,cy="2.89.0";let Ts="";typeof Deno<"u"?Ts="deno":typeof document<"u"?Ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ts="react-native":Ts="node";const uy={"X-Client-Info":`supabase-js-${Ts}/${cy}`},dy={headers:uy},hy={schema:"public"},fy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},py={};function pn(e){"@babel/helpers - typeof";return pn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pn(e)}function my(e,t){if(pn(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var s=r.call(e,t);if(pn(s)!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gy(e){var t=my(e,"string");return pn(t)=="symbol"?t:t+""}function xy(e,t,r){return(t=gy(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ou(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,s)}return r}function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ou(Object(r),!0).forEach(function(s){xy(e,s,r[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ou(Object(r)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(r,s))})}return e}const vy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),yy=()=>Headers,wy=(e,t,r)=>{const s=vy(r),o=yy();return async(i,l)=>{var c;const a=(c=await t())!==null&&c!==void 0?c:e;let u=new o(l==null?void 0:l.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${a}`),s(i,se(se({},l),{},{headers:u}))}};function by(e){return e.endsWith("/")?e:e+"/"}function jy(e,t){var r,s;const{db:o,auth:i,realtime:l,global:c}=e,{db:a,auth:u,realtime:h,global:d}=t,f={db:se(se({},a),o),auth:se(se({},u),i),realtime:se(se({},h),l),storage:{},global:se(se(se({},d),c),{},{headers:se(se({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(s=c==null?void 0:c.headers)!==null&&s!==void 0?s:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function _y(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(by(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Ny=class extends ay{constructor(e){super(e)}},ky=class{constructor(e,t,r){var s,o;this.supabaseUrl=e,this.supabaseKey=t;const i=_y(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const l=`sb-${i.hostname.split(".")[0]}-auth-token`,c={db:hy,realtime:py,auth:se(se({},fy),{},{storageKey:l}),global:dy},a=jy(r??{},c);if(this.storageKey=(s=a.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=a.global.headers)!==null&&o!==void 0?o:{},a.accessToken)this.accessToken=a.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=a.auth)!==null&&u!==void 0?u:{},this.headers,a.global.fetch)}this.fetch=wy(t,this._getAccessToken.bind(this),a.global.fetch),this.realtime=this._initRealtimeClient(se({headers:this.headers,accessToken:this._getAccessToken.bind(this)},a.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new nx(new URL("rest/v1",i).href,{headers:this.headers,schema:a.db.schema,fetch:this.fetch}),this.storage=new tv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),a.accessToken||this._listenForAuthEvents()}get functions(){return new Zg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:s}=await e.auth.getSession();return(t=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:i,flowType:l,lock:c,debug:a,throwOnError:u},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Ny({url:this.authUrl.href,headers:se(se({},f),h),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:s,userStorage:o,flowType:l,lock:c,debug:a,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new bx(this.realtimeUrl.href,se(se({},e),{},{params:se(se({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Sy=(e,t,r)=>new ky(e,t,r);function Ey(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ey()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Cy="https://udiskjjuszutgpvkogzw.supabase.co",Ty="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVkaXNramp1c3p1dGdwdmtvZ3p3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5OTQ3NTQsImV4cCI6MjA4MTU3MDc1NH0.StYBeyYIVUqiknAnl-bRY7hICoOYH5B2sRau7ginbKg",B=Sy(Cy,Ty);function Di(e){return{id:e.id,title:e.title,slug:e.slug,keyframeImage:e.keyframe_image,shortDescription:e.short_description,badge:e.badge,metricValue:e.metric_value,metricLabel:e.metric_label,showOnWorkPage:e.show_on_work_page,showOnHomepage:e.show_on_homepage,order:e.order,summary:e.summary??"",problem:e.problem??"",objective:e.objective??"",ourActions:e.our_actions??"",results:e.results??"",resultMetrics:e.result_metrics??void 0,liveWebsiteUrl:e.live_website_url??void 0}}function $i(e){return{id:e.id,name:e.name,role:e.role,company:e.company,quote:e.quote,image:e.image??void 0,order:e.order,showOnHomepage:e.show_on_homepage}}function Li(e){return{id:e.id,value:e.value,label:e.label,order:e.order}}function zi(e){return{id:e.id,firstName:e.first_name,lastName:e.last_name,businessName:e.business_name??void 0,email:e.email,phone:e.phone??void 0,message:e.message,bookedConsult:e.booked_consult,calendlyEventUri:e.calendly_event_uri??void 0,createdAt:e.created_at}}function Ry(e){return{title:e.title,slug:e.slug,keyframe_image:e.keyframeImage,short_description:e.shortDescription,badge:e.badge,metric_value:e.metricValue,metric_label:e.metricLabel,show_on_work_page:e.showOnWorkPage,show_on_homepage:e.showOnHomepage,order:e.order,summary:e.summary??null,problem:e.problem??null,objective:e.objective??null,our_actions:e.ourActions??null,results:e.results??null,result_metrics:e.resultMetrics??null,live_website_url:e.liveWebsiteUrl??null}}function Oy(e){return{name:e.name,role:e.role,company:e.company,quote:e.quote,image:e.image??null,order:e.order,show_on_homepage:e.showOnHomepage}}function Py(e){return{value:e.value,label:e.label,order:e.order}}function Ay(e){return{first_name:e.firstName,last_name:e.lastName,business_name:e.businessName??null,email:e.email,phone:e.phone??null,website:e.website??null,message:e.message,booked_consult:e.bookedConsult,calendly_event_uri:e.calendlyEventUri??null}}function Mi(e){return{id:e.id,siteId:e.site_id,siteName:e.site_name,primaryDomain:e.primary_domain,environment:e.environment,clientId:e.client_id??void 0,subscriptionTier:e.subscription_tier,status:e.status,siteSecret:e.site_secret??void 0,clientEmail:e.client_email??void 0,internalEmail:e.internal_email,lastDeployAt:e.last_deploy_at??void 0,deploySuppressionMinutes:e.deploy_suppression_minutes,createdAt:e.created_at,updatedAt:e.updated_at,trialStartDate:e.trial_start_date??void 0,trialEndDate:e.trial_end_date??void 0,cmsTable:e.cms_table??void 0,formsTable:e.forms_table??void 0}}function Iy(e){return{site_id:e.siteId,site_name:e.siteName,primary_domain:e.primaryDomain,environment:e.environment,client_id:e.clientId??null,subscription_tier:e.subscriptionTier,status:e.status??"active",site_secret:e.siteSecret??null,client_email:e.clientEmail??null,internal_email:e.internalEmail,last_deploy_at:e.lastDeployAt??null,deploy_suppression_minutes:e.deploySuppressionMinutes??15,trial_start_date:e.trialStartDate??null,trial_end_date:e.trialEndDate??null,cms_table:e.cmsTable??null,forms_table:e.formsTable??null}}function bf(e){return{id:e.id,siteId:e.site_id,checkType:e.check_type,target:e.target,intervalMinutes:e.interval_minutes,enabled:e.enabled,createdAt:e.created_at,updatedAt:e.updated_at}}function Dy(e){return{id:e.id,checkId:e.check_id,siteId:e.site_id,createdAt:e.created_at,result:e.result,httpStatus:e.http_status??void 0,errorMessage:e.error_message??void 0,latencyMs:e.latency_ms??void 0,rawPayload:e.raw_payload??void 0,checkType:e.check_type,target:e.target}}function $y(e){return{id:e.id,siteId:e.site_id,healthCheckId:e.health_check_id??void 0,severity:e.severity,status:e.status,title:e.title,description:e.description??void 0,createdAt:e.created_at,updatedAt:e.updated_at,resolvedAt:e.resolved_at??void 0,autoResolved:e.auto_resolved}}function Ly(e){return{id:e.id,siteId:e.site_id,level:e.level,message:e.message,stack:e.stack??void 0,context:e.context??void 0,createdAt:e.created_at}}async function Pu(e){try{const{data:t,error:r}=await B.functions.invoke("send-lead-email",{body:e});if(r){console.warn("Email sending failed (non-critical):",r);return}t&&console.log("Email sent successfully:",t)}catch(t){console.warn("Email sending failed (non-critical):",t)}}const Fn=new Map;function jf(){const[e,t]=S.useState([]),[r,s]=S.useState(!0),[o,i]=S.useState(null),l=async()=>{try{s(!0),i(null);const{data:h,error:d}=await B.from("leads").select("*").order("created_at",{ascending:!1});if(d)throw d;const f=h.map(zi);t(f)}catch(h){i(h instanceof Error?h:new Error("Failed to fetch leads")),console.error("Error fetching leads:",h)}finally{s(!1)}};return S.useEffect(()=>{l()},[]),{leads:e,loading:r,error:o,refetch:l,addLead:async h=>{try{const d=Ay(h),{data:f,error:g}=await B.from("leads").insert([d]).select().single();if(g)throw console.error("Database error adding lead:",g),g;const v=zi(f);if(t(x=>[v,...x]),!v.bookedConsult){const x=setTimeout(()=>{Pu({to:v.email,firstName:v.firstName,lastName:v.lastName,businessName:v.businessName||void 0,website:v.website||void 0,message:v.message||void 0,bookedConsult:!1}).catch(w=>{console.warn("Failed to send email after lead creation (non-critical):",w)}),Fn.delete(v.id)},18e5);Fn.set(v.id,x)}return v}catch(d){throw console.error("Error adding lead:",d),d}},updateLead:async(h,d)=>{try{const f=e.find(m=>m.id===h),g=f&&!f.bookedConsult&&d.bookedConsult===!0,v={};d.firstName!==void 0&&(v.first_name=d.firstName),d.lastName!==void 0&&(v.last_name=d.lastName),d.businessName!==void 0&&(v.business_name=d.businessName??null),d.email!==void 0&&(v.email=d.email),d.phone!==void 0&&(v.phone=d.phone??null),d.website!==void 0&&(v.website=d.website??null),d.message!==void 0&&(v.message=d.message),d.bookedConsult!==void 0&&(v.booked_consult=d.bookedConsult),d.calendlyEventUri!==void 0&&(v.calendly_event_uri=d.calendlyEventUri??null);const{data:x,error:w}=await B.from("leads").update(v).eq("id",h).select().single();if(w)throw w;const p=zi(x);if(t(m=>m.map(y=>y.id===h?p:y)),g){const m=Fn.get(h);m&&(clearTimeout(m),Fn.delete(h)),setTimeout(()=>{Pu({to:p.email,firstName:p.firstName,lastName:p.lastName,businessName:p.businessName||void 0,website:p.website||void 0,message:p.message||void 0,bookedConsult:!0}).catch(y=>{console.warn("Failed to send email after booking confirmation (non-critical):",y)})},0)}return p}catch(f){throw console.error("Error updating lead:",f),f}},deleteLead:async h=>{try{const{error:d}=await B.from("leads").delete().eq("id",h);if(d)throw d;t(f=>f.filter(g=>g.id!==h))}catch(d){throw console.error("Error deleting lead:",d),d}}}}function jr({isOpen:e,onClose:t}){const[r,s]=S.useState(1),[o,i]=S.useState(null),[l,c]=S.useState(!1),[a,u]=S.useState(!1),h=S.useRef(null),{addLead:d,updateLead:f}=jf(),[g,v]=S.useState({firstName:"",lastName:"",businessName:"",website:"",email:"",phone:"",message:""}),x=_=>{v({...g,[_.target.name]:_.target.value})},w=async _=>{_.preventDefault();try{c(!0);const N=await d({firstName:g.firstName,lastName:g.lastName,businessName:g.businessName||void 0,website:g.website||void 0,email:g.email,phone:g.phone||void 0,message:g.message,bookedConsult:!1});i(N.id),s(r+1)}catch(N){console.error("Error saving lead:",N);const b=N instanceof Error?N.message:typeof N=="object"&&N!==null&&"message"in N?String(N.message):"Unknown error";alert(`There was an error saving your information: ${b}. Please try again or contact support.`)}finally{c(!1)}},p=()=>{s(1),i(null),u(!1),v({firstName:"",lastName:"",businessName:"",website:"",email:"",phone:"",message:""}),t()},m=async _=>{var N;if(o)try{await f(o,{bookedConsult:!0,calendlyEventUri:((N=_.event)==null?void 0:N.uri)||void 0}),u(!0)}catch(b){console.error("Error updating lead with booking:",b)}};S.useEffect(()=>{const _=N=>{N.data.event&&N.data.event.indexOf("calendly")===0&&N.data.event==="calendly.event_scheduled"&&m(N.data.payload)};return window.addEventListener("message",_),()=>{window.removeEventListener("message",_)}},[o]),S.useEffect(()=>{if(r===2&&!document.querySelector('script[src*="calendly.com"]')){const _=document.createElement("script");_.src="https://assets.calendly.com/assets/external/widget.js",_.async=!0,_.onerror=()=>{console.error("Failed to load Calendly script")},document.body.appendChild(_)}},[r]);const y=()=>{s(3)},j=()=>{s(3)};return n.jsx(Jg,{isOpen:e,onClose:p,size:r===2?"large":"default",children:n.jsxs("div",{className:"p-12 rounded-[16px]",children:[n.jsx("div",{className:"text-left mb-8",children:n.jsx("div",{className:"inline-flex items-center gap-3 mb-2",children:n.jsx("img",{src:Gh,alt:"DoneWell",className:"h-8 w-auto"})})}),r===1&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-left mb-2 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Let's Get Started"}),n.jsx("p",{className:"text-left text-[--color-stone-600] mb-[24px] mt-[0px] mr-[0px] ml-[0px] pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"Tell us about your project and we'll be in touch within 24 hours."}),n.jsxs("form",{onSubmit:w,className:"space-y-5",children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"First Name *"}),n.jsx("input",{type:"text",name:"firstName",value:g.firstName,onChange:x,required:!0,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Last Name *"}),n.jsx("input",{type:"text",name:"lastName",value:g.lastName,onChange:x,required:!0,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Business Name"}),n.jsx("input",{type:"text",name:"businessName",value:g.businessName,onChange:x,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Website"}),n.jsx("input",{type:"url",name:"website",value:g.website,onChange:x,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]",placeholder:"https://example.com"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Email Address *"}),n.jsx("input",{type:"email",name:"email",value:g.email,onChange:x,required:!0,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Phone Number"}),n.jsx("input",{type:"tel",name:"phone",value:g.phone,onChange:x,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"How can we help? *"}),n.jsx("textarea",{name:"message",value:g.message,onChange:x,required:!0,rows:5,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E] resize-none",placeholder:"Tell us about your project, timeline, and goals..."})]}),n.jsx(ct,{type:"submit",variant:"primary",size:"large",className:"w-full",disabled:l,children:l?"Saving...":"Continue "})]})]}),r===2&&n.jsxs("div",{children:[n.jsx("h3",{className:"text-center mb-2",children:"Book Your Free Consultation"}),n.jsx("p",{className:"text-center text-[--color-stone-600] mb-8",children:"Choose a time that works best for you."}),n.jsx("div",{ref:h,className:"calendly-inline-widget mb-8 overflow-hidden","data-url":"https://calendly.com/contact-donewellco/30min?primary_color=1e5743",style:{minWidth:"100%",minHeight:"500px",width:"100%",height:"500px"}}),n.jsxs("div",{className:"flex gap-4",children:[n.jsx(ct,{variant:"secondary",size:"large",className:"flex-1",onClick:y,children:"Skip for Now"}),a&&n.jsx(ct,{variant:"primary",size:"large",className:"flex-1",onClick:j,children:"Continue"})]})]}),r===3&&n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[--color-forest-100] to-[--color-sage-100] flex items-center justify-center mx-auto mb-6",children:n.jsx(bt,{size:40,className:"text-[--color-forest-600]"})}),n.jsx("h3",{className:"mb-4",children:"Thanks  We'll Reach Out Shortly!"}),a?n.jsx("p",{className:"text-xl text-[--color-stone-600] mb-8 max-w-md mx-auto",children:"We've received your information and we'll see you at your scheduled time!"}):n.jsx("p",{className:"text-xl text-[--color-stone-600] mb-8 max-w-md mx-auto",children:"We've received your information and will get back to you within 24 hours with next steps."}),n.jsx(ct,{variant:"primary",size:"large",onClick:p,children:"Back to Site"}),n.jsx("p",{className:"text-sm text-[--color-stone-500] mt-6",children:a?"Check your email for calendar confirmation and meeting details.":"Check your email for a confirmation message."})]})]})})}function Jt({title:e="DoneWell  Web and App Builds, DoneWell",description:t="We turn your vision into professional websites and apps that your customers will love  without the tech headaches. Average 14-day delivery.",image:r="https://udiskjjuszutgpvkogzw.supabase.co/storage/v1/object/public/site-assets/Homepage/OG.png",url:s="https://donewellco.com",type:o="website",keywords:i="website design, web development, custom websites, business websites, donewell, web design agency",noindex:l=!1}){return S.useEffect(()=>{const c=window.location.pathname,a=`${s}${c==="/"?"":c}`,u=e.includes("DoneWell")?e:`${e} | DoneWell`,h=e==="DoneWell  Web and App Builds, DoneWell"?"Your idea. Built right. Delivered fast.":e;document.title=u;const d=(g,v,x=!1)=>{const w=x?"property":"name";let p=document.querySelector(`meta[${w}="${g}"]`);p||(p=document.createElement("meta"),p.setAttribute(w,g),document.head.appendChild(p)),p.setAttribute("content",v)};d("description",t),d("keywords",i),d("title",u),d("robots",l?"noindex, nofollow":"index, follow"),d("og:type",o,!0),d("og:title",h,!0),d("og:description",t,!0),d("og:image",r,!0),d("og:url",a,!0),d("og:site_name","DoneWell",!0),d("twitter:card","summary_large_image"),d("twitter:domain","donewellco.com",!0),d("twitter:url",a,!0),d("twitter:title",h),d("twitter:description",t),d("twitter:image",r);let f=document.querySelector('link[rel="canonical"]');f||(f=document.createElement("link"),f.setAttribute("rel","canonical"),document.head.appendChild(f)),f.setAttribute("href",a)},[e,t,r,s,o,i,l]),null}function _f({onExploreClick:e,exploreHref:t,introText:r,showHeader:s=!0,showCTA:o=!0}){const i=[{filename:"stripe.png",name:"Stripe",alt:"Stripe payments integration"},{filename:"google.png",name:"Google",alt:"Google services integration"},{filename:"supabase.png",name:"Supabase",alt:"Supabase database and backend services"},{filename:"resend.png",name:"Resend",alt:"Resend email delivery service"},{filename:"wordpress.png",name:"WordPress",alt:"WordPress content management"},{filename:"mapbox.png",name:"Mapbox",alt:"Mapbox mapping and location services"},{filename:"spotify.png",name:"Spotify",alt:"Spotify music integration"},{filename:"chrome.png",name:"Chrome",alt:"Chrome browser compatibility"},{filename:"medium.png",name:"Medium",alt:"Medium content platform"},{filename:"openweather.png",name:"OpenWeather",alt:"OpenWeather API integration"}];return n.jsx("section",{className:"py-24 bg-white","aria-label":"Integration partners",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[s&&n.jsxs("div",{className:"text-center mb-16 max-w-3xl mx-auto",children:[n.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-forest-700] mb-4 border border-[--color-stone-200]",children:"INTEGRATIONS"}),n.jsx("h2",{className:"text-4xl md:text-5xl font-semibold text-[--color-forest-700] mb-6 leading-tight",children:"Built to fit your business  not a template."}),n.jsx("p",{className:"text-xl text-[--color-stone-700] leading-relaxed",children:"We design and build custom systems that connect the tools you already use, and automate the ones you shouldn't have to think about."})]}),n.jsxs("div",{className:s?"mb-12":"mb-12 mt-8",children:[r&&n.jsx("div",{className:"text-center mb-8 max-w-3xl mx-auto",children:n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed",children:r})}),n.jsx("div",{className:`
            grid 
            grid-cols-2 
            sm:grid-cols-3 
            md:grid-cols-4 
            lg:grid-cols-5 
            gap-4 
            max-w-6xl 
            mx-auto
          `,children:i.map((l,c)=>n.jsx("div",{className:`
                  flex 
                  items-center 
                  justify-center 
                  p-5 
                  bg-[--color-sage-50] 
                  rounded-lg 
                  border 
                  border-[--color-stone-200] 
                  hover:border-[--color-sage-300] 
                  transition-all 
                  duration-300 
                  hover:shadow-sm
                  aspect-square
                `,children:n.jsx("img",{src:`/integration-logos/${l.filename}`,alt:l.alt,className:`
                    h-[100px] 
                    w-auto 
                    object-contain 
                    opacity-80 
                    hover:opacity-100 
                    transition-opacity 
                    duration-300
                  `,loading:"lazy",height:"100"})},c))}),n.jsx("div",{className:"text-center mt-8",children:n.jsx("p",{className:"text-base text-[--color-stone-600]",children:"And many more  if you use it, we can connect it."})})]}),o&&(e||t)&&n.jsx("div",{className:"text-center",children:t?n.jsxs("a",{href:t,className:`
                  inline-flex 
                  items-center 
                  gap-2 
                  px-8 
                  py-4 
                  bg-[--color-forest-700] 
                  text-white 
                  rounded-lg 
                  hover:bg-[--color-forest-800] 
                  transition-colors 
                  font-semibold 
                  shadow-sm 
                  hover:shadow-md
                `,"aria-label":"Explore our capabilities",children:["Explore our capabilities",n.jsx(Co,{className:"w-5 h-5","aria-hidden":"true"})]}):n.jsxs("button",{onClick:e,className:`
                  inline-flex 
                  items-center 
                  gap-2 
                  px-8 
                  py-4 
                  bg-[--color-forest-700] 
                  text-white 
                  rounded-lg 
                  hover:bg-[--color-forest-800] 
                  transition-colors 
                  font-semibold 
                  shadow-sm 
                  hover:shadow-md
                `,"aria-label":"Explore our capabilities",children:["Explore our capabilities",n.jsx(Co,{className:"w-5 h-5","aria-hidden":"true"})]})})]})})}function zy(){const[e,t]=S.useState([]),[r,s]=S.useState(!0),[o,i]=S.useState(null),l=async()=>{try{s(!0),i(null);const{data:h,error:d}=await B.from("projects").select("*").order("order",{ascending:!0});if(d)throw d;console.log("Raw Supabase data:",h);const f=h.map(Di);console.log("Transformed projects:",f),t(f)}catch(h){i(h instanceof Error?h:new Error("Failed to fetch projects")),console.error("Error fetching projects:",h)}finally{s(!1)}};return S.useEffect(()=>{l()},[]),{projects:e,loading:r,error:o,refetch:l,addProject:async h=>{try{const d=Ry(h),{data:f,error:g}=await B.from("projects").insert([d]).select().single();if(g)throw g;const v=Di(f);return t(x=>[...x,v].sort((w,p)=>w.order-p.order)),v}catch(d){throw console.error("Error adding project:",d),d}},updateProject:async(h,d)=>{try{const f={};d.title!==void 0&&(f.title=d.title),d.slug!==void 0&&(f.slug=d.slug),d.keyframeImage!==void 0&&(f.keyframe_image=d.keyframeImage),d.shortDescription!==void 0&&(f.short_description=d.shortDescription),d.badge!==void 0&&(f.badge=d.badge),d.metricValue!==void 0&&(f.metric_value=d.metricValue),d.metricLabel!==void 0&&(f.metric_label=d.metricLabel),d.showOnWorkPage!==void 0&&(f.show_on_work_page=d.showOnWorkPage),d.showOnHomepage!==void 0&&(f.show_on_homepage=d.showOnHomepage),d.order!==void 0&&(f.order=d.order),d.summary!==void 0&&(f.summary=d.summary??null),d.problem!==void 0&&(f.problem=d.problem??null),d.objective!==void 0&&(f.objective=d.objective??null),d.ourActions!==void 0&&(f.our_actions=d.ourActions??null),d.results!==void 0&&(f.results=d.results??null),d.resultMetrics!==void 0&&(f.result_metrics=d.resultMetrics??null),d.liveWebsiteUrl!==void 0&&(f.live_website_url=d.liveWebsiteUrl??null);const{data:g,error:v}=await B.from("projects").update(f).eq("id",h).select().single();if(v)throw v;const x=Di(g);return t(w=>w.map(p=>p.id===h?x:p).sort((p,m)=>p.order-m.order)),x}catch(f){throw console.error("Error updating project:",f),f}},deleteProject:async h=>{try{const{error:d}=await B.from("projects").delete().eq("id",h);if(d)throw d;t(f=>f.filter(g=>g.id!==h))}catch(d){throw console.error("Error deleting project:",d),d}}}}function My(){const[e,t]=S.useState([]),[r,s]=S.useState(!0),[o,i]=S.useState(null),l=async()=>{try{s(!0),i(null);const{data:h,error:d}=await B.from("testimonials").select("*").order("order",{ascending:!0});if(d)throw d;const f=h.map($i);t(f)}catch(h){i(h instanceof Error?h:new Error("Failed to fetch testimonials")),console.error("Error fetching testimonials:",h)}finally{s(!1)}};return S.useEffect(()=>{l()},[]),{testimonials:e,loading:r,error:o,refetch:l,addTestimonial:async h=>{try{const d=Oy(h),{data:f,error:g}=await B.from("testimonials").insert([d]).select().single();if(g)throw g;const v=$i(f);return t(x=>[...x,v].sort((w,p)=>w.order-p.order)),v}catch(d){throw console.error("Error adding testimonial:",d),d}},updateTestimonial:async(h,d)=>{try{const f={};d.name!==void 0&&(f.name=d.name),d.role!==void 0&&(f.role=d.role),d.company!==void 0&&(f.company=d.company),d.quote!==void 0&&(f.quote=d.quote),d.image!==void 0&&(f.image=d.image??null),d.order!==void 0&&(f.order=d.order),d.showOnHomepage!==void 0&&(f.show_on_homepage=d.showOnHomepage);const{data:g,error:v}=await B.from("testimonials").update(f).eq("id",h).select().single();if(v)throw v;const x=$i(g);return t(w=>w.map(p=>p.id===h?x:p).sort((p,m)=>p.order-m.order)),x}catch(f){throw console.error("Error updating testimonial:",f),f}},deleteTestimonial:async h=>{try{const{error:d}=await B.from("testimonials").delete().eq("id",h);if(d)throw d;t(f=>f.filter(g=>g.id!==h))}catch(d){throw console.error("Error deleting testimonial:",d),d}}}}function Uy(){const[e,t]=S.useState([]),[r,s]=S.useState(!0),[o,i]=S.useState(null),l=async()=>{try{s(!0),i(null);const{data:h,error:d}=await B.from("metrics").select("*").order("order",{ascending:!0});if(d)throw d;const f=h.map(Li);t(f)}catch(h){i(h instanceof Error?h:new Error("Failed to fetch metrics")),console.error("Error fetching metrics:",h)}finally{s(!1)}};return S.useEffect(()=>{l()},[]),{metrics:e,loading:r,error:o,refetch:l,addMetric:async h=>{try{const d=Py(h),{data:f,error:g}=await B.from("metrics").insert([d]).select().single();if(g)throw g;const v=Li(f);return t(x=>[...x,v].sort((w,p)=>w.order-p.order)),v}catch(d){throw console.error("Error adding metric:",d),d}},updateMetric:async(h,d)=>{try{const f={};d.value!==void 0&&(f.value=d.value),d.label!==void 0&&(f.label=d.label),d.order!==void 0&&(f.order=d.order);const{data:g,error:v}=await B.from("metrics").update(f).eq("id",h).select().single();if(v)throw v;const x=Li(g);return t(w=>w.map(p=>p.id===h?x:p).sort((p,m)=>p.order-m.order)),x}catch(f){throw console.error("Error updating metric:",f),f}},deleteMetric:async h=>{try{const{error:d}=await B.from("metrics").delete().eq("id",h);if(d)throw d;t(f=>f.filter(g=>g.id!==h))}catch(d){throw console.error("Error deleting metric:",d),d}}}}const Nf=S.createContext(void 0);function By({children:e}){const[t,r]=S.useState(!1),[s,o]=S.useState(!0),i=zy(),l=My(),c=Uy(),a=jf();S.useEffect(()=>{(async()=>{try{const{data:{session:b}}=await B.auth.getSession();r(!!b)}catch(b){console.error("Error checking auth:",b),r(!1)}finally{o(!1)}})();const{data:{subscription:N}}=B.auth.onAuthStateChange((b,k)=>{r(!!k)});return()=>{N.unsubscribe()}},[]);const u=async(_,N)=>{try{const{data:b,error:k}=await B.auth.signInWithPassword({email:_,password:N});return k?(console.error("Login error:",k),!1):(r(!!b.session),!0)}catch(b){return console.error("Login error:",b),!1}},h=async()=>{try{await B.auth.signOut(),r(!1)}catch(_){console.error("Logout error:",_)}},d=async _=>{await i.addProject(_)},f=async(_,N)=>{await i.updateProject(_,N)},g=async _=>{await i.deleteProject(_)},v=async _=>{await l.addTestimonial(_)},x=async(_,N)=>{await l.updateTestimonial(_,N)},w=async _=>{await l.deleteTestimonial(_)},p=async _=>{await c.addMetric(_)},m=async(_,N)=>{await c.updateMetric(_,N)},y=async _=>{await c.deleteMetric(_)},j=async _=>{await a.deleteLead(_)};return n.jsx(Nf.Provider,{value:{isAuthenticated:t,login:u,logout:h,loading:s||i.loading||l.loading||c.loading||a.loading,projects:i.projects,addProject:d,updateProject:f,deleteProject:g,testimonials:l.testimonials,addTestimonial:v,updateTestimonial:x,deleteTestimonial:w,metrics:c.metrics,addMetric:p,updateMetric:m,deleteMetric:y,leads:a.leads,deleteLead:j},children:e})}function ht(){const e=S.useContext(Nf);if(e===void 0)throw new Error("useAdmin must be used within an AdminProvider");return e}function Wy({onGetStartedClick:e,isModalOpen:t,onModalClose:r}){const{projects:s,testimonials:o,metrics:i}=ht(),l=s.filter(u=>u.showOnHomepage).sort((u,h)=>u.order-h.order).slice(0,3),c=o.filter(u=>u.showOnHomepage).sort((u,h)=>u.order-h.order).slice(0,3),a=[...i].sort((u,h)=>u.order-h.order);return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(Jt,{description:"We turn your vision into professional websites and apps that your customers will love  without the tech headaches. Average 14-day delivery.",url:"https://donewellco.com"}),n.jsx(St,{onGetStartedClick:e}),n.jsxs("section",{className:"relative bg-gradient-to-br from-[--color-sage-50] via-white to-[--color-forest-50] overflow-hidden",children:[n.jsx("div",{className:"max-w-7xl mx-auto px-[24px] md:py-28 py-[64px] pt-[40px] pr-[24px] pb-[64px] pl-[24px]",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[n.jsxs("div",{className:"max-w-2xl",children:[n.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-[--color-sage-100] to-[--color-forest-100] rounded-full mb-6 animate-pulse",children:[n.jsx("div",{className:"w-2 h-2 rounded-full bg-[#1a4d2e]"}),n.jsx("span",{className:"text-sm tracking-wide text-[--color-forest-700]",children:" Projects Launched in 14 Days or Less"})]}),n.jsx("h1",{className:"mb-6 bg-gradient-to-br from-[--color-navy-900] via-[--color-forest-800] to-[--color-sage-700] bg-clip-text text-transparent",children:"Your Idea. Built Right. Delivered Fast."}),n.jsx("p",{className:"text-xl text-[--color-stone-800] mb-6 leading-relaxed px-[0px] py-[24px] mx-auto my-[12px] max-w-2xl text-left",children:"We turn your vision into professional websites and apps that your customers will love  without the tech headaches."}),n.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[n.jsx(au,{icon:n.jsx(bt,{size:18}),text:"100% Client Satisfaction"}),n.jsx(au,{icon:n.jsx(kg,{size:18}),text:"30-Day Support Included"})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[n.jsx(ct,{variant:"primary",size:"large",onClick:e,children:"Get Started Free "}),n.jsx("a",{href:"/work",children:n.jsx(ct,{variant:"secondary",size:"large",children:"See Live Projects"})})]}),n.jsxs("div",{className:"flex items-center gap-3 text-sm text-[--color-stone-700]",children:[n.jsxs("div",{className:"flex -space-x-2",children:[n.jsx("img",{src:"https://images.unsplash.com/photo-1689600944138-da3b150d9cb8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXNpbmVzcyUyMHByb2Zlc3Npb25hbCUyMGhlYWRzaG90JTIwd29tYW58ZW58MXx8fHwxNzY1OTgwNDc3fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"",className:"w-8 h-8 rounded-full border-2 border-white object-cover",loading:"lazy",width:32,height:32}),n.jsx("img",{src:"https://images.unsplash.com/photo-1723537742563-15c3d351dbf2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXNpbmVzcyUyMHByb2Zlc3Npb25hbCUyMGhlYWRzaG90JTIwbWFufGVufDF8fHx8MTc2NTk2MjQ2NHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"",className:"w-8 h-8 rounded-full border-2 border-white object-cover",loading:"lazy",width:32,height:32}),n.jsx("img",{src:"https://images.unsplash.com/photo-1762522926157-bcc04bf0b10a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjBoZWFkc2hvdCUyMGNvbmZpZGVudHxlbnwxfHx8fDE3NjU5ODA0Nzd8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"",className:"w-8 h-8 rounded-full border-2 border-white object-cover",loading:"lazy",width:32,height:32})]}),n.jsxs("span",{children:[n.jsx("strong",{className:"text-[--color-stone-900]",children:"50+ entrepreneurs"})," launched their ideas with DoneWell"]})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"relative h-[400px] lg:h-[500px] rounded-[var(--radius-xl)] overflow-hidden shadow-[0_20px_60px_-15px_rgba(0,0,0,0.3)] border-4 border-white",children:n.jsx(rf,{src:"https://udiskjjuszutgpvkogzw.supabase.co/storage/v1/object/public/site-assets/Homepage/Hero.avif",alt:"Modern website design",className:"w-full h-full object-cover rounded-[8px]",loading:"eager",width:800,height:500})}),n.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-6 rounded-[var(--radius-lg)] shadow-[var(--shadow-xl)] border border-[--color-stone-200] rounded-[8px]",children:[n.jsx("div",{className:"text-4xl bg-gradient-to-br from-[#1a4d2e] to-[#4a6f5a] bg-clip-text text-transparent mb-1",children:"99%"}),n.jsx("div",{className:"text-sm text-[--color-stone-700]",children:"Average Site Performance"})]})]})]})}),n.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-[--color-sage-200] rounded-full blur-3xl opacity-30 pointer-events-none"}),n.jsx("div",{className:"absolute bottom-1/4 left-0 w-80 h-80 bg-[--color-forest-100] rounded-full blur-3xl opacity-20 pointer-events-none"})]}),n.jsx("section",{className:"py-16 bg-gradient-to-r from-[#255741] to-[#345a45]",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-white",children:a.map(u=>n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"text-3xl md:text-6xl mb-2",children:u.value}),n.jsx("div",{className:"text-sm md:text-base text-white opacity-90",children:u.label})]},u.id))})})}),n.jsx("section",{className:"py-24 bg-[--color-sage-50]",id:"process",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("div",{className:"inline-block px-4 py-2 bg-gray-100 rounded-full text-sm tracking-wider text-[--color-forest-700] mb-4",children:"OUR PROVEN PROCESS"}),n.jsx("h2",{className:"mb-6",children:"From Idea to Launch in 4 Simple Steps"}),n.jsx("div",{className:"flex justify-center",children:n.jsx("p",{className:"text-xl text-[--color-stone-600] max-w-2xl pt-4",style:{textAlign:"center"},children:"A clear, proven path that takes you from concept to a live website  with zero stress."})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[n.jsx(zn,{number:"1",title:"Discovery",description:"We meet 1:1 to understand your idea, business goals, and customer needs.",icon:n.jsx(G0,{size:24,strokeWidth:1.5})}),n.jsx(zn,{number:"2",title:"Blueprint",description:"We craft a clear plan and produce a working prototype you can react to.",icon:n.jsx(T0,{size:24,strokeWidth:1.5})}),n.jsx(zn,{number:"3",title:"Build",description:"We develop your site or app using modern tools, fast timelines, and thoughtful details.",icon:n.jsx(I0,{size:24,strokeWidth:1.5})}),n.jsx(zn,{number:"4",title:"Live",description:"We launch your project and support you during your first 30 days, so everything runs smoothly.",icon:n.jsx(vg,{size:24,strokeWidth:1.5})})]})]})}),n.jsx(_f,{exploreHref:"/capabilities"}),n.jsx("section",{className:"py-24 bg-[--color-sand-50]",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-4",children:"CLIENT SUCCESS STORIES"}),n.jsx("h2",{className:"mb-6",children:"What Our Clients Say"}),n.jsx("div",{className:"flex justify-center",children:n.jsx("p",{className:"text-xl text-[--color-stone-700] max-w-2xl pt-4",style:{textAlign:"center"},children:"Real results from real entrepreneurs who trusted us with their vision."})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:c.map(u=>n.jsx(Gg,{quote:u.quote,author:u.name,role:u.role,company:u.company,image:u.image||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"},u.id))})]})}),n.jsx("section",{className:"py-24 bg-white",id:"work",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("div",{className:"inline-block px-4 py-2 bg-gray-100 rounded-full text-sm tracking-wider text-[--color-stone-700] mb-4",children:"RECENT LAUNCHES"}),n.jsx("h2",{className:"mb-6",children:"Projects That Drove Real Results"}),n.jsx("div",{className:"flex justify-center",children:n.jsx("p",{className:"text-xl text-[--color-stone-700] max-w-2xl pt-4",style:{textAlign:"center"},children:"See how we've helped entrepreneurs launch, grow, and succeed online."})})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:l.map(u=>n.jsx(Kg,{image:u.keyframeImage,title:u.title,description:u.shortDescription,slug:u.slug},u.id))})]})}),n.jsx("section",{className:"py-24 bg-gradient-to-br from-[--color-sage-50] to-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsxs("div",{className:"text-center mb-16",children:[n.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-4 border border-[--color-stone-200]",children:"WHY DONEWELL"}),n.jsx("h2",{className:"mb-6",children:"The Smart Choice for Non-Technical Founders"}),n.jsx("div",{className:"flex justify-center",children:n.jsx("p",{className:"text-xl text-[--color-stone-600] max-w-2xl pt-4",style:{textAlign:"center"},children:"We remove the complexity and deliver results you can measure."})})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[n.jsxs("div",{className:"bg-white p-8 rounded-[var(--radius-xl)] shadow-[var(--shadow-lg)] border border-[--color-stone-200] rounded-[8px]",children:[n.jsx("div",{className:"w-14 h-14 rounded-[var(--radius-lg)] bg-gradient-to-br from-[--color-forest-100] to-[--color-sage-100] flex items-center justify-center mb-4",children:n.jsx(Hg,{className:"text-[--color-forest-600]",size:28,strokeWidth:1.5})}),n.jsx("h3",{className:"mb-3 pt-[0px] pr-[0px] pb-[8px] pl-[0px]",children:"Lightning Fast Delivery"}),n.jsx("p",{className:"text-[--color-stone-600] leading-relaxed",children:"Average 14-day delivery. No months-long waits. We move fast without cutting corners."})]}),n.jsxs("div",{className:"bg-white p-8 rounded-[var(--radius-xl)] shadow-[var(--shadow-lg)] border border-[--color-stone-200] rounded-[8px]",children:[n.jsx("div",{className:"w-14 h-14 rounded-[var(--radius-lg)] bg-gradient-to-br from-[--color-forest-100] to-[--color-sage-100] flex items-center justify-center mb-4",children:n.jsx(tf,{className:"text-[--color-forest-600]",size:28,strokeWidth:1.5})}),n.jsx("h3",{className:"mb-3 pt-[0px] pr-[0px] pb-[8px] pl-[0px]",children:"Built For Non-Tech People"}),n.jsx("p",{className:"text-[--color-stone-600] leading-relaxed",children:"Clear communication, zero jargon. You'll understand every step of the process."})]}),n.jsxs("div",{className:"bg-white p-8 rounded-[var(--radius-xl)] shadow-[var(--shadow-lg)] border border-[--color-stone-200] rounded-[8px]",children:[n.jsx("div",{className:"w-14 h-14 rounded-[var(--radius-lg)] bg-gradient-to-br from-[--color-forest-100] to-[--color-sage-100] flex items-center justify-center mb-4",children:n.jsx(a0,{className:"text-[--color-forest-600]",size:28,strokeWidth:1.5})}),n.jsx("h3",{className:"mb-3 pt-[0px] pr-[0px] pb-[8px] pl-[0px]",children:"Premium Quality"}),n.jsx("p",{className:"text-[--color-stone-600] leading-relaxed",children:"Beautiful design meets solid code. Your site will look great and perform flawlessly."})]})]})]})}),n.jsx("section",{className:"py-24 bg-sage-50 relative overflow-hidden",id:"contact",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center relative z-10",children:[n.jsx("h2",{className:"text-forest-700 mb-6",children:"Ready to Launch Your Idea?"}),n.jsx("p",{className:"text-xl text-stone-700 mb-4 pt-[24px] pr-[0px] pb-[0px] pl-[0px]",children:"Book a free 30-minute consultation and see how we can bring your vision to life."}),n.jsx("p",{className:"text-stone-600 mb-10 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"No sales pressure. Just honest advice about your project."}),n.jsx("div",{className:"mb-8",children:n.jsx(ct,{variant:"primary",size:"large",onClick:e,children:"Book Your Free Consultation "})}),n.jsxs("div",{className:"flex flex-wrap gap-6 justify-center text-sm px-4 text-stone-600",children:[n.jsx("span",{children:" Free consultation"}),n.jsx("span",{children:" No commitment"}),n.jsx("span",{children:" Get a project roadmap"})]})]})}),n.jsx(Et,{}),n.jsx(jr,{isOpen:t,onClose:r})]})}function kf({project:e}){return n.jsxs("a",{href:`/projects/${e.slug}`,className:"group block bg-white rounded-[8px] overflow-hidden shadow-[var(--shadow-md)] hover:shadow-[var(--shadow-xl)] transition-all duration-300 border border-[--color-stone-200]",children:[n.jsxs("div",{className:"relative aspect-video overflow-hidden bg-[--color-stone-100]",children:[n.jsx("img",{src:e.keyframeImage,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),e.metricValue&&n.jsxs("div",{className:"absolute bottom-4 right-4 bg-[--color-forest-700] text-white px-4 py-2 rounded-lg",children:[n.jsx("div",{className:"text-2xl",children:e.metricValue}),n.jsx("div",{className:"text-xs opacity-90",children:e.metricLabel})]})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("h4",{className:"group-hover:text-[--color-forest-700] transition-colors",children:e.title}),e.badge&&n.jsx("div",{className:"px-3 py-1 bg-[--color-sage-100] rounded-full text-xs tracking-wide text-[--color-forest-700] font-medium whitespace-nowrap",children:e.badge})]}),n.jsx("p",{className:"text-[--color-stone-600] mb-4 leading-relaxed pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:e.shortDescription}),n.jsxs("div",{className:"flex items-center gap-2 text-[--color-forest-600] group-hover:gap-3 transition-all",children:[n.jsx("span",{className:"text-sm",children:"View Project"}),n.jsx(Co,{size:16})]})]})]})}function Fy({onGetStartedClick:e,isModalOpen:t,onModalClose:r}){const{projects:s}=ht(),o=s.filter(i=>i.showOnWorkPage).sort((i,l)=>i.order-l.order);return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(Jt,{title:"Our Work - Live Projects That Drive Results",description:"See how we've helped entrepreneurs launch, grow, and succeed online. Every project we build is designed to help businesses launch faster and attract customers.",url:"https://donewellco.com/work"}),n.jsx(St,{onGetStartedClick:e}),n.jsx("section",{className:"bg-gradient-to-br from-[--color-sage-50] via-white to-[--color-forest-50] py-20",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[n.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-6 border border-[--color-stone-200]",children:"OUR WORK"}),n.jsx("h1",{className:"mb-6",children:"Live Projects That Drive Results"}),n.jsx("p",{className:"text-xl text-[--color-stone-700] max-w-2xl mx-auto pt-[8px] pr-[0px] pb-[0px] pl-[0px]",children:"Every project we build is designed to help entrepreneurs launch faster, attract customers, and grow their business."})]})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map(i=>n.jsx(kf,{project:i},i.id))}),o.length===0&&n.jsx("div",{className:"text-center py-20",children:n.jsx("p",{className:"text-[--color-stone-600] text-xl",children:"No projects to display yet. Check back soon!"})})]})}),n.jsx("section",{className:"py-20 bg-gradient-to-br from-[--color-forest-700] to-[--color-sage-700] text-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[n.jsx("h2",{className:"text-white mb-6 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Ready to See Your Project Here?"}),n.jsx("p",{className:"text-xl text-[--color-sage-100] mb-8 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"Let's bring your vision to life with the same quality and speed."}),n.jsx("button",{onClick:e,className:"px-8 py-4 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143d24] transition-colors",children:"Get Started Free "})]})}),n.jsx(Et,{}),n.jsx(jr,{isOpen:t,onClose:r})]})}function Hy({onGetStartedClick:e,isModalOpen:t,onModalClose:r}){return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(Jt,{title:"About DoneWell - Helping People Bring Their Ideas to Life",description:"DoneWell exists to help people bring their ideas to life  thoughtfully, professionally, and without unnecessary complexity. We believe good digital work starts with understanding.",url:"https://donewellco.com/about"}),n.jsx(St,{onGetStartedClick:e}),n.jsx("section",{className:"bg-[#295841] py-20",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-6 border border-[--color-stone-200]",children:"ABOUT US"}),n.jsx("h1",{className:"mb-6 pt-[0px] pr-[0px] pb-[24px] pl-[0px] !text-white",children:"About DoneWell"}),n.jsx("p",{className:"text-xl max-w-3xl mx-auto leading-relaxed !text-white",children:"DoneWell exists to help people bring their ideas to life  thoughtfully, professionally, and without unnecessary complexity."})]})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-8",children:"Many of our clients are experts in what they do, but don't want to become experts in websites, apps, or technology just to get their business off the ground. They want something that looks professional, works reliably, and reflects the quality of their work."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-24",children:"That's where we come in."}),n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Our Approach"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"We believe good digital work starts with understanding  not templates."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-8",children:"Every project begins with a conversation. We take the time to understand your business, your goals, and your customers, then design and build a solution that fits your needs today while leaving room to grow tomorrow."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-8",children:"Our process is simple and structured:"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:[n.jsx("div",{className:"bg-[--color-sage-50] rounded-[8px] border border-[--color-sage-200] pt-[24px] pr-[24px] pb-[0px] pl-[24px]",children:n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 mt-1",children:"1"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-[--color-forest-700] mb-2",children:"Discovery"}),n.jsx("p",{className:"text-[--color-stone-700] mt-[0px] mr-[0px] mb-[12px] ml-[0px]",children:"We clarify your idea, your challenges, and what success looks like."})]})]})}),n.jsx("div",{className:"bg-[--color-sage-50] rounded-[8px] border border-[--color-sage-200] pt-[24px] pr-[24px] pb-[0px] pl-[24px]",children:n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 mt-1",children:"2"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-[--color-forest-700] mb-2",children:"Blueprint"}),n.jsx("p",{className:"text-[--color-stone-700] mt-[0px] mr-[0px] mb-[12px] ml-[0px]",children:"We translate that understanding into a clear plan and prototype."})]})]})}),n.jsx("div",{className:"bg-[--color-sage-50] rounded-[8px] border border-[--color-sage-200] pt-[24px] pr-[24px] pb-[0px] pl-[24px]",children:n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 mt-1",children:"3"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-[--color-forest-700] mb-2",children:"Build"}),n.jsx("p",{className:"text-[--color-stone-700] mt-[0px] mr-[0px] mb-[12px] ml-[0px]",children:"We design and develop your site or application with care and attention to detail."})]})]})}),n.jsx("div",{className:"bg-[--color-sage-50] rounded-[8px] border border-[--color-sage-200] pt-[24px] pr-[24px] pb-[0px] pl-[24px]",children:n.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[n.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 mt-1",children:"4"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-[--color-forest-700] mb-2",children:"Live"}),n.jsx("p",{className:"text-[--color-stone-700] mt-[0px] mr-[0px] mb-[12px] ml-[0px]",children:"We launch confidently and support you as your project goes live."})]})]})})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-24 italic",children:"No buzzwords. No over-engineering. Just thoughtful work, done well."}),n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"Who We Work With"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"DoneWell works primarily with professionals and small businesses who want a reliable partner they can trust."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"That includes consultants, lawyers, therapists, real estate professionals, creators, and founders  especially those starting something new or upgrading an existing website that no longer reflects the quality of their work."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-[48px] mt-[0px] mr-[0px] ml-[0px]",children:"Our clients value clarity, professionalism, and getting things done right the first time."}),n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"Experience You Can Rely On"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"DoneWell is led by a designer and builder with deep experience in UX, product design, and modern development workflows."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Behind the scenes, our work draws from years of experience designing and shipping real products, improving complex systems, and helping teams and businesses turn ideas into working solutions. We combine design thinking, technical execution, and practical business sense  so projects don't just look good, they work."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-24",children:"We use modern tools and processes to move efficiently, but we never lose sight of the human side of the work."}),n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:'Why "DoneWell"'}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"The name reflects our philosophy."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"We believe quality comes from care, not shortcuts. From listening closely, making good decisions early, and following through. When something is done well, it earns trust  and trust is the foundation of any successful partnership."})]})})}),n.jsx("section",{className:"py-20 bg-sage-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[n.jsx("h2",{className:"text-forest-700 mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Let's Get Started"}),n.jsx("p",{className:"text-xl text-stone-700 mb-4",children:"If you have an idea you'd like to explore, or a website that needs improvement, we'd love to talk."}),n.jsx("p",{className:"text-lg text-stone-600 mb-8 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"You don't need a perfect plan  just a place to start."}),n.jsx("button",{onClick:e,className:"px-8 py-4 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143d24] transition-colors",children:"Get Started Free "})]})}),n.jsx(Et,{}),n.jsx(jr,{isOpen:t,onClose:r})]})}function Vy({onGetStartedClick:e,isModalOpen:t,onModalClose:r}){return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(Jt,{title:"How We Work - DoneWell Process",description:"We keep our process clear, structured, and human  so you always know what's happening, what decisions matter, and when things are locked.",url:"https://donewellco.com/how-we-work",noindex:!0}),n.jsx(St,{onGetStartedClick:e}),n.jsx("section",{className:"bg-[#295841] py-20",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-6 border border-[--color-stone-200]",children:"OUR PROCESS"}),n.jsx("h1",{className:"mb-6 pt-[0px] pr-[0px] pb-[24px] pl-[0px] !text-white",children:"How We Work"}),n.jsx("p",{className:"text-xl max-w-3xl mx-auto leading-relaxed !text-white",children:"We keep our process clear, structured, and human  so you always know what's happening, what decisions matter, and when things are locked."}),n.jsx("p",{className:"text-lg max-w-3xl mx-auto leading-relaxed !text-white mt-4 opacity-90",children:"This page explains how projects move from idea to launch, including how discovery, planning, and build phases work."})]})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 font-semibold text-lg",children:"1"}),n.jsx("div",{className:"flex-1",children:n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Free Intro Call (30 minutes)"})})]}),n.jsxs("div",{className:"ml-14",children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"This is a no-pressure conversation to see if we're a good fit."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"We'll talk about:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Your business and goals"}),n.jsx("li",{children:"What you're hoping to build"}),n.jsx("li",{children:"What's working and what's not"}),n.jsx("li",{children:"A rough ballpark range for the project"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-2",children:"There's no obligation here."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"If it feels like a fit, we'll recommend moving into Discovery."})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 font-semibold text-lg",children:"2"}),n.jsx("div",{className:"flex-1",children:n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Discovery & Roadmap Session"})})]}),n.jsxs("div",{className:"ml-14",children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Discovery is where clarity happens  and where pricing and scope become real."}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"How Discovery Works"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Before the session, you'll receive a short checklist to help you think through priorities (no need for perfect answers)."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"During our 60-minute working session, we:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Define the primary goal of the site"}),n.jsx("li",{children:"Identify must-have vs. nice-to-have features"}),n.jsx("li",{children:"Clarify audience, messaging, and tone"}),n.jsx("li",{children:"Sketch a rough site structure together"}),n.jsx("li",{children:"Surface optional add-ons or future phases"})]}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"Discovery Deposit"}),n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:["To schedule Discovery, we ask for a ",n.jsx("strong",{children:"$650 Discovery & Roadmap deposit"}),"."]}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"This deposit holds the session"}),n.jsx("li",{children:"If we move forward together, it is fully credited into your project"}),n.jsx("li",{children:"If you decide not to continue, you keep the roadmap and ideas, and the deposit simply covers the session"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"This ensures the session has value on both sides."})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 font-semibold text-lg",children:"3"}),n.jsx("div",{className:"flex-1",children:n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Roadmap & Final Scope"})})]}),n.jsxs("div",{className:"ml-14",children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"After Discovery, you'll receive a written roadmap that includes:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Final scope for the initial MVP"}),n.jsx("li",{children:"What is included and not included"}),n.jsx("li",{children:"Optional add-ons or future phases"}),n.jsx("li",{children:"Timeline and final pricing"})]}),n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:["This roadmap becomes our ",n.jsx("strong",{children:"shared plan and reference"})," for the build."]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"At this point, you decide whether to move forward."})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 font-semibold text-lg",children:"4"}),n.jsx("div",{className:"flex-1",children:n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Build Authorization & Deposit"})})]}),n.jsxs("div",{className:"ml-14",children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Before any design or development begins:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"We confirm the scope outlined in the roadmap"}),n.jsxs("li",{children:["A ",n.jsx("strong",{children:"50% project deposit"})," (minus your Discovery credit) is collected"]})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Work begins once this deposit is received."})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 font-semibold text-lg",children:"5"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Blueprint (Design Direction)"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4 italic",children:n.jsx("strong",{children:"Delivered within ~3 business days"})})]})]}),n.jsxs("div",{className:"ml-14",children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"We translate the roadmap into a working prototype that focuses on structure, layout, and direction."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"You'll receive:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"A clickable prototype"}),n.jsx("li",{children:"12 focused feedback rounds"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"This ensures we're aligned on direction before we build."})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 font-semibold text-lg",children:"6"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Build"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4 italic",children:n.jsx("strong",{children:"~710 business days (depending on scope)"})})]})]}),n.jsxs("div",{className:"ml-14",children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"We turn the approved blueprint into a production-ready site. This includes:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Full site build and integrations"}),n.jsx("li",{children:"Performance optimization"}),n.jsx("li",{children:"SEO fundamentals (metadata, sitemap, search setup)"}),n.jsx("li",{children:"URL routing and redirects"}),n.jsx("li",{children:"Lighthouse testing and cleanup"}),n.jsx("li",{children:"Open Graph setup, favicon, and final QA"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"You'll review the site on a private preview link."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Feedback at this stage is for:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Bug fixes"}),n.jsx("li",{children:"Small visual or copy tweaks"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"New features or major changes are handled separately."})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[n.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 font-semibold text-lg",children:"7"}),n.jsx("div",{className:"flex-1",children:n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Final Payment & Launch"})})]}),n.jsxs("div",{className:"ml-14",children:[n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:["Once the build is approved, the ",n.jsx("strong",{children:"final balance is due"}),"."]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"After payment clears:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"We connect the domain"}),n.jsx("li",{children:"The site is launched"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"We do not move a site to a live domain until final payment is complete."})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"After Launch  Ongoing Support (Optional)"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-2",children:"Some clients want continued monitoring, updates, and care."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Others prefer to take the site and run with it."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Both options are supported."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"A Few Important Notes"}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-2",children:n.jsx("strong",{children:"Content"})}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed",children:"We don't act as a copywriting service. Initial placeholder copy may be generated for layout, but final content approval is yours."})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-2",children:n.jsx("strong",{children:"Scope Changes"})}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed",children:"Anything added after Discovery is quoted separately or scheduled as a future phase."})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-2",children:n.jsx("strong",{children:"Pauses"})}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed",children:"If feedback is delayed, timelines pause and the project may be deprioritized until it resumes."})]}),n.jsxs("div",{children:[n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-2",children:n.jsx("strong",{children:"Ownership & Decisions"})}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed",children:"We handle structure, performance, and setup. You approve direction and make final decisions."})]})]})]}),n.jsxs("div",{className:"mb-24",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"Why This Process Works"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"This approach protects clarity on both sides:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"You always know what you're paying for"}),n.jsx("li",{children:"Scope and timelines stay predictable"}),n.jsx("li",{children:"There are no surprises at launch"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"If you have questions at any point, just ask  clarity is part of the service."})]})]})})}),n.jsx(Et,{}),n.jsx(jr,{isOpen:t,onClose:r})]})}function qy({onGetStartedClick:e,isModalOpen:t,onModalClose:r}){return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(Jt,{title:"Services Agreement - DoneWell",description:"DoneWell Services Agreement governing all professional services provided by DoneWell.",url:"https://donewellco.com/services-agreement",noindex:!0}),n.jsx(St,{onGetStartedClick:e}),n.jsx("section",{className:"bg-[#295841] py-20",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-6 border border-[--color-stone-200]",children:"OUR AGREEMENT"}),n.jsx("h1",{className:"mb-6 pt-[0px] pr-[0px] pb-[24px] pl-[0px] !text-white",children:"DoneWell Services Agreement"}),n.jsx("p",{className:"text-lg max-w-3xl mx-auto leading-relaxed !text-white italic opacity-90",children:"Last updated: December 2025"})]})})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsx("div",{className:"max-w-4xl mx-auto px-6",children:n.jsxs("div",{className:"prose prose-lg max-w-none",children:[n.jsxs("div",{className:"mb-12",children:[n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:['This Services Agreement ("Agreement") is entered into between ',n.jsx("strong",{children:"DoneWell"}),' ("DoneWell," "we," or "us") and the client ("Client," "you").']}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"This Agreement governs all professional services provided by DoneWell unless otherwise agreed in writing."}),n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:["By signing this Agreement ",n.jsx("strong",{children:"or by submitting payment for services"}),", Client acknowledges that they have read, understood, and agree to these terms."]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"1. Services Overview"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"DoneWell provides professional design, development, and launch services for websites and related digital products."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Services are delivered in phases, which may include:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Discovery & Roadmap Services"}),n.jsx("li",{children:"Build & Launch Services"})]}),n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:["The specific scope, timeline, and pricing for each project are outlined in a written ",n.jsx("strong",{children:"Project Roadmap or Proposal"}),' ("Roadmap").']})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"2. Discovery & Roadmap Services"}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"2.1 Discovery Fee"}),n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:["Discovery & Roadmap services are provided for a fixed fee (currently ",n.jsx("strong",{children:"$650"}),", unless otherwise stated)."]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"The Discovery fee:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Is paid before Discovery services begin"}),n.jsx("li",{children:"Covers professional consultation, planning, and recommendations"}),n.jsx("li",{children:"Does not obligate either party to proceed with Build services"})]}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"2.2 Nature of Discovery"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Discovery services are advisory in nature. Outputs may include strategy, structure, recommendations, and planning materials. Discovery outputs are not final deliverables unless explicitly stated."}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"2.3 Credit Toward Build"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"If Client proceeds with Build services, the Discovery fee will be credited toward the total project investment as outlined in the Roadmap."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"If Client chooses not to proceed, the Discovery fee is non-refundable and covers time and expertise provided."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"3. Project Roadmap & Scope"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"After Discovery, DoneWell provides a written Roadmap that outlines:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Final scope for the initial project phase"}),n.jsx("li",{children:"What is included and not included"}),n.jsx("li",{children:"Timeline and pricing"}),n.jsx("li",{children:"Optional add-ons or future phases"})]}),n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:["The Roadmap serves as the ",n.jsx("strong",{children:"reference document"})," for the project scope."]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Work outside the approved Roadmap is considered out of scope and may require a separate quote or future phase."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"4. Build & Launch Services"}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"4.1 Commencement of Build"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Build services begin only after:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Delivery of the Roadmap, and"}),n.jsxs("li",{children:["Receipt of the required ",n.jsx("strong",{children:"Build Deposit"})]})]}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"4.2 Build Deposit"}),n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:["Unless otherwise stated, the Build Deposit is ",n.jsx("strong",{children:"50% of the remaining project balance"})," after Discovery credit."]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Submission of the Build Deposit:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Approves the Roadmap"}),n.jsx("li",{children:"Authorizes Build services to begin"}),n.jsx("li",{children:"Confirms acceptance of this Agreement"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"No additional signatures are required."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"5. Payments & Timing"}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"5.1 Payment Schedule"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Unless otherwise stated in the Roadmap:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Discovery fee is due before Discovery begins"}),n.jsx("li",{children:"Build Deposit is due before Build begins"}),n.jsx("li",{children:"Final payment is due before launch, domain connection, or delivery of final assets"})]}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"5.2 Payment Method"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"All payments are processed via Stripe or another approved payment method."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Stripe receipts serve as confirmation of payment and approval of the applicable project phase."}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"5.3 Non-Payment"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"If payment is not received when due:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Work may pause"}),n.jsx("li",{children:"Timelines may shift"}),n.jsx("li",{children:"Launch, domain transfer, or asset delivery may be withheld until payment is complete"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"6. Client Responsibilities"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Client agrees to:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Provide timely feedback (typically within 2 business days unless otherwise agreed)"}),n.jsx("li",{children:"Supply required content or approvals"}),n.jsx("li",{children:"Designate a single point of contact"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Delays in feedback or materials may pause the project timeline."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"7. Revisions & Changes"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Unless otherwise stated:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Reasonable revisions are included within the approved scope"}),n.jsx("li",{children:"Revisions must align with the Roadmap"}),n.jsx("li",{children:"New features, major changes, or expanded scope are handled separately"})]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"8. Intellectual Property"}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"8.1 Ownership Transfer"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Upon receipt of full payment:"}),n.jsx("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:n.jsx("li",{children:"Client receives ownership of final, delivered project work created specifically for the project"})}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"8.2 Pre-Existing Materials"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"DoneWell retains ownership of:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Tools, frameworks, templates, systems, and reusable code"}),n.jsx("li",{children:"Processes developed independently of the project"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"DoneWell grants Client a non-exclusive license to use such materials as incorporated into the final deliverables."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"9. Pauses & Termination"}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"9.1 Client-Initiated Termination"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Client may pause or terminate the project at any time. Fees paid are non-refundable for work already completed."}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"9.2 DoneWell-Initiated Termination"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"DoneWell may pause or terminate the project if:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Payments are not made"}),n.jsx("li",{children:"Communication breaks down"}),n.jsx("li",{children:"Client actions prevent reasonable progress"})]}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Client remains responsible for fees for work completed to date."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"10. Relationship"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"DoneWell operates as an independent contractor. Nothing in this Agreement creates a partnership, joint venture, or employment relationship."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"11. Governing Law"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Until DoneWell's business is formally established in Texas, this Agreement is governed by the laws of the state in which DoneWell principally operates."}),n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:["Once established, this Agreement shall be governed by the laws of the ",n.jsx("strong",{children:"State of Texas"}),", without regard to conflict of laws principles."]})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"12. Entire Agreement"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"This Agreement, together with any Roadmap or Proposal referenced herein, constitutes the entire understanding between the parties."})]}),n.jsxs("div",{className:"mb-16",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"13. Acceptance"}),n.jsxs("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:["By signing below ",n.jsx("strong",{children:"or by submitting payment for services"}),", Client agrees to this Services Agreement."]})]}),n.jsxs("div",{className:"mb-16 pt-8 border-t border-[--color-stone-300]",children:[n.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"Exhibit A  Legal Terms Addendum"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:'This Legal Terms Addendum ("Addendum") forms part of the DoneWell Services Agreement.'}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"A1. Limitation of Liability"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"To the maximum extent permitted by law, DoneWell's total liability arising from or related to services provided under this Agreement shall not exceed the total amount paid by Client for the services in question."}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"DoneWell shall not be liable for indirect, incidental, consequential, or special damages, including lost profits or business interruption."}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"A2. Indemnification"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-4",children:"Client agrees to indemnify and hold harmless DoneWell from claims arising from:"}),n.jsxs("ul",{className:"text-lg text-[--color-stone-700] leading-relaxed space-y-2 list-disc list-outside ml-6 pl-4 mb-6",children:[n.jsx("li",{children:"Client-provided content"}),n.jsx("li",{children:"Client's use of the deliverables"}),n.jsx("li",{children:"Client's violation of applicable laws or third-party rights"})]}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"A3. Third-Party Services"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"DoneWell is not responsible for failures, changes, or outages related to third-party platforms, hosting providers, software, or services."}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"A4. Force Majeure"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Neither party shall be liable for delays or failure to perform due to events beyond reasonable control, including natural disasters, outages, or acts of government."}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"A5. Severability"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"If any provision of this Agreement is found unenforceable, the remaining provisions shall remain in full force and effect."}),n.jsx("h3",{className:"text-[--color-forest-700] mb-4 text-xl font-semibold",children:"A6. Entire Agreement"}),n.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"This Agreement and Addendum represent the entire agreement between the parties and supersede all prior discussions or understandings."})]}),n.jsxs("div",{className:"mb-24 pt-8 border-t border-[--color-stone-300] text-center",children:[n.jsx("p",{className:"text-lg text-[--color-forest-700] font-semibold mb-2",children:"DoneWell"}),n.jsx("p",{className:"text-base text-[--color-stone-600] italic",children:"Design. Build. Launch  done well."})]})]})})}),n.jsx(Et,{}),n.jsx(jr,{isOpen:t,onClose:r})]})}function Ky({title:e,description:t,includes:r,inPractice:s}){const[o,i]=S.useState(!1);return n.jsxs("div",{className:"bg-white rounded-lg border border-[--color-stone-200] p-6 hover:shadow-md transition-shadow duration-300",children:[n.jsx("h3",{className:"text-xl font-semibold text-[--color-forest-700] mb-3",children:e}),n.jsx("p",{className:"text-[--color-stone-700] leading-relaxed mb-4",children:t}),n.jsx("div",{className:"mb-4",children:n.jsx("ul",{className:"space-y-2",children:r.map((l,c)=>n.jsxs("li",{className:"flex items-start gap-2 text-[--color-stone-600]",children:[n.jsx("span",{className:"text-[--color-forest-600] mt-1.5",children:""}),n.jsx("span",{children:l})]},c))})}),s&&n.jsxs("div",{className:"border-t border-[--color-stone-200] pt-4",children:[n.jsxs("button",{onClick:()=>i(!o),className:"w-full flex items-center justify-between text-left text-sm font-medium text-[--color-forest-700] hover:text-[--color-forest-800] transition-colors","aria-expanded":o,"aria-controls":`practice-${e.toLowerCase().replace(/\s+/g,"-")}`,children:[n.jsx("span",{children:"What this looks like in practice"}),n.jsx(Ua,{className:`w-4 h-4 transition-transform duration-200 ${o?"transform rotate-180":""}`,"aria-hidden":"true"})]}),n.jsx("div",{id:`practice-${e.toLowerCase().replace(/\s+/g,"-")}`,className:`overflow-hidden transition-all duration-300 ${o?"max-h-96 mt-3":"max-h-0"}`,children:n.jsx("p",{className:"text-sm text-[--color-stone-600] leading-relaxed italic",children:s})})]})]})}function Gy({onGetStartedClick:e,isModalOpen:t,onModalClose:r}){const s=[{title:"Content & CMS",description:"Websites that are easy to update, scale, and maintain  without breaking things.",includes:["Blogs, pages, case studies","Rich text, images, media","Content imports and migrations"],inPractice:"Example: importing years of content from an existing platform into a clean, modern CMS."},{title:"Accounts & Authentication",description:"Secure login systems for teams, customers, or members  designed around how people actually use them.",includes:["Admin access","Customer accounts","Preferences and profiles","Device-aware sessions"]},{title:"Automation & Monitoring",description:"Systems that quietly watch, check, and report  so problems are caught early.",includes:["Site health checks","Uptime and performance monitoring","Alerts and logs"]},{title:"Email & Communication",description:"Email systems that send reliably, scale safely, and give you real insight into what's working.",includes:["Campaigns and templates","Analytics and reporting","Deliverability setup and warming"]},{title:"Integrations & Data",description:"We connect your website to the services and data sources your business depends on.",includes:["Payments","Media platforms","Maps, locations, and scoring","External APIs"]},{title:"Custom Logic & AI",description:"When off-the-shelf tools aren't enough, we build the logic ourselves.",includes:["Scoring systems","Personalization","AI summaries and insights","Subscription rules and timing"]}];return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(Jt,{title:"Capabilities - DoneWell",description:"Everything we build is custom  but never complicated to use. See how we connect the tools you already use and automate the ones you shouldn't have to think about.",url:"https://donewellco.com/capabilities"}),n.jsx(St,{onGetStartedClick:e}),n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[n.jsx("h1",{className:"text-5xl md:text-6xl font-semibold text-[--color-forest-700] mb-6 leading-tight",children:"Capabilities"}),n.jsx("p",{className:"text-xl md:text-2xl text-[--color-stone-700] leading-relaxed max-w-2xl mx-auto",children:"Everything we build is custom  but never complicated to use."})]})}),n.jsx(_f,{introText:"We regularly work with the tools below  and connect them in ways that fit your business, not a template.",showHeader:!1,showCTA:!1}),n.jsx("section",{className:"py-24 bg-white",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map((o,i)=>n.jsx(Ky,{title:o.title,description:o.description,includes:o.includes,inPractice:o.inPractice},i))})})}),n.jsx("section",{className:"py-16 bg-[--color-sage-50]",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[n.jsxs("p",{className:"text-lg md:text-xl text-[--color-stone-700] leading-relaxed italic",children:["Most of our work starts as a simple question ",n.jsx("br",{}),'"Can this system do X?"']}),n.jsx("p",{className:"text-lg md:text-xl text-[--color-stone-700] leading-relaxed mt-4",children:"If it can't, we design one that can."})]})}),n.jsx("section",{className:"py-24 bg-white",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[n.jsx("div",{className:"mb-8",children:n.jsx(ct,{variant:"primary",size:"large",onClick:e,children:"Start with a free consult"})}),n.jsx("div",{children:n.jsxs("a",{href:"/how-we-work",className:"inline-flex items-center gap-2 text-[--color-forest-700] hover:text-[--color-forest-800] transition-colors font-medium",children:["Learn how we work",n.jsx(Co,{className:"w-4 h-4","aria-hidden":"true"})]})})]})}),n.jsx(Et,{}),n.jsx(jr,{isOpen:t,onClose:r})]})}function Jy({metric:e}){return e.size,n.jsxs("div",{className:"bg-gradient-to-br from-[--color-sage-50] to-white p-8 rounded-[var(--radius-xl)] border border-[--color-stone-200] bg-[rgb(255,255,255)] rounded-[8px]",children:[n.jsx("div",{className:"text-5xl md:text-6xl bg-gradient-to-br from-[#1a4d2e] to-[#4a6f5a] bg-clip-text text-transparent mb-3",children:e.value}),n.jsx("h4",{className:"mb-2 text-[--color-navy-800]",children:e.title}),n.jsx("p",{className:"text-[--color-stone-600]",children:e.description})]})}function Qy({onGetStartedClick:e}){return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(St,{onGetStartedClick:e}),n.jsx("section",{className:"bg-white border-b border-[--color-stone-200] py-4",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})})}),n.jsx("section",{className:"bg-gradient-to-br from-[--color-sage-50] to-white py-16",children:n.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[n.jsx("div",{className:"mb-6",children:n.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded-full animate-pulse"})}),n.jsx("div",{className:"h-12 w-3/4 bg-gray-200 rounded mb-8 animate-pulse"}),n.jsx("div",{className:"aspect-video rounded-[var(--radius-xl)] overflow-hidden bg-gray-200 animate-pulse"})]})}),n.jsx("section",{className:"py-[32px] bg-white pt-[32px] pr-[0px] pb-[64px] pl-[0px] px-[0px]",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[n.jsxs("div",{className:"mb-12",children:[n.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded mb-4 animate-pulse"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-5/6 bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-4/5 bg-gray-200 rounded animate-pulse"})]}),n.jsx("div",{className:"h-12 w-48 bg-gray-200 rounded-lg mt-6 animate-pulse"})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("div",{className:"h-8 w-40 bg-gray-200 rounded mb-4 animate-pulse"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded animate-pulse"})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("div",{className:"h-8 w-36 bg-gray-200 rounded mb-4 animate-pulse"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-5/6 bg-gray-200 rounded animate-pulse"})]})]}),n.jsxs("div",{className:"mb-12",children:[n.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded mb-4 animate-pulse"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-4/5 bg-gray-200 rounded animate-pulse"})]})]})]})}),n.jsx("section",{className:"py-16 bg-gradient-to-br from-[--color-sage-50] to-white",children:n.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[n.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded mb-4 animate-pulse"}),n.jsxs("div",{className:"space-y-3 mb-12",children:[n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),n.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded animate-pulse"})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(t=>n.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[n.jsx("div",{className:"h-12 w-20 bg-gray-200 rounded mb-3 animate-pulse"}),n.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-2 animate-pulse"}),n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"})]},t))})]})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx("div",{className:"h-8 w-40 bg-gray-200 rounded mb-8 animate-pulse"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(t=>n.jsxs("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200",children:[n.jsx("div",{className:"aspect-video bg-gray-200 animate-pulse"}),n.jsxs("div",{className:"p-6",children:[n.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded mb-3 animate-pulse"}),n.jsx("div",{className:"h-4 w-full bg-gray-200 rounded mb-2 animate-pulse"}),n.jsx("div",{className:"h-4 w-5/6 bg-gray-200 rounded animate-pulse"})]})]},t))})]})}),n.jsx("section",{className:"py-20 bg-sage-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[n.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded mb-4 mx-auto animate-pulse"}),n.jsx("div",{className:"h-6 w-96 bg-gray-200 rounded mb-8 mx-auto animate-pulse"}),n.jsx("div",{className:"h-12 w-48 bg-gray-200 rounded-lg mx-auto animate-pulse"})]})}),n.jsx(Et,{})]})}function Yy({projectSlug:e,onGetStartedClick:t,isModalOpen:r,onModalClose:s}){var u;const{projects:o,loading:i}=ht();if(i)return n.jsx(Qy,{onGetStartedClick:t});const l=o.find(h=>h.slug===e),c=o.filter(h=>h.slug!==e&&h.showOnWorkPage).sort((h,d)=>h.order-d.order).slice(0,3);if(!l)return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(Jt,{title:"Project Not Found",description:"The project you're looking for doesn't exist.",url:"https://donewellco.com/projects/not-found"}),n.jsx(St,{onGetStartedClick:t}),n.jsx("section",{className:"bg-white py-20",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[n.jsx("h1",{className:"mb-4",children:"Project Not Found"}),n.jsx("p",{className:"text-[--color-stone-600] mb-8",children:"The project you're looking for doesn't exist."}),n.jsxs("a",{href:"/work",className:"inline-flex items-center gap-2 text-[--color-forest-700] hover:text-[--color-forest-800] transition-colors",children:[n.jsx(Pl,{size:20}),n.jsx("span",{children:"Back to Work"})]})]})}),n.jsx(Et,{})]});const a=((u=l.resultMetrics)==null?void 0:u.map((h,d)=>({id:`result-${d}`,value:h.value,title:h.title,description:h.description,size:"1x1"})))||[];return n.jsxs("div",{className:"min-h-screen",children:[n.jsx(Jt,{title:l.title,description:l.shortDescription||`Learn about ${l.title} - a project by DoneWell.`,image:l.keyframeImage,url:`https://donewellco.com/projects/${l.slug}`,type:"article"}),n.jsx(St,{onGetStartedClick:t}),n.jsx("section",{className:"bg-white border-b border-[--color-stone-200] py-4",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6",children:n.jsxs("a",{href:"/work",className:"inline-flex items-center gap-2 text-[--color-stone-700] hover:text-[--color-forest-700] transition-colors",children:[n.jsx(Pl,{size:20}),n.jsx("span",{children:"Back to Work"})]})})}),n.jsx("section",{className:"bg-gradient-to-br from-[--color-sage-50] to-white py-16",children:n.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[n.jsx("div",{className:"mb-6",children:n.jsx("span",{className:"inline-block px-3 py-1.5 bg-white rounded-full text-xs tracking-wide text-[--color-forest-700] border border-[--color-stone-200]",children:l.badge})}),n.jsx("h1",{className:"mb-8 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:l.title}),n.jsx("div",{className:"aspect-video rounded-[var(--radius-xl)] overflow-hidden shadow-[var(--shadow-xl)] border-4 border-white",children:n.jsx("img",{src:l.keyframeImage,alt:l.title,className:"w-full h-full object-cover rounded-[8px]",loading:"eager"})})]})}),n.jsx("section",{className:"py-[32px] bg-white pt-[32px] pr-[0px] pb-[64px] pl-[0px] px-[0px]",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[l.summary&&n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Overview"}),n.jsx("div",{className:"prose prose-lg max-w-none text-[--color-stone-700] mb-6",dangerouslySetInnerHTML:{__html:l.summary}}),l.liveWebsiteUrl&&n.jsxs("a",{href:l.liveWebsiteUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143d24] transition-colors",children:["View Experience Live",n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),l.problem&&n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"The Challenge"}),n.jsx("div",{className:"prose prose-lg max-w-none text-[--color-stone-700]",dangerouslySetInnerHTML:{__html:l.problem}})]}),l.objective&&n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Our Objective"}),n.jsx("div",{className:"prose prose-lg max-w-none text-[--color-stone-700]",dangerouslySetInnerHTML:{__html:l.objective}})]}),l.ourActions&&n.jsxs("div",{className:"mb-12",children:[n.jsx("h2",{className:"mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"What We Did"}),n.jsx("div",{className:"prose prose-lg max-w-none text-[--color-stone-700]",dangerouslySetInnerHTML:{__html:l.ourActions}})]})]})}),l.results&&n.jsx("section",{className:"py-16 bg-gradient-to-br from-[--color-sage-50] to-white",children:n.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[n.jsx("h2",{className:"mb-4 text-left pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"The Results"}),n.jsx("div",{className:"prose prose-lg max-w-3xl text-left mb-12 text-stone-700",dangerouslySetInnerHTML:{__html:l.results}}),a.length>0&&n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:a.map(h=>n.jsx(Jy,{metric:h},h.id))})]})}),n.jsx("section",{className:"py-20 bg-white",children:n.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[n.jsx("h2",{className:"text-left mb-8 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"More Projects"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(h=>n.jsx(kf,{project:h},h.id))})]})}),n.jsx("section",{className:"py-20 bg-sage-50",children:n.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[n.jsx("h2",{className:"text-forest-700 mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Ready for Results Like These?"}),n.jsx("p",{className:"text-xl text-stone-700 mb-8 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"Let's discuss how we can deliver similar outcomes for your project."}),n.jsx("button",{onClick:t,className:"px-8 py-4 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143d24] transition-colors",children:"Get Started Free "})]})}),n.jsx(Et,{}),n.jsx(jr,{isOpen:r,onClose:s})]})}function Xy({onLoginSuccess:e}){const[t,r]=S.useState(""),[s,o]=S.useState(""),[i,l]=S.useState(""),[c,a]=S.useState(!1),{login:u}=ht(),h=async d=>{d.preventDefault(),l(""),a(!0);try{await u(t,s)?e():(l("Incorrect email or password"),o(""))}catch(f){l("Login failed. Please try again."),console.error("Login error:",f)}finally{a(!1)}};return n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[--color-forest-700] to-[--color-sage-700] flex items-center justify-center px-6",children:n.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl",children:[n.jsx("div",{className:"flex justify-center mb-6",children:n.jsx("div",{className:"w-16 h-16 bg-[--color-sage-100] rounded-full flex items-center justify-center",children:n.jsx(og,{className:"text-[--color-forest-700]",size:32})})}),n.jsx("h1",{className:"text-center mb-2",children:"Admin Access"}),n.jsx("p",{className:"text-center text-[--color-stone-600] mb-8",children:"Enter your credentials to continue"}),n.jsxs("form",{onSubmit:h,children:[n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"email",className:"block text-sm mb-2 text-[--color-stone-700]",children:"Email"}),n.jsx("input",{type:"email",id:"email",value:t,onChange:d=>{r(d.target.value),l("")},className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Enter email",autoFocus:!0})]}),n.jsxs("div",{className:"mb-6",children:[n.jsx("label",{htmlFor:"password",className:"block text-sm mb-2 text-[--color-stone-700]",children:"Password"}),n.jsx("input",{type:"password",id:"password",value:s,onChange:d=>{o(d.target.value),l("")},className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Enter password"}),i&&n.jsx("p",{className:"text-red-600 text-sm mt-2",children:i})]}),n.jsx("button",{type:"submit",disabled:c,className:"w-full px-6 py-3 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Logging in...":"Login"})]})]})})}function _s({value:e,onChange:t,placeholder:r,label:s}){const o=S.useRef(null),i=S.useRef(null),[l,c]=S.useState(!1),a=S.useRef(""),u=S.useRef(!0),h=S.useRef("");S.useLayoutEffect(()=>{if(o.current&&u.current){const E=e||"";console.log(`RichTextEditor mount - label: ${s}, value length: ${E.length}, value:`,E.substring(0,50)),o.current.innerHTML=E,a.current=E,h.current=E,u.current=!1}},[]),S.useEffect(()=>{if(o.current){const E=e||"";if(u.current){E&&o.current.innerHTML===""&&(console.log(`RichTextEditor late init - label: ${s}, value length: ${E.length}`),o.current.innerHTML=E,a.current=E,h.current=E,u.current=!1);return}if(l)return;h.current!==E&&(console.log(`RichTextEditor update - label: ${s}, value length: ${E.length}`),o.current.innerHTML=E,a.current=E,h.current=E)}},[e,l,s]);const d=(E,T)=>{document.execCommand(E,!1,T),f()},f=()=>{if(o.current){const E=o.current.innerHTML;a.current=E,h.current=E,t(E)}},g=()=>{c(!0),f()},v=()=>{c(!0)},x=()=>{if(c(!1),o.current){const E=o.current.innerHTML,T=e||"";E!==T&&(o.current.innerHTML=T,a.current=T)}},w=()=>{const E=prompt("Enter URL:");E&&d("createLink",E)},p=()=>{var E;(E=i.current)==null||E.click()},m=E=>{var U;const T=(U=E.target.files)==null?void 0:U[0];if(T){const W=new FileReader;W.onloadend=()=>{const G=W.result;y(G)},W.readAsDataURL(T)}E.target.value=""},y=E=>{const T=document.createElement("img");T.src=E,T.style.maxWidth="100%",T.style.height="auto",T.style.margin="1em 0",T.style.borderRadius="8px";const U=window.getSelection();if(U&&U.rangeCount>0){const W=U.getRangeAt(0);W.deleteContents(),W.insertNode(T);const G=document.createElement("br");W.collapse(!1),W.insertNode(G),W.setStartAfter(G),W.collapse(!0),U.removeAllRanges(),U.addRange(W)}else o.current&&o.current.appendChild(T);f()},j=()=>{const E=prompt("Enter YouTube URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID):");if(E){let T="";const U=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,W=E.match(U);if(W&&W[2].length===11)T=W[2];else{alert("Invalid YouTube URL. Please enter a valid YouTube video URL.");return}const G=document.createElement("div");G.style.position="relative",G.style.paddingBottom="56.25%",G.style.height="0",G.style.margin="1em 0",G.innerHTML=`<iframe 
        src="https://www.youtube.com/embed/${T}" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen
        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 8px;"
      ></iframe>`;const Ee=window.getSelection();if(Ee&&Ee.rangeCount>0){const Ce=Ee.getRangeAt(0);Ce.deleteContents(),Ce.insertNode(G);const ft=document.createElement("br");Ce.collapse(!1),Ce.insertNode(ft),Ce.setStartAfter(ft),Ce.collapse(!0),Ee.removeAllRanges(),Ee.addRange(Ce)}else o.current&&o.current.appendChild(G);f()}},_=E=>{d("formatBlock",`<${E}>`)},N=[{icon:u0,command:"bold",title:"Bold (Ctrl+B)"},{icon:q0,command:"italic",title:"Italic (Ctrl+I)"},{icon:Ig,command:"underline",title:"Underline (Ctrl+U)"}],b=[{icon:$0,tag:"h1",title:"Heading 1"},{icon:z0,tag:"h2",title:"Heading 2"},{icon:U0,tag:"h3",title:"Heading 3"},{icon:Pg,tag:"p",title:"Paragraph"}],k=[{icon:rg,command:"insertUnorderedList",title:"Bullet List"},{icon:eg,command:"insertOrderedList",title:"Numbered List"}];return n.jsxs("div",{className:"space-y-2",children:[s&&n.jsx("label",{className:"block text-sm text-[--color-stone-700]",children:s}),n.jsx("input",{ref:i,type:"file",accept:"image/*",onChange:m,className:"hidden"}),n.jsxs("div",{className:"bg-white border border-[--color-stone-300] rounded-t-lg p-2 flex flex-wrap gap-1",children:[n.jsx("div",{className:"flex gap-1 pr-2 border-r border-[--color-stone-200]",children:N.map(({icon:E,command:T,title:U})=>n.jsx("button",{type:"button",onClick:()=>d(T),onMouseDown:W=>W.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:U,children:n.jsx(E,{size:16,className:"text-[--color-stone-700]"})},T))}),n.jsx("div",{className:"flex gap-1 pr-2 border-r border-[--color-stone-200]",children:b.map(({icon:E,tag:T,title:U})=>n.jsx("button",{type:"button",onClick:()=>_(T),onMouseDown:W=>W.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:U,children:n.jsx(E,{size:16,className:"text-[--color-stone-700]"})},T))}),n.jsx("div",{className:"flex gap-1 pr-2 border-r border-[--color-stone-200]",children:k.map(({icon:E,command:T,title:U})=>n.jsx("button",{type:"button",onClick:()=>d(T),onMouseDown:W=>W.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:U,children:n.jsx(E,{size:16,className:"text-[--color-stone-700]"})},T))}),n.jsx("button",{type:"button",onClick:w,onMouseDown:E=>E.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:"Insert Link",children:n.jsx(Q0,{size:16,className:"text-[--color-stone-700]"})}),n.jsx("button",{type:"button",onClick:p,onMouseDown:E=>E.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:"Insert Image",children:n.jsx(W0,{size:16,className:"text-[--color-stone-700]"})}),n.jsx("button",{type:"button",onClick:j,onMouseDown:E=>E.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:"Embed YouTube Video",children:n.jsx(zg,{size:16,className:"text-[--color-stone-700]"})})]}),n.jsx("div",{ref:o,contentEditable:!0,onInput:g,onFocus:v,onBlur:x,className:"min-h-[200px] p-4 border border-[--color-stone-300] border-t-0 rounded-b-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600] bg-white prose prose-sm max-w-none relative",style:{wordWrap:"break-word",overflowWrap:"break-word"},"data-placeholder":r}),n.jsx("style",{children:`
        [contenteditable][data-placeholder]:empty:before {
          content: attr(data-placeholder);
          color: #999;
          pointer-events: none;
        }
        [contenteditable] {
          outline: none;
        }
        [contenteditable] h1 {
          font-size: 2em;
          font-weight: bold;
          margin: 0.5em 0;
        }
        [contenteditable] h2 {
          font-size: 1.5em;
          font-weight: bold;
          margin: 0.5em 0;
        }
        [contenteditable] h3 {
          font-size: 1.25em;
          font-weight: bold;
          margin: 0.5em 0;
        }
        [contenteditable] p {
          margin: 0.5em 0;
        }
        [contenteditable] ul, [contenteditable] ol {
          margin: 0.5em 0;
          padding-left: 2em;
        }
        [contenteditable] li {
          margin: 0.25em 0;
        }
        [contenteditable] a {
          color: #1B4D2E;
          text-decoration: underline;
        }
        [contenteditable] img {
          max-width: 100%;
          height: auto;
          margin: 1em 0;
          border-radius: 8px;
        }
      `})]})}async function Zy(e,t,r){try{const{data:s,error:o}=await B.storage.from(e).upload(r,t,{cacheControl:"3600",upsert:!1});if(o){if(o.message.includes("already exists")){const l=Date.now(),c=t.name.split(".").pop(),a=t.name.replace(/\.[^/.]+$/,""),u=`${r.split("/").slice(0,-1).join("/")}/${a}-${l}.${c}`,{data:h,error:d}=await B.storage.from(e).upload(u,t,{cacheControl:"3600",upsert:!1});if(d)throw d;const{data:f}=B.storage.from(e).getPublicUrl(u);return f.publicUrl}throw o}const{data:i}=B.storage.from(e).getPublicUrl(r);return i.publicUrl}catch(s){throw console.error("Error uploading image to Supabase Storage:",s),new Error(`Failed to upload image: ${s instanceof Error?s.message:"Unknown error"}`)}}function ew(){const{projects:e,addProject:t,updateProject:r,deleteProject:s}=ht(),[o,i]=S.useState(!1),[l,c]=S.useState(null),[a,u]=S.useState({}),h=()=>{i(!0),u({title:"",slug:"",keyframeImage:"",shortDescription:"",badge:"",metricValue:"",metricLabel:"",showOnWorkPage:!0,showOnHomepage:!1,order:e.length+1,summary:"",problem:"",objective:"",ourActions:"",results:"",resultMetrics:[],liveWebsiteUrl:""})},d=b=>{c(b.id);const k={...b,summary:b.summary??"",problem:b.problem??"",objective:b.objective??"",ourActions:b.ourActions??"",results:b.results??"",resultMetrics:b.resultMetrics??[],liveWebsiteUrl:b.liveWebsiteUrl??""};console.log("handleEdit - project data:",{summary:b.summary,problem:b.problem,objective:b.objective,ourActions:b.ourActions,results:b.results}),console.log("handleEdit - formData:",{summary:k.summary,problem:k.problem,objective:k.objective,ourActions:k.ourActions,results:k.results}),u(k)},f=()=>{o?a.title&&a.slug&&(t(a),i(!1),u({})):l&&(r(l,a),c(null),u({}))},g=()=>{i(!1),c(null),u({})},v=(b,k)=>{confirm(`Are you sure you want to delete "${k}"?`)&&s(b)},x=(b,k)=>{r(b.id,{[k]:!b[k]})},[w,p]=S.useState(!1),m=async b=>{var E;const k=(E=b.target.files)==null?void 0:E[0];if(k){if(!k.type.startsWith("image/")){alert("Please select an image file");return}if(k.size>5*1024*1024){alert("Image size must be less than 5MB");return}p(!0);try{const T=l||"new",U=Date.now(),W=k.name.split(".").pop(),G=k.name.replace(/\.[^/.]+$/,"").replace(/[^a-z0-9]/gi,"-").toLowerCase(),Ee=`projects/${T}/${U}-${G}.${W}`,Ce=await Zy("site-assets",k,Ee);u({...a,keyframeImage:Ce})}catch(T){console.error("Error uploading image:",T),alert(`Failed to upload image: ${T instanceof Error?T.message:"Unknown error"}`)}finally{p(!1)}}},y=()=>{const b=a.resultMetrics||[];u({...a,resultMetrics:[...b,{value:"",title:"",description:""}]})},j=(b,k,E)=>{const U=(a.resultMetrics||[]).map((W,G)=>G===b?{...W,[k]:E}:W);u({...a,resultMetrics:U})},_=b=>{const E=(a.resultMetrics||[]).filter((T,U)=>U!==b);u({...a,resultMetrics:E})},N=[...e].sort((b,k)=>b.order-k.order);return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-[--color-forest-700]",children:"Projects"}),!o&&!l&&n.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors",children:[n.jsx(ls,{size:20}),"Add Project"]})]}),(o||l)&&n.jsxs("div",{className:"bg-[--color-sage-50] p-6 rounded-lg border border-[--color-sage-200] mb-6 max-h-[80vh] overflow-y-auto",children:[n.jsx("h3",{className:"text-[--color-forest-700] mb-6",children:o?"Add New Project":"Edit Project"}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h4",{className:"text-[--color-forest-600] mb-4 border-b border-[--color-stone-300] pb-[24px] pt-[0px] pr-[0px] pl-[0px]",children:"Basic Information"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Title*"}),n.jsx("input",{type:"text",value:a.title||"",onChange:b=>u({...a,title:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Project title"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Slug*"}),n.jsx("input",{type:"text",value:a.slug||"",onChange:b=>u({...a,slug:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"project-slug"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Badge"}),n.jsx("input",{type:"text",value:a.badge||"",onChange:b=>u({...a,badge:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Web Design"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Order"}),n.jsx("input",{type:"number",value:a.order||0,onChange:b=>u({...a,order:parseInt(b.target.value)}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Short Description"}),n.jsx("textarea",{value:a.shortDescription||"",onChange:b=>u({...a,shortDescription:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",rows:2,placeholder:"Brief project description for cards"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Live Website URL"}),n.jsx("input",{type:"url",value:a.liveWebsiteUrl||"",onChange:b=>u({...a,liveWebsiteUrl:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"https://example.com"}),n.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:'If provided, a "View Experience Live" button will appear on the project page'})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Card Metric Value"}),n.jsx("input",{type:"text",value:a.metricValue||"",onChange:b=>u({...a,metricValue:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"98%"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Card Metric Label"}),n.jsx("input",{type:"text",value:a.metricLabel||"",onChange:b=>u({...a,metricLabel:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Performance"})]}),n.jsxs("div",{className:"md:col-span-2 flex items-center gap-4",children:[n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:a.showOnWorkPage||!1,onChange:b=>u({...a,showOnWorkPage:b.target.checked}),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm text-[--color-stone-700]",children:"Show on Work page"})]}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:a.showOnHomepage||!1,onChange:b=>u({...a,showOnHomepage:b.target.checked}),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm text-[--color-stone-700]",children:"Show on Homepage"})]})]})]})]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h4",{className:"text-[--color-forest-600] mb-4 border-b border-[--color-stone-300] pb-2",children:"Hero Image"}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm mb-[16px] text-[--color-stone-700] mt-[0px] mr-[0px] ml-[0px]",children:["Keyframe/Hero Image",n.jsx("span",{className:"text-xs text-[--color-stone-500] ml-2",children:"(Preferred: 1920x1080px, 16:9 ratio)"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-3 items-start mt-[0px] mr-[0px] mb-[24px] ml-[0px]",children:[n.jsxs("label",{className:`flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors cursor-pointer ${w?"opacity-50 cursor-not-allowed":""}`,children:[n.jsx(ef,{size:18}),w?"Uploading...":"Upload to Supabase",n.jsx("input",{type:"file",accept:"image/*",onChange:m,disabled:w,className:"hidden"})]}),n.jsx("span",{className:"text-[--color-stone-500] py-2",children:"or"}),n.jsx("input",{type:"text",value:a.keyframeImage||"",onChange:b=>u({...a,keyframeImage:b.target.value}),className:"flex-1 px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"https://... or paste image URL"})]}),a.keyframeImage&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:a.keyframeImage,alt:"Hero preview",className:"w-full h-48 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:()=>u({...a,keyframeImage:""}),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:n.jsx(cs,{size:18})})]})]})]})]}),n.jsxs("div",{className:"mb-8 space-y-6",children:[n.jsx("h4",{className:"text-[--color-forest-600] mb-4 border-b border-[--color-stone-300] pb-2",children:"Project Content"}),n.jsx(_s,{label:"Summary",value:a.summary||"",onChange:b=>u({...a,summary:b}),placeholder:"Enter project summary..."},`summary-${l||"new"}`),n.jsx(_s,{label:"Problem",value:a.problem||"",onChange:b=>u({...a,problem:b}),placeholder:"Describe the problem or challenge..."},`problem-${l||"new"}`),n.jsx(_s,{label:"Objective",value:a.objective||"",onChange:b=>u({...a,objective:b}),placeholder:"What were the goals and objectives..."},`objective-${l||"new"}`),n.jsx(_s,{label:"Our Actions",value:a.ourActions||"",onChange:b=>u({...a,ourActions:b}),placeholder:"Describe the actions taken and approach..."},`ourActions-${l||"new"}`),n.jsx(_s,{label:"Results",value:a.results||"",onChange:b=>u({...a,results:b}),placeholder:"Describe the outcomes and results..."},`results-${l||"new"}`)]}),n.jsxs("div",{className:"mb-8",children:[n.jsx("h4",{className:"text-[--color-forest-600] mb-4 border-b border-[--color-stone-300] pb-2",children:"Result Metrics (for metric cards)"}),n.jsxs("button",{type:"button",onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors mb-4",children:[n.jsx(ls,{size:18}),"Add Metric Card"]}),n.jsx("div",{className:"space-y-4",children:a.resultMetrics&&a.resultMetrics.map((b,k)=>n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-[--color-stone-300]",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("h5",{className:"text-sm text-[--color-stone-700]",children:["Metric Card ",k+1]}),n.jsx("button",{type:"button",onClick:()=>_(k),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",children:n.jsx(as,{size:16})})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs mb-1 text-[--color-stone-600]",children:"Metric Value"}),n.jsx("input",{type:"text",value:b.value,onChange:E=>j(k,"value",E.target.value),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600] text-sm",placeholder:"e.g., 300%, 50+, $10K"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs mb-1 text-[--color-stone-600]",children:"Metric Title"}),n.jsx("input",{type:"text",value:b.title,onChange:E=>j(k,"title",E.target.value),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600] text-sm",placeholder:"e.g., Traffic Increase"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs mb-1 text-[--color-stone-600]",children:"Metric Description"}),n.jsx("textarea",{value:b.description,onChange:E=>j(k,"description",E.target.value),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600] text-sm",rows:2,placeholder:"Brief description of this metric"})]})]})]},k))})]}),n.jsxs("div",{className:"flex gap-3 pt-4 border-t border-[--color-stone-300]",children:[n.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-6 py-3 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors",children:[n.jsx(Fa,{size:18}),"Save Project"]}),n.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-6 py-3 bg-[--color-stone-200] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-300] transition-colors",children:[n.jsx(cs,{size:18}),"Cancel"]})]})]}),n.jsx("div",{className:"space-y-4",children:N.map(b=>n.jsx("div",{className:"bg-white p-4 rounded-lg border border-[--color-stone-200] hover:border-[--color-sage-300] transition-colors",children:n.jsxs("div",{className:"flex items-start gap-4",children:[b.keyframeImage&&n.jsx("img",{src:b.keyframeImage,alt:b.title,className:"w-24 h-24 object-cover rounded-lg"}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-[--color-forest-700] mb-1",children:b.title}),n.jsxs("p",{className:"text-sm text-[--color-stone-600]",children:["/",b.slug]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>x(b,"showOnWorkPage"),className:`p-2 rounded-lg transition-colors ${b.showOnWorkPage?"bg-[--color-sage-100] text-[--color-forest-700]":"bg-[--color-stone-100] text-[--color-stone-400]"}`,title:"Toggle Work page visibility",children:b.showOnWorkPage?n.jsx(ln,{size:18}):n.jsx(Xh,{size:18})}),n.jsx("button",{onClick:()=>d(b),className:"p-2 bg-[--color-stone-100] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-200] transition-colors",children:n.jsx(Wa,{size:18})}),n.jsx("button",{onClick:()=>v(b.id,b.title),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:n.jsx(as,{size:18})})]})]}),n.jsx("p",{className:"text-sm text-[--color-stone-700] mb-2",children:b.shortDescription}),n.jsxs("div",{className:"flex gap-4 text-sm text-[--color-stone-600]",children:[n.jsx("span",{className:"px-2 py-1 bg-[--color-sage-50] rounded",children:b.badge}),b.metricValue&&n.jsxs("span",{children:[b.metricValue," ",b.metricLabel]}),n.jsxs("span",{children:["Order: ",b.order]}),b.showOnHomepage&&n.jsx("span",{className:"text-[--color-forest-700]",children:" Featured on Homepage"})]})]})]})},b.id))}),e.length===0&&n.jsx("div",{className:"text-center py-12 text-[--color-stone-500]",children:'No projects yet. Click "Add Project" to create your first one.'})]})}function tw(){const{testimonials:e,addTestimonial:t,updateTestimonial:r,deleteTestimonial:s}=ht(),[o,i]=S.useState(!1),[l,c]=S.useState(null),[a,u]=S.useState({}),h=p=>{var y;const m=(y=p.target.files)==null?void 0:y[0];if(m){const j=new FileReader;j.onloadend=()=>{u({...a,image:j.result})},j.readAsDataURL(m)}},d=()=>{i(!0),u({name:"",role:"",company:"",quote:"",image:"",showOnHomepage:!1,order:e.length+1})},f=p=>{c(p.id),u(p)},g=()=>{o?a.name&&a.quote&&(t(a),i(!1),u({})):l&&(r(l,a),c(null),u({}))},v=()=>{i(!1),c(null),u({})},x=(p,m)=>{confirm(`Are you sure you want to delete the testimonial from "${m}"?`)&&s(p)},w=[...e].sort((p,m)=>p.order-m.order);return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-[--color-forest-700]",children:"Testimonials"}),!o&&!l&&n.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors",children:[n.jsx(ls,{size:20}),"Add Testimonial"]})]}),(o||l)&&n.jsxs("div",{className:"bg-[--color-sage-50] p-6 rounded-lg border border-[--color-sage-200] mb-6",children:[n.jsx("h3",{className:"text-[--color-forest-700] mb-4",children:o?"Add New Testimonial":"Edit Testimonial"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Name*"}),n.jsx("input",{type:"text",value:a.name||"",onChange:p=>u({...a,name:p.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"John Doe"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Role"}),n.jsx("input",{type:"text",value:a.role||"",onChange:p=>u({...a,role:p.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"CEO"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Company"}),n.jsx("input",{type:"text",value:a.company||"",onChange:p=>u({...a,company:p.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Company Name"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsxs("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:["Profile Image",n.jsx("span",{className:"text-xs text-[--color-stone-500] ml-2",children:"(Preferred: 400x400px square)"})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"flex gap-3 items-start",children:[n.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors cursor-pointer",children:[n.jsx(ef,{size:18}),"Upload Image",n.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]}),n.jsx("span",{className:"text-[--color-stone-500] py-2",children:"or"}),n.jsx("input",{type:"text",value:a.image||"",onChange:p=>u({...a,image:p.target.value}),className:"flex-1 px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"https://... or paste image URL"})]}),a.image&&n.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-[--color-stone-200]",children:[n.jsx("img",{src:a.image,alt:"Preview",className:"w-16 h-16 rounded-full object-cover"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm text-[--color-stone-700]",children:"Image preview"}),n.jsx("p",{className:"text-xs text-[--color-stone-500]",children:"Recommended: Square image, 400x400px"})]}),n.jsx("button",{type:"button",onClick:()=>u({...a,image:""}),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:n.jsx(cs,{size:18})})]})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Testimonial*"}),n.jsx("textarea",{value:a.quote||"",onChange:p=>u({...a,quote:p.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",rows:4,placeholder:"What the client said..."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Order"}),n.jsx("input",{type:"number",value:a.order||0,onChange:p=>u({...a,order:parseInt(p.target.value)}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]"})]}),n.jsx("div",{className:"flex items-center",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:a.showOnHomepage||!1,onChange:p=>u({...a,showOnHomepage:p.target.checked}),className:"w-4 h-4"}),n.jsx("span",{className:"text-sm text-[--color-stone-700]",children:"Show on Homepage"})]})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors",children:[n.jsx(Fa,{size:18}),"Save"]}),n.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-[--color-stone-200] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-300] transition-colors",children:[n.jsx(cs,{size:18}),"Cancel"]})]})]}),n.jsx("div",{className:"space-y-4",children:w.map(p=>n.jsxs("div",{className:"bg-white p-4 rounded-lg border border-[--color-stone-200] hover:border-[--color-sage-300] transition-colors",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[p.image&&n.jsx("img",{src:p.image,alt:p.name,className:"w-12 h-12 rounded-full object-cover"}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-[--color-forest-700]",children:p.name}),n.jsxs("p",{className:"text-sm text-[--color-stone-600]",children:[p.role," ",p.company&&`at ${p.company}`]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>f(p),className:"p-2 bg-[--color-stone-100] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-200] transition-colors",children:n.jsx(Wa,{size:18})}),n.jsx("button",{onClick:()=>x(p.id,p.name),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:n.jsx(as,{size:18})})]})]}),n.jsxs("p",{className:"text-[--color-stone-700] mb-3 italic",children:['"',p.quote,'"']}),n.jsxs("div",{className:"flex gap-4 text-sm text-[--color-stone-600]",children:[n.jsxs("span",{children:["Order: ",p.order]}),p.showOnHomepage&&n.jsxs("span",{className:"flex items-center gap-1 text-[--color-forest-700]",children:[n.jsx(Zh,{size:14,fill:"currentColor"}),"Featured on Homepage"]})]})]},p.id))}),e.length===0&&n.jsx("div",{className:"text-center py-12 text-[--color-stone-500]",children:'No testimonials yet. Click "Add Testimonial" to create your first one.'})]})}function rw(){const{metrics:e,addMetric:t,updateMetric:r,deleteMetric:s}=ht(),[o,i]=S.useState(!1),[l,c]=S.useState(null),[a,u]=S.useState({}),h=()=>{i(!0),u({value:"",label:"",order:e.length+1})},d=w=>{c(w.id),u(w)},f=()=>{o?a.value&&a.label&&(t(a),i(!1),u({})):l&&(r(l,a),c(null),u({}))},g=()=>{i(!1),c(null),u({})},v=(w,p)=>{confirm(`Are you sure you want to delete the "${p}" metric?`)&&s(w)},x=[...e].sort((w,p)=>w.order-p.order);return n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsx("h2",{className:"text-[--color-forest-700]",children:"Metrics"}),!o&&!l&&n.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:[n.jsx(ls,{size:20}),"Add Metric"]})]}),(o||l)&&n.jsxs("div",{className:"bg-[--color-sage-50] p-6 rounded-lg border border-[--color-sage-200] mb-6",children:[n.jsx("h3",{className:"text-[--color-forest-700] mb-4",children:o?"Add New Metric":"Edit Metric"}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Value*"}),n.jsx("input",{type:"text",value:a.value||"",onChange:w=>u({...a,value:w.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"50+"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Label*"}),n.jsx("input",{type:"text",value:a.label||"",onChange:w=>u({...a,label:w.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Projects Delivered"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Order"}),n.jsx("input",{type:"number",value:a.order||0,onChange:w=>u({...a,order:parseInt(w.target.value)}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]"})]})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:[n.jsx(Fa,{size:18}),"Save"]}),n.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-[--color-stone-200] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-300] transition-colors",children:[n.jsx(cs,{size:18}),"Cancel"]})]})]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:x.map(w=>n.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[--color-stone-200] hover:border-[--color-sage-300] transition-colors",children:[n.jsx("div",{className:"flex items-start justify-between mb-4",children:n.jsxs("div",{className:"text-center flex-1",children:[n.jsx("div",{className:"text-3xl text-[--color-forest-700] mb-1",children:w.value}),n.jsx("div",{className:"text-sm text-[--color-stone-600]",children:w.label})]})}),n.jsxs("div",{className:"flex gap-2 pt-4 border-t border-[--color-stone-200]",children:[n.jsx("button",{onClick:()=>d(w),className:"flex-1 p-2 bg-[--color-stone-100] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-200] transition-colors text-sm",children:n.jsx(Wa,{size:16,className:"mx-auto"})}),n.jsx("button",{onClick:()=>v(w.id,w.label),className:"flex-1 p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm",children:n.jsx(as,{size:16,className:"mx-auto"})})]}),n.jsxs("div",{className:"text-xs text-center text-[--color-stone-500] mt-2",children:["Order: ",w.order]})]},w.id))}),e.length===0&&n.jsx("div",{className:"text-center py-12 text-[--color-stone-500]",children:'No metrics yet. Click "Add Metric" to create your first one.'})]})}function sw(){const{leads:e,deleteLead:t}=ht(),[r,s]=S.useState("all"),[o,i]=S.useState(null),l=async u=>{if(confirm("Are you sure you want to delete this lead?")){i(u);try{await t(u)}catch(h){console.error("Error deleting lead:",h),alert("Failed to delete lead. Please try again.")}finally{i(null)}}},c=e.filter(u=>r==="booked"?u.bookedConsult:r==="not_booked"?!u.bookedConsult:!0),a=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[--color-forest-700] mb-2",children:"Leads"}),n.jsx("p",{className:"text-[--color-stone-600]",children:"View and manage all form submissions from the Get Started modal."})]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs("button",{onClick:()=>s("all"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${r==="all"?"bg-[--color-forest-700] text-white":"bg-white border border-[--color-stone-300] text-[--color-stone-700] hover:bg-[--color-stone-50]"}`,children:["All (",e.length,")"]}),n.jsxs("button",{onClick:()=>s("booked"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${r==="booked"?"bg-[--color-forest-700] text-white":"bg-white border border-[--color-stone-300] text-[--color-stone-700] hover:bg-[--color-stone-50]"}`,children:["Booked (",e.filter(u=>u.bookedConsult).length,")"]}),n.jsxs("button",{onClick:()=>s("not_booked"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${r==="not_booked"?"bg-[--color-forest-700] text-white":"bg-white border border-[--color-stone-300] text-[--color-stone-700] hover:bg-[--color-stone-50]"}`,children:["Not Booked (",e.filter(u=>!u.bookedConsult).length,")"]})]}),c.length===0?n.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-12 text-center",children:n.jsx("p",{className:"text-[--color-stone-600]",children:"No leads found."})}):n.jsx("div",{className:"space-y-4",children:c.map(u=>n.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-6 hover:shadow-md transition-shadow",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsxs("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:[u.firstName," ",u.lastName]}),u.bookedConsult?n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[--color-sage-100] text-[--color-forest-700] rounded text-xs font-medium",children:[n.jsx(bt,{size:12}),"Booked"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[--color-stone-100] text-[--color-stone-600] rounded text-xs font-medium",children:[n.jsx(on,{size:12}),"Not Booked"]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 mb-3 text-sm text-[--color-stone-600]",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(an,{size:14}),n.jsx("a",{href:`mailto:${u.email}`,className:"hover:text-[--color-forest-700] transition-colors",children:u.email})]}),u.phone&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pg,{size:14}),n.jsx("a",{href:`tel:${u.phone}`,className:"hover:text-[--color-forest-700] transition-colors",children:u.phone})]}),u.businessName&&n.jsx("div",{className:"flex items-center gap-2",children:n.jsx("span",{className:"font-medium",children:u.businessName})})]}),n.jsx("div",{className:"mb-3",children:n.jsx("p",{className:"text-sm text-[--color-stone-700] whitespace-pre-wrap",children:u.message})}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-[--color-stone-500]",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Qh,{size:12}),n.jsx("span",{children:a(u.createdAt)})]}),u.calendlyEventUri&&n.jsxs("a",{href:u.calendlyEventUri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-[--color-forest-700] transition-colors",children:[n.jsx(k0,{size:12}),"View Calendly Event"]})]})]}),n.jsx("button",{onClick:()=>l(u.id),disabled:o===u.id,className:"ml-4 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Delete lead",children:n.jsx(as,{size:18})})]})},u.id))})]})}function nw(e=3e4){const[t,r]=S.useState([]),[s,o]=S.useState(!0),[i,l]=S.useState(null),c=S.useCallback(async()=>{try{l(null);const{data:v,error:x}=await B.from("monitored_sites").select("*").order("created_at",{ascending:!1});if(x)throw x;const w=await Promise.all(v.map(async p=>{const m=Mi(p);try{const{data:y}=await B.from("health_checks").select("id").eq("site_id",p.id);if(y&&y.length>0){const j=y.map(N=>N.id),{data:_}=await B.from("health_events").select("result").in("check_id",j).order("created_at",{ascending:!1}).limit(1).maybeSingle();_&&(m.lastCheckResult=_.result)}}catch(y){console.warn(`Could not fetch status for site ${p.site_name}:`,y)}return m}));r(w)}catch(v){l(v instanceof Error?v:new Error("Failed to fetch sites")),console.error("Error fetching sites:",v)}finally{o(!1)}},[]);return S.useEffect(()=>{if(c(),e>0){const v=setInterval(c,e);return()=>clearInterval(v)}},[c,e]),{sites:t,loading:s,error:i,refetch:c,addSite:async v=>{try{const x=Iy(v),{data:w,error:p}=await B.from("monitored_sites").insert([x]).select().single();if(p)throw p;const m=Mi(w);return r(y=>[m,...y]),m}catch(x){throw console.error("Error adding site:",x),x}},updateSite:async(v,x)=>{try{const w={};x.siteId!==void 0&&(w.site_id=x.siteId),x.siteName!==void 0&&(w.site_name=x.siteName),x.primaryDomain!==void 0&&(w.primary_domain=x.primaryDomain),x.environment!==void 0&&(w.environment=x.environment),x.subscriptionTier!==void 0&&(w.subscription_tier=x.subscriptionTier),x.status!==void 0&&(w.status=x.status),x.siteSecret!==void 0&&(w.site_secret=x.siteSecret??null),x.clientEmail!==void 0&&(w.client_email=x.clientEmail??null),x.internalEmail!==void 0&&(w.internal_email=x.internalEmail),x.deploySuppressionMinutes!==void 0&&(w.deploy_suppression_minutes=x.deploySuppressionMinutes),x.trialStartDate!==void 0&&(w.trial_start_date=x.trialStartDate??null),x.trialEndDate!==void 0&&(w.trial_end_date=x.trialEndDate??null),x.cmsTable!==void 0&&(w.cms_table=x.cmsTable??null),x.formsTable!==void 0&&(w.forms_table=x.formsTable??null);const{data:p,error:m}=await B.from("monitored_sites").update(w).eq("id",v).select().single();if(m)throw m;const y=Mi(p);return r(j=>j.map(_=>_.id===v?{...y,lastCheckResult:_.lastCheckResult}:_)),y}catch(w){throw console.error("Error updating site:",w),w}},deleteSite:async v=>{try{const{error:x}=await B.from("monitored_sites").delete().eq("id",v);if(x)throw x;r(w=>w.filter(p=>p.id!==v))}catch(x){throw console.error("Error deleting site:",x),x}},addHealthChecks:async(v,x)=>{try{const w=x.map(y=>({site_id:v,check_type:y.checkType,target:y.target,enabled:y.enabled??!0,interval_minutes:y.intervalMinutes??5})),{data:p,error:m}=await B.from("health_checks").insert(w).select();if(m)throw m;return p.map(bf)}catch(w){throw console.error("Error adding health checks:",w),w}},generateSecret:()=>{const v=new Uint8Array(32);return crypto.getRandomValues(v),btoa(String.fromCharCode(...v)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},testConnection:async v=>{try{const x=await fetch(`${v}/api/health`,{method:"GET",headers:{Accept:"application/json"}});return x.ok?{ok:!0,status:(await x.json()).status}:{ok:!1,error:`HTTP ${x.status}`}}catch(x){return{ok:!1,error:x instanceof Error?x.message:"Connection failed"}}}}}function ow(e,t=3e4){const[r,s]=S.useState([]),[o,i]=S.useState([]),[l,c]=S.useState([]),[a,u]=S.useState([]),[h,d]=S.useState(!0),[f,g]=S.useState(null),v=S.useCallback(async()=>{if(!e){d(!1);return}try{g(null);const{data:x,error:w}=await B.from("health_checks").select("*").eq("site_id",e).order("created_at",{ascending:!0});if(w)throw w;const p=x.map(bf);u(p);const m=p.map(b=>b.id);if(m.length>0){const{data:b,error:k}=await B.from("health_events").select("*, health_checks(check_type, target)").in("check_id",m).order("created_at",{ascending:!1}).limit(50);if(k)throw k;const E=b.map(T=>{var U,W;return{...Dy(T),checkType:(U=T.health_checks)==null?void 0:U.check_type,target:(W=T.health_checks)==null?void 0:W.target}});s(E)}else s([]);const{data:y,error:j}=await B.from("incidents").select("*").eq("site_id",e).order("created_at",{ascending:!1}).limit(50);if(j)throw j;i(y.map($y));const{data:_,error:N}=await B.from("error_logs").select("*").eq("site_id",e).order("created_at",{ascending:!1}).limit(50);if(N)throw N;c(_.map(Ly))}catch(x){g(x instanceof Error?x:new Error("Failed to fetch site details")),console.error("Error fetching site details:",x)}finally{d(!1)}},[e]);return S.useEffect(()=>{if(v(),t>0&&e){const x=setInterval(v,t);return()=>clearInterval(x)}},[v,t,e]),{healthEvents:r,incidents:o,errorLogs:l,healthChecks:a,loading:h,error:f,refetch:v}}function iw(e){switch(e){case"ok":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs",children:[n.jsx(bt,{size:10}),"OK"]});case"warn":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs",children:[n.jsx(Oo,{size:10}),"Warn"]});case"fail":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs",children:[n.jsx(on,{size:10}),"Fail"]})}}function lw(e){const t={"sev-1":"bg-red-100 text-red-700 border-red-200","sev-2":"bg-orange-100 text-orange-700 border-orange-200","sev-3":"bg-yellow-100 text-yellow-700 border-yellow-200"};return n.jsx("span",{className:`px-2 py-0.5 rounded border text-xs font-medium uppercase ${t[e]}`,children:e})}function aw(e){const t={open:"bg-red-100 text-red-700",monitoring:"bg-yellow-100 text-yellow-700",resolved:"bg-green-100 text-green-700"};return n.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium capitalize ${t[e]}`,children:e})}function pr(e){return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function cw({site:e,onBack:t}){const{healthEvents:r,incidents:s,errorLogs:o,loading:i,refetch:l}=ow(e.id),[c,a]=S.useState("events"),[u,h]=S.useState(new Set),[d,f]=S.useState(!1),[g,v]=S.useState(null),[x,w]=S.useState(!1),[p,m]=S.useState(!1),y=async()=>{w(!0),m(!1),await l(),w(!1),m(!0),setTimeout(()=>m(!1),2e3)},j=b=>{h(k=>{const E=new Set(k);return E.has(b)?E.delete(b):E.add(b),E})},_=async(b,k)=>{await navigator.clipboard.writeText(b),v(k),setTimeout(()=>v(null),2e3)},N=s.filter(b=>b.status!=="resolved");return n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:t,className:"p-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",children:n.jsx(Pl,{size:20})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-[--color-forest-700]",children:e.siteName}),n.jsxs("a",{href:e.primaryDomain,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[--color-stone-600] hover:text-[--color-forest-700] transition-colors",children:[e.primaryDomain," "]})]}),n.jsxs("button",{onClick:y,disabled:x,className:`flex items-center gap-2 px-3 py-2 rounded-lg transition-all ${p?"bg-green-100 text-green-700":x?"bg-[--color-stone-100] text-[--color-stone-400] cursor-wait":"text-[--color-stone-600] hover:bg-[--color-stone-100] active:scale-95"}`,title:"Refresh (auto-refreshes every 30s)",children:[p?n.jsx(Ms,{size:16}):n.jsx(Ro,{size:16,className:x?"animate-spin":""}),p?"Updated":x?"Refreshing...":"Refresh"]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[n.jsx("div",{className:"lg:col-span-2 space-y-4",children:n.jsxs("div",{className:"bg-white rounded-lg border border-[--color-stone-200] overflow-hidden",children:[n.jsxs("div",{className:"flex border-b border-[--color-stone-200]",children:[n.jsxs("button",{onClick:()=>a("events"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${c==="events"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:["Health Events (",r.length,")"]}),n.jsxs("button",{onClick:()=>a("incidents"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${c==="incidents"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:["Incidents (",N.length," open)"]}),n.jsxs("button",{onClick:()=>a("errors"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${c==="errors"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:["Error Logs (",o.length,")"]})]}),n.jsx("div",{className:"p-4",children:i?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Cs,{size:24,className:"animate-spin text-[--color-forest-700]"})}):c==="events"?n.jsx(uw,{events:r}):c==="incidents"?n.jsx(dw,{incidents:s}):n.jsx(hw,{errors:o,expandedErrors:u,toggleErrorExpanded:j})})]})}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-white rounded-lg border border-[--color-stone-200] p-4 space-y-4",children:[n.jsx("h3",{className:"font-semibold text-[--color-forest-700]",children:"Site Information"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(To,{size:16,className:"text-[--color-stone-400] mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[--color-stone-500]",children:"Site ID"}),n.jsx("p",{className:"font-mono text-[--color-forest-700]",children:e.siteId})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"w-4 h-4 flex items-center justify-center text-[--color-stone-400] text-xs",children:""}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[--color-stone-500]",children:"Environment"}),n.jsx("p",{className:"capitalize text-[--color-forest-700]",children:e.environment})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(an,{size:16,className:"text-[--color-stone-400] mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[--color-stone-500]",children:"Client Email"}),n.jsx("p",{className:"text-[--color-forest-700]",children:e.clientEmail||""})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(an,{size:16,className:"text-[--color-stone-400] mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[--color-stone-500]",children:"Internal Email"}),n.jsx("p",{className:"text-[--color-forest-700]",children:e.internalEmail})]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Qh,{size:16,className:"text-[--color-stone-400] mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[--color-stone-500]",children:"Created"}),n.jsx("p",{className:"text-[--color-forest-700]",children:pr(e.createdAt)})]})]})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-[--color-stone-200] p-4 space-y-4",children:[n.jsx("h3",{className:"font-semibold text-[--color-forest-700]",children:"Subscription"}),n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-[--color-stone-500] mb-1",children:"Tier"}),n.jsx("span",{className:`px-3 py-1 rounded text-sm font-medium capitalize ${e.subscriptionTier==="care"?"bg-purple-100 text-purple-700":e.subscriptionTier==="essentials"?"bg-blue-100 text-blue-700":"bg-[--color-stone-100] text-[--color-stone-600]"}`,children:e.subscriptionTier})]}),e.trialStartDate&&n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(j0,{size:16,className:"text-[--color-stone-400] mt-0.5"}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[--color-stone-500]",children:"Trial Period"}),n.jsxs("p",{className:"text-[--color-forest-700]",children:[pr(e.trialStartDate),"  ",e.trialEndDate?pr(e.trialEndDate):""]})]})]})]})]}),e.siteSecret&&n.jsxs("div",{className:"bg-white rounded-lg border border-[--color-stone-200] p-4 space-y-4",children:[n.jsx("h3",{className:"font-semibold text-[--color-forest-700]",children:"Secrets"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"text-[--color-stone-500] mb-1",children:"DONEWELL_LOG_SECRET"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("code",{className:"flex-1 bg-[--color-stone-100] px-2 py-1 rounded font-mono text-xs truncate",children:d?e.siteSecret:""}),n.jsx("button",{onClick:()=>f(!d),className:"p-1.5 text-[--color-stone-500] hover:bg-[--color-stone-100] rounded transition-colors",title:d?"Hide":"Reveal",children:d?n.jsx(Xh,{size:14}):n.jsx(ln,{size:14})}),n.jsx("button",{onClick:()=>_(e.siteSecret,"secret"),className:"p-1.5 text-[--color-stone-500] hover:bg-[--color-stone-100] rounded transition-colors",title:"Copy",children:g==="secret"?n.jsx(Ms,{size:14,className:"text-green-600"}):n.jsx(Yh,{size:14})})]})]})]})]})]})]})}function uw({events:e}){return e.length===0?n.jsx("div",{className:"text-center py-8 text-[--color-stone-500]",children:"No health events recorded yet."}):n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"border-b border-[--color-stone-200]",children:[n.jsx("th",{className:"text-left py-2 px-2 font-medium text-[--color-stone-600]",children:"Time"}),n.jsx("th",{className:"text-left py-2 px-2 font-medium text-[--color-stone-600]",children:"Check"}),n.jsx("th",{className:"text-left py-2 px-2 font-medium text-[--color-stone-600]",children:"Result"}),n.jsx("th",{className:"text-right py-2 px-2 font-medium text-[--color-stone-600]",children:"Latency"})]})}),n.jsx("tbody",{children:e.map(t=>n.jsxs("tr",{className:"border-b border-[--color-stone-100] hover:bg-[--color-stone-50]",children:[n.jsx("td",{className:"py-2 px-2 text-[--color-stone-600]",children:pr(t.createdAt)}),n.jsx("td",{className:"py-2 px-2",children:n.jsx("span",{className:"font-mono text-xs bg-[--color-stone-100] px-1.5 py-0.5 rounded",children:t.checkType||""})}),n.jsx("td",{className:"py-2 px-2",children:iw(t.result)}),n.jsx("td",{className:"py-2 px-2 text-right text-[--color-stone-600]",children:t.latencyMs?`${t.latencyMs}ms`:""})]},t.id))})]})})}function dw({incidents:e}){return e.length===0?n.jsx("div",{className:"text-center py-8 text-[--color-stone-500]",children:"No incidents recorded. "}):n.jsx("div",{className:"space-y-3",children:e.map(t=>n.jsx("div",{className:`p-4 rounded-lg border ${t.status==="resolved"?"bg-[--color-stone-50] border-[--color-stone-200]":"bg-red-50 border-red-200"}`,children:n.jsxs("div",{className:"flex items-start justify-between gap-4",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[lw(t.severity),aw(t.status)]}),n.jsx("h4",{className:"font-medium text-[--color-forest-700]",children:t.title}),t.description&&n.jsx("p",{className:"text-sm text-[--color-stone-600] mt-1",children:t.description})]}),n.jsxs("div",{className:"text-right text-xs text-[--color-stone-500]",children:[n.jsxs("p",{children:["Created: ",pr(t.createdAt)]}),t.resolvedAt&&n.jsxs("p",{children:["Resolved: ",pr(t.resolvedAt)]})]})]})},t.id))})}function hw({errors:e,expandedErrors:t,toggleErrorExpanded:r}){return e.length===0?n.jsx("div",{className:"text-center py-8 text-[--color-stone-500]",children:"No error logs received."}):n.jsx("div",{className:"space-y-2",children:e.map(s=>{const o=t.has(s.id);return n.jsxs("div",{className:"border border-[--color-stone-200] rounded-lg overflow-hidden",children:[n.jsxs("button",{onClick:()=>r(s.id),className:"w-full flex items-center gap-3 p-3 text-left hover:bg-[--color-stone-50] transition-colors",children:[o?n.jsx(Ua,{size:16,className:"text-[--color-stone-400]"}):n.jsx(Ba,{size:16,className:"text-[--color-stone-400]"}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-xs font-mono",children:s.level}),n.jsx("span",{className:"text-xs text-[--color-stone-500]",children:pr(s.createdAt)})]}),n.jsx("p",{className:"text-sm text-[--color-forest-700] truncate mt-1",children:s.message})]})]}),o&&n.jsx("div",{className:"px-3 pb-3 pt-0",children:n.jsxs("div",{className:"bg-[--color-stone-100] rounded p-3 space-y-2 text-xs",children:[s.stack&&n.jsxs("div",{children:[n.jsx("span",{className:"text-[--color-stone-500]",children:"Stack trace:"}),n.jsx("pre",{className:"mt-1 font-mono text-[--color-stone-700] whitespace-pre-wrap overflow-x-auto",children:s.stack})]}),s.context&&n.jsxs("div",{children:[n.jsx("span",{className:"text-[--color-stone-500]",children:"Context:"}),n.jsx("pre",{className:"mt-1 font-mono text-[--color-stone-700] whitespace-pre-wrap overflow-x-auto",children:JSON.stringify(s.context,null,2)})]})]})})]},s.id)})})}const Au={siteId:"",siteName:"",primaryDomain:"https://",environment:"production",clientEmail:"",internalEmail:"contact@donewellco.com",subscriptionTier:"essentials",trialStartDate:"",trialEndDate:"",cmsTable:"projects",formsTable:"contact_submissions",siteSecret:""};function fw(e){if(!e)return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[--color-stone-100] text-[--color-stone-600] rounded text-xs font-medium",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-[--color-stone-400]"}),"Unknown"]});switch(e){case"ok":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:[n.jsx(bt,{size:12}),"Healthy"]});case"warn":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-medium",children:[n.jsx(Oo,{size:12}),"Warning"]});case"fail":return n.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:[n.jsx(on,{size:12}),"Failed"]})}}function pw(e){const t={none:"bg-[--color-stone-100] text-[--color-stone-600]",essentials:"bg-blue-100 text-blue-700",care:"bg-purple-100 text-purple-700"};return n.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${t[e]}`,children:e})}function mw(){const{sites:e,loading:t,refetch:r,addSite:s,deleteSite:o,addHealthChecks:i,generateSecret:l,testConnection:c}=nw(),[a,u]=S.useState("list"),[h,d]=S.useState(null),[f,g]=S.useState("all"),[v,x]=S.useState("all"),[w,p]=S.useState(1),[m,y]=S.useState(Au),[j,_]=S.useState(!1),[N,b]=S.useState(null),[k,E]=S.useState(null),[T,U]=S.useState(!1),[W,G]=S.useState(null),[Ee,Ce]=S.useState(!1),[ft,Zt]=S.useState(!1),O=async()=>{Ce(!0),Zt(!1),await r(),Ce(!1),Zt(!0),setTimeout(()=>Zt(!1),2e3)},L=e.filter(R=>!(f!=="all"&&R.subscriptionTier!==f||v!=="all"&&R.status!==v)),M=R=>{d(R),u("detail")},X=async R=>{if(confirm(`Are you sure you want to delete ${R.siteName}? This will remove all health checks and events.`)){G(R.id);try{await o(R.id)}catch(z){console.error("Error deleting site:",z),alert("Failed to delete site. Please try again.")}finally{G(null)}}},ie=async R=>{U(!0),E(null);const z=await c(R);E({ok:z.ok,message:z.ok?`Connected! Status: ${z.status}`:z.error||"Connection failed"}),U(!1)},er=()=>{y({...Au,siteSecret:l()}),p(1),E(null),u("wizard")},pt=async()=>{_(!0);try{const R=await s({siteId:m.siteId,siteName:m.siteName,primaryDomain:m.primaryDomain,environment:m.environment,subscriptionTier:m.subscriptionTier,status:"active",siteSecret:m.siteSecret,clientEmail:m.clientEmail||void 0,internalEmail:m.internalEmail,deploySuppressionMinutes:15,trialStartDate:m.trialStartDate||void 0,trialEndDate:m.trialEndDate||void 0,cmsTable:m.cmsTable||void 0,formsTable:m.formsTable||void 0}),z=[{checkType:"uptime",target:"/"},{checkType:"health_api",target:"/api/health"}];m.cmsTable&&z.push({checkType:"cms",target:"/api/health/cms"}),m.formsTable&&z.push({checkType:"form",target:"/api/health/form-test"}),await i(R.id,z),p(5)}catch(R){console.error("Error creating site:",R),alert("Failed to create site. Please try again.")}finally{_(!1)}},fs=async(R,z)=>{await navigator.clipboard.writeText(R),b(z),setTimeout(()=>b(null),2e3)},ot=()=>`SITE_ID=${m.siteId}
SITE_NAME=${m.siteName}
ENVIRONMENT=${m.environment}
DONEWELL_LOG_SECRET=${m.siteSecret}`,_r=R=>`${R.replace(/[^a-zA-Z0-9]/g," ").trim().split(/\s+/).map(Ef=>{var Ja;return((Ja=Ef[0])==null?void 0:Ja.toLowerCase())||""}).join("")}_prod_001`,Sf=R=>{if(!R)return"";const z=new Date(R);return z.setDate(z.getDate()+14),z.toISOString().split("T")[0]};return a==="detail"&&h?n.jsx(cw,{site:h,onBack:()=>{u("list"),d(null)}}):a==="wizard"?n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[--color-forest-700] mb-2",children:w===5?"Site Created!":"Add New Site"}),n.jsx("p",{className:"text-[--color-stone-600]",children:w===5?"Copy the environment variables below to set up the site.":`Step ${w} of 4`})]}),w!==5&&n.jsx("button",{onClick:()=>u("list"),className:"px-4 py-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",children:"Cancel"})]}),w<5&&n.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4].map(R=>n.jsxs(Jl.Fragment,{children:[n.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${R===w?"bg-[--color-forest-700] text-white":R<w?"bg-[--color-sage-100] text-[--color-forest-700]":"bg-[--color-stone-100] text-[--color-stone-500]"}`,children:R<w?n.jsx(Ms,{size:16}):R}),R<4&&n.jsx("div",{className:`flex-1 h-1 rounded ${R<w?"bg-[--color-sage-200]":"bg-[--color-stone-200]"}`})]},R))}),n.jsxs("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-6",children:[w===1&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:"Site Basics"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Site Name *"}),n.jsx("input",{type:"text",value:m.siteName,onChange:R=>{const z=R.target.value;y(ps=>({...ps,siteName:z,siteId:ps.siteId||_r(z)}))},placeholder:"e.g., kevinlaronda.com",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Site ID *"}),n.jsx("input",{type:"text",value:m.siteId,onChange:R=>y(z=>({...z,siteId:R.target.value})),placeholder:"e.g., klr_prod_001",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),n.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Unique identifier for this site (auto-suggested from name)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Primary Domain *"}),n.jsx("input",{type:"url",value:m.primaryDomain,onChange:R=>y(z=>({...z,primaryDomain:R.target.value})),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Environment"}),n.jsxs("select",{value:m.environment,onChange:R=>y(z=>({...z,environment:R.target.value})),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]",children:[n.jsx("option",{value:"production",children:"Production"}),n.jsx("option",{value:"staging",children:"Staging"}),n.jsx("option",{value:"development",children:"Development"})]})]})]}),w===2&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:"Contacts"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Client Email"}),n.jsx("input",{type:"email",value:m.clientEmail,onChange:R=>y(z=>({...z,clientEmail:R.target.value})),placeholder:"client@example.com",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),n.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Monthly reports will be sent here (if subscribed)"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Internal Email *"}),n.jsx("input",{type:"email",value:m.internalEmail,onChange:R=>y(z=>({...z,internalEmail:R.target.value})),placeholder:"contact@donewellco.com",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),n.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Incident alerts will be sent here"})]})]}),w===3&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:"Subscription"}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Subscription Tier"}),n.jsxs("select",{value:m.subscriptionTier,onChange:R=>y(z=>({...z,subscriptionTier:R.target.value})),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]",children:[n.jsx("option",{value:"none",children:"None (Not Covered)"}),n.jsx("option",{value:"essentials",children:"Essentials"}),n.jsx("option",{value:"care",children:"Care"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Trial Start Date"}),n.jsx("input",{type:"date",value:m.trialStartDate,onChange:R=>{const z=R.target.value;y(ps=>({...ps,trialStartDate:z,trialEndDate:Sf(z)}))},className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),n.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Leave empty if not on trial"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Trial End Date"}),n.jsx("input",{type:"date",value:m.trialEndDate,onChange:R=>y(z=>({...z,trialEndDate:R.target.value})),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),n.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Auto-calculated as 14 days from start"})]})]}),w===4&&n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:"Health Config"}),n.jsx("p",{className:"text-sm text-[--color-stone-600]",children:"Configure which tables to monitor. Leave empty to skip that check."}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"CMS Table Name"}),n.jsx("input",{type:"text",value:m.cmsTable,onChange:R=>y(z=>({...z,cmsTable:R.target.value})),placeholder:"e.g., projects, testimonials",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Forms Table Name"}),n.jsx("input",{type:"text",value:m.formsTable,onChange:R=>y(z=>({...z,formsTable:R.target.value})),placeholder:"e.g., contact_submissions",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"})]}),n.jsxs("div",{className:"pt-4 border-t border-[--color-stone-200]",children:[n.jsx("h4",{className:"text-sm font-medium text-[--color-stone-700] mb-2",children:"Health Checks to Create:"}),n.jsxs("ul",{className:"text-sm text-[--color-stone-600] space-y-1",children:[n.jsx("li",{children:" Uptime check (GET /)"}),n.jsx("li",{children:" Health API (GET /api/health)"}),m.cmsTable&&n.jsx("li",{children:" CMS check (GET /api/health/cms)"}),m.formsTable&&n.jsx("li",{children:" Form test (POST /api/health/form-test)"})]})]})]}),w===5&&n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[n.jsx(bt,{className:"text-green-600",size:24}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-green-800",children:"Site created successfully!"}),n.jsxs("p",{className:"text-sm text-green-700",children:[m.siteName," is now being monitored."]})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-[--color-stone-700] mb-2",children:"Environment Variables for Vercel:"}),n.jsxs("div",{className:"relative",children:[n.jsx("pre",{className:"bg-[--color-stone-100] p-4 rounded-lg text-sm font-mono overflow-x-auto",children:ot()}),n.jsx("button",{onClick:()=>fs(ot(),"env"),className:"absolute top-2 right-2 p-2 bg-white rounded border border-[--color-stone-300] hover:bg-[--color-stone-50] transition-colors",title:"Copy to clipboard",children:N==="env"?n.jsx(Ms,{size:16,className:"text-green-600"}):n.jsx(Yh,{size:16})})]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"text-sm font-medium text-[--color-stone-700] mb-2",children:"Test Connection:"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:()=>ie(m.primaryDomain),disabled:T,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors disabled:opacity-50",children:[T?n.jsx(Cs,{size:16,className:"animate-spin"}):k!=null&&k.ok?n.jsx(lu,{size:16}):k?n.jsx(Ug,{size:16}):n.jsx(lu,{size:16}),"Test Connection"]}),k&&n.jsx("span",{className:`text-sm ${k.ok?"text-green-600":"text-red-600"}`,children:k.message})]}),n.jsx("p",{className:"text-xs text-[--color-stone-500] mt-2",children:"Note: Test will fail until you deploy the health adapter to the site."})]})]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[w>1&&w<5?n.jsxs("button",{onClick:()=>p(R=>R-1),className:"flex items-center gap-2 px-4 py-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",children:[n.jsx(x0,{size:20}),"Back"]}):n.jsx("div",{}),w<4&&n.jsxs("button",{onClick:()=>p(R=>R+1),disabled:w===1&&(!m.siteId||!m.siteName||!m.primaryDomain)||w===2&&!m.internalEmail,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",n.jsx(Ba,{size:20})]}),w===4&&n.jsx("button",{onClick:pt,disabled:j,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors disabled:opacity-50",children:j?n.jsxs(n.Fragment,{children:[n.jsx(Cs,{size:16,className:"animate-spin"}),"Creating..."]}):n.jsxs(n.Fragment,{children:["Create Site",n.jsx(bt,{size:16})]})}),w===5&&n.jsxs("button",{onClick:()=>{u("list"),r()},className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:["Done",n.jsx(Ms,{size:16})]})]})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[--color-forest-700] mb-2",children:"Client Subscriptions"}),n.jsx("p",{className:"text-[--color-stone-600]",children:"Manage monitored sites and their health check configurations."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:O,disabled:Ee,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${ft?"bg-green-100 text-green-700":Ee?"bg-[--color-stone-100] text-[--color-stone-400] cursor-wait":"text-[--color-stone-600] hover:bg-[--color-stone-100] active:scale-95"}`,title:"Refresh (auto-refreshes every 30s)",children:ft?n.jsxs(n.Fragment,{children:[n.jsx(bt,{size:16}),n.jsx("span",{className:"text-sm",children:"Updated"})]}):n.jsx(Ro,{size:16,className:Ee?"animate-spin":""})}),n.jsxs("button",{onClick:er,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:[n.jsx(ls,{size:16}),"Add Site"]})]})]}),n.jsxs("div",{className:"flex gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-[--color-stone-600]",children:"Tier:"}),n.jsxs("select",{value:f,onChange:R=>g(R.target.value),className:"px-3 py-1.5 border border-[--color-stone-300] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"none",children:"None"}),n.jsx("option",{value:"essentials",children:"Essentials"}),n.jsx("option",{value:"care",children:"Care"})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-sm text-[--color-stone-600]",children:"Status:"}),n.jsxs("select",{value:v,onChange:R=>x(R.target.value),className:"px-3 py-1.5 border border-[--color-stone-300] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"active",children:"Active"}),n.jsx("option",{value:"paused",children:"Paused"}),n.jsx("option",{value:"archived",children:"Archived"})]})]})]}),t?n.jsx("div",{className:"flex items-center justify-center py-12",children:n.jsx(Cs,{size:32,className:"animate-spin text-[--color-forest-700]"})}):L.length===0?n.jsxs("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-12 text-center",children:[n.jsx(To,{size:48,className:"mx-auto mb-4 text-[--color-stone-300]"}),n.jsx("p",{className:"text-[--color-stone-600] mb-4",children:"No sites found."}),n.jsxs("button",{onClick:er,className:"inline-flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:[n.jsx(ls,{size:16}),"Add Your First Site"]})]}):n.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg overflow-hidden",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-[--color-stone-50] border-b border-[--color-stone-200]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Site"}),n.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Tier"}),n.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Status"}),n.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Health"}),n.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Actions"})]})}),n.jsx("tbody",{children:L.map(R=>n.jsxs("tr",{className:"border-b border-[--color-stone-100] hover:bg-[--color-stone-50] cursor-pointer",onClick:()=>M(R),children:[n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-[--color-sage-100] rounded-lg flex items-center justify-center",children:n.jsx(To,{className:"text-[--color-forest-700]",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"font-medium text-[--color-forest-700]",children:R.siteName}),n.jsx("p",{className:"text-sm text-[--color-stone-500]",children:R.primaryDomain})]})]})}),n.jsx("td",{className:"px-4 py-4",children:pw(R.subscriptionTier)}),n.jsx("td",{className:"px-4 py-4",children:n.jsx("span",{className:"capitalize text-sm text-[--color-stone-600]",children:R.status})}),n.jsx("td",{className:"px-4 py-4",children:fw(R.lastCheckResult)}),n.jsx("td",{className:"px-4 py-4",children:n.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:z=>z.stopPropagation(),children:[n.jsx("button",{onClick:()=>M(R),className:"p-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",title:"View details",children:n.jsx(ln,{size:16})}),n.jsx("button",{onClick:()=>X(R),disabled:W===R.id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Delete site",children:W===R.id?n.jsx(Cs,{size:16,className:"animate-spin"}):n.jsx(as,{size:16})})]})})]},R.id))})]})})]})}function gw(){const[e,t]=S.useState([]),[r,s]=S.useState(!0),[o,i]=S.useState(null),l=async()=>{try{s(!0),i(null);const{data:g,error:v}=await B.from("email_analytics").select("*").order("sent_at",{ascending:!1});if(v)throw v;t(g||[])}catch(g){i(g instanceof Error?g:new Error("Failed to fetch email analytics")),console.error("Error fetching email analytics:",g)}finally{s(!1)}};S.useEffect(()=>{l()},[]);const c=Object.values(e.reduce((g,v)=>{const x=v.subject||"No Subject";return g[x]||(g[x]={subject:x,sendCount:0,deliveredCount:0,openCount:0,clickCount:0,bounceCount:0,complaintCount:0,openRate:0,clickRate:0,bounceRate:0,complaintRate:0,emails:[]}),g[x].sendCount+=1,g[x].deliveredCount+=v.delivered_count>0?1:0,g[x].openCount+=v.open_count>0?1:0,g[x].clickCount+=v.click_count>0?1:0,g[x].bounceCount+=v.bounce_count>0?1:0,g[x].complaintCount+=v.complaint_count>0?1:0,g[x].emails.push(v),g},{})).map(g=>({...g,openRate:g.deliveredCount>0?g.openCount/g.deliveredCount*100:0,clickRate:g.deliveredCount>0?g.clickCount/g.deliveredCount*100:0,bounceRate:g.sendCount>0?g.bounceCount/g.sendCount*100:0,complaintRate:g.sendCount>0?g.complaintCount/g.sendCount*100:0})).sort((g,v)=>v.sendCount-g.sendCount),a=e.reduce((g,v)=>({total:g.total+1,delivered:g.delivered+(v.delivered_count>0?1:0),opened:g.opened+(v.open_count>0?1:0),clicked:g.clicked+(v.click_count>0?1:0),bounced:g.bounced+(v.bounce_count>0?1:0),complained:g.complained+(v.complaint_count>0?1:0)}),{total:0,delivered:0,opened:0,clicked:0,bounced:0,complained:0}),u=a.delivered>0?a.opened/a.delivered*100:0,h=a.delivered>0?a.clicked/a.delivered*100:0,d=a.total>0?a.bounced/a.total*100:0,f=a.total>0?a.complained/a.total*100:0;return{analytics:e,bySubject:c,loading:r,error:o,refetch:l,stats:{...a,openRate:Math.round(u*10)/10,clickRate:Math.round(h*10)/10,bounceRate:Math.round(d*10)/10,complaintRate:Math.round(f*10)/10}}}function xw(){const{bySubject:e,loading:t,error:r,stats:s,refetch:o}=gw(),[i,l]=S.useState(null),[c,a]=S.useState(!1),[u,h]=S.useState(!1);S.useEffect(()=>{if(u){const x=setTimeout(()=>h(!1),2e3);return()=>clearTimeout(x)}},[u]);const d=async()=>{a(!0),h(!1),await o(),a(!1),h(!0)},f=x=>x?new Date(x).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",g=x=>`${x.toFixed(1)}%`,v=x=>{l(i===x?null:x)};return t?n.jsxs("div",{className:"flex items-center justify-center p-12",children:[n.jsx(Ro,{className:"animate-spin text-[--color-stone-400] mr-2",size:20}),n.jsx("p",{className:"text-[--color-stone-600]",children:"Loading email analytics..."})]}):r?n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[n.jsxs("p",{className:"text-red-700",children:["Error loading analytics: ",r.message]}),n.jsx("button",{type:"button",onClick:d,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Retry"})]}):n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold text-[--color-forest-700] mb-2",children:"Email Analytics"}),n.jsx("p",{className:"text-[--color-stone-600]",children:"Track performance of your audit outreach emails by subject line."})]}),n.jsx("button",{type:"button",onClick:d,disabled:c,className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${u?"bg-green-100 text-green-700":c?"bg-[--color-stone-100] text-[--color-stone-400] cursor-wait":"text-[--color-stone-600] hover:bg-[--color-stone-100] active:scale-95"}`,title:"Refresh analytics data",children:u?n.jsxs(n.Fragment,{children:[n.jsx(bt,{size:16}),n.jsx("span",{className:"text-sm",children:"Updated"})]}):n.jsx(Ro,{size:16,className:c?"animate-spin":""})})]}),n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[n.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-[--color-sage-100] rounded-lg flex items-center justify-center",children:n.jsx(bg,{className:"text-[--color-forest-700]",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[--color-stone-500] uppercase tracking-wide",children:"Sent"}),n.jsx("p",{className:"text-2xl font-bold text-[--color-forest-700]",children:s.total})]})]})}),n.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(ln,{className:"text-blue-700",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[--color-stone-500] uppercase tracking-wide",children:"Open Rate"}),n.jsx("p",{className:"text-2xl font-bold text-blue-700",children:g(s.openRate)})]})]})}),n.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:n.jsx(iu,{className:"text-green-700",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[--color-stone-500] uppercase tracking-wide",children:"Click Rate"}),n.jsx("p",{className:"text-2xl font-bold text-green-700",children:g(s.clickRate)})]})]})}),n.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:n.jsx(on,{className:"text-orange-700",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[--color-stone-500] uppercase tracking-wide",children:"Bounce Rate"}),n.jsx("p",{className:"text-2xl font-bold text-orange-700",children:g(s.bounceRate)})]})]})}),n.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-red-100 rounded-lg flex items-center justify-center",children:n.jsx(Oo,{className:"text-red-700",size:20})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-[--color-stone-500] uppercase tracking-wide",children:"Complaint Rate"}),n.jsx("p",{className:"text-2xl font-bold text-red-700",children:g(s.complaintRate)})]})]})})]}),e.length===0?n.jsxs("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-12 text-center",children:[n.jsx(an,{className:"mx-auto text-[--color-stone-400] mb-4",size:48}),n.jsx("p",{className:"text-[--color-stone-600]",children:"No emails sent yet."}),n.jsx("p",{className:"text-sm text-[--color-stone-500] mt-2",children:"Emails will appear here once they are sent via the audit outreach system."})]}):n.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg overflow-hidden",children:n.jsx("div",{className:"overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-[--color-stone-50] border-b border-[--color-stone-200]",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-[--color-stone-700] uppercase tracking-wider",children:"Subject Line"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-[--color-stone-700] uppercase tracking-wider",children:"Sent"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-[--color-stone-700] uppercase tracking-wider",children:"Open Rate"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-[--color-stone-700] uppercase tracking-wider",children:"Click Rate"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-[--color-stone-700] uppercase tracking-wider",children:"Bounce Rate"}),n.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-[--color-stone-700] uppercase tracking-wider",children:"Complaint Rate"})]})}),n.jsx("tbody",{className:"divide-y divide-[--color-stone-200]",children:e.map(x=>n.jsxs(Jl.Fragment,{children:[n.jsxs("tr",{className:"hover:bg-[--color-stone-50] cursor-pointer transition-colors",onClick:()=>v(x.subject),children:[n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-2",children:[i===x.subject?n.jsx(Ua,{className:"text-[--color-stone-400] flex-shrink-0",size:16}):n.jsx(Ba,{className:"text-[--color-stone-400] flex-shrink-0",size:16}),n.jsx("span",{className:"text-sm font-medium text-[--color-forest-700]",children:x.subject})]})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx("span",{className:"inline-flex items-center justify-center min-w-[2.5rem] px-2 py-1 bg-[--color-stone-100] text-[--color-stone-700] rounded-full text-sm font-medium",children:x.sendCount})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx(Hn,{rate:x.openRate,count:x.openCount,total:x.deliveredCount,color:"blue"})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx(Hn,{rate:x.clickRate,count:x.clickCount,total:x.deliveredCount,color:"green"})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx(Hn,{rate:x.bounceRate,count:x.bounceCount,total:x.sendCount,color:"orange"})}),n.jsx("td",{className:"px-4 py-4 text-center",children:n.jsx(Hn,{rate:x.complaintRate,count:x.complaintCount,total:x.sendCount,color:"red"})})]}),i===x.subject&&n.jsx("tr",{children:n.jsx("td",{colSpan:6,className:"px-6 py-4 bg-[--color-stone-50]",children:n.jsxs("div",{className:"space-y-2",children:[n.jsxs("p",{className:"text-xs font-medium text-[--color-stone-600] uppercase tracking-wide mb-3",children:["Individual Emails (",x.emails.length,")"]}),n.jsx("div",{className:"grid gap-2",children:x.emails.map(w=>n.jsxs("div",{className:"flex items-center justify-between bg-white rounded-lg px-4 py-3 border border-[--color-stone-200]",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("p",{className:"text-sm font-medium text-[--color-forest-700] truncate",children:w.company_name||"Unknown Company"}),n.jsx("p",{className:"text-xs text-[--color-stone-500] truncate",children:w.recipient_email})]}),n.jsxs("div",{className:"flex items-center gap-4 ml-4",children:[n.jsx("span",{className:"text-xs text-[--color-stone-500]",children:f(w.sent_at)}),n.jsxs("div",{className:"flex items-center gap-2",children:[w.open_count>0&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-blue-700 bg-blue-50 px-2 py-1 rounded",children:[n.jsx(ln,{size:12})," ",w.open_count]}),w.click_count>0&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-green-700 bg-green-50 px-2 py-1 rounded",children:[n.jsx(iu,{size:12})," ",w.click_count]}),w.bounce_count>0&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-orange-700 bg-orange-50 px-2 py-1 rounded",children:[n.jsx(on,{size:12})," Bounced"]}),w.complaint_count>0&&n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-red-700 bg-red-50 px-2 py-1 rounded",children:[n.jsx(Oo,{size:12})," Complaint"]}),w.open_count===0&&w.click_count===0&&w.bounce_count===0&&w.complaint_count===0&&w.delivered_count>0&&n.jsx("span",{className:"text-xs text-[--color-stone-500]",children:"Delivered"}),w.delivered_count===0&&w.bounce_count===0&&n.jsx("span",{className:"text-xs text-[--color-stone-400]",children:"Sent"})]})]})]},w.email_draft_id))})]})})})]},x.subject))})]})})})]})}function Hn({rate:e,count:t,total:r,color:s}){const o={blue:"text-blue-700",green:"text-green-700",orange:"text-orange-700",red:"text-red-700"};return n.jsxs("div",{className:"flex flex-col items-center",children:[n.jsxs("span",{className:`text-sm font-semibold ${o[s]}`,children:[e.toFixed(1),"%"]}),n.jsxs("span",{className:"text-xs text-[--color-stone-500]",children:[t,"/",r]})]})}function vw(){const{logout:e,projects:t,testimonials:r,metrics:s,leads:o}=ht(),[i,l]=S.useState("projects"),c=async()=>{confirm("Are you sure you want to logout?")&&(await e(),window.history.pushState({},"","/admin"),window.location.reload())},a=[{label:"Total Projects",value:t.length,icon:O0},{label:"Testimonials",value:r.length,icon:ug},{label:"Metrics",value:s.length,icon:f0},{label:"Leads",value:o.length,icon:tf}];return n.jsxs("div",{className:"min-h-screen bg-[--color-stone-50]",children:[n.jsx("header",{className:"bg-white border-b border-[--color-stone-200]",children:n.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"mb-1",children:"DoneWell CMS"}),n.jsx("p",{className:"text-sm text-[--color-stone-600]",children:"Manage your content"})]}),n.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 text-[--color-stone-700] hover:bg-[--color-stone-100] rounded-lg transition-colors",children:[n.jsx(lg,{size:20}),"Logout"]})]})})}),n.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:a.map(u=>{const h=u.icon;return n.jsx("div",{className:"bg-white p-6 rounded-xl border border-[--color-stone-200]",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-sm text-[--color-stone-600] mb-1",children:u.label}),n.jsx("p",{className:"text-3xl text-[--color-forest-700]",children:u.value})]}),n.jsx("div",{className:"w-12 h-12 bg-[--color-sage-100] rounded-lg flex items-center justify-center",children:n.jsx(h,{className:"text-[--color-forest-700]",size:24})})]})},u.label)})}),n.jsxs("div",{className:"bg-white rounded-xl border border-[--color-stone-200] overflow-hidden",children:[n.jsx("div",{className:"border-b border-[--color-stone-200]",children:n.jsxs("div",{className:"flex",children:[n.jsx("button",{onClick:()=>l("projects"),className:`px-6 py-4 text-sm transition-colors ${i==="projects"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:"Projects"}),n.jsx("button",{onClick:()=>l("testimonials"),className:`px-6 py-4 text-sm transition-colors ${i==="testimonials"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:"Testimonials"}),n.jsx("button",{onClick:()=>l("metrics"),className:`px-6 py-4 text-sm transition-colors ${i==="metrics"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:"Metrics"}),n.jsx("button",{onClick:()=>l("leads"),className:`px-6 py-4 text-sm transition-colors ${i==="leads"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:"Leads"}),n.jsxs("button",{onClick:()=>l("subscriptions"),className:`px-6 py-4 text-sm transition-colors flex items-center gap-2 ${i==="subscriptions"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:[n.jsx(To,{size:16}),"Client Subscriptions"]}),n.jsxs("button",{onClick:()=>l("email-analytics"),className:`px-6 py-4 text-sm transition-colors flex items-center gap-2 ${i==="email-analytics"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:[n.jsx(an,{size:16}),"Email Analytics"]})]})}),n.jsxs("div",{className:"p-6",children:[i==="projects"&&n.jsx(ew,{}),i==="testimonials"&&n.jsx(tw,{}),i==="metrics"&&n.jsx(rw,{}),i==="leads"&&n.jsx(sw,{}),i==="subscriptions"&&n.jsx(mw,{}),i==="email-analytics"&&n.jsx(xw,{})]})]})]})]})}function yw(){const[e,t]=S.useState(null),[r,s]=S.useState(!1),[o,i]=S.useState(!0),[l,c]=S.useState(null);return S.useEffect(()=>{const u=new URLSearchParams(window.location.search).get("email");if(!u){c("No email address provided"),i(!1);return}t(u),(async()=>{try{const f=await fetch(`https://udiskjjuszutgpvkogzw.supabase.co/functions/v1/suppress-email?email=${encodeURIComponent(u)}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!f.ok){const v=await f.json();throw new Error(v.error||"Failed to suppress email")}const g=await f.json();if(g.success)s(!0);else throw new Error(g.error||"Failed to suppress email")}catch(d){console.error("Error suppressing email:",d),c(d instanceof Error?d.message:"An error occurred")}finally{i(!1)}})()},[]),n.jsx("div",{className:"min-h-screen bg-[#faf8f5] flex items-center justify-center px-6 py-20",children:n.jsxs("div",{className:"max-w-2xl w-full",children:[n.jsx("div",{className:"mb-8",children:n.jsx("img",{src:"https://udiskjjuszutgpvkogzw.supabase.co/storage/v1/object/public/site-assets/Assets/Logo.svg",alt:"DoneWell",className:"h-10"})}),o?n.jsx("div",{className:"bg-white rounded-[8px] p-12 text-center",children:n.jsx("p",{className:"text-[--color-stone-700]",children:"Processing your request..."})}):l?n.jsxs("div",{className:"bg-white rounded-[8px] p-12 text-center",children:[n.jsx("h1",{className:"text-2xl font-semibold text-[--color-forest-700] mb-4",children:"Error"}),n.jsx("p",{className:"text-[--color-stone-700] mb-4",children:l}),n.jsxs("p",{className:"text-sm text-[--color-stone-600]",children:["Please contact us at"," ",n.jsx("a",{href:"mailto:hello@donewellco.com",className:"text-[--color-forest-700] hover:underline",children:"hello@donewellco.com"})," ","if you need assistance."]})]}):r?n.jsxs("div",{className:"bg-white rounded-[8px] p-12",children:[n.jsx("h2",{className:"text-3xl font-semibold text-[--color-forest-700] mb-6",children:"You're all set"}),n.jsxs("div",{className:"prose prose-lg max-w-none text-[--color-stone-700] leading-relaxed mb-8",children:[n.jsx("p",{className:"mb-4",children:"You've been removed from our outreach list, and you won't receive further emails like this from us."}),n.jsx("p",{className:"mb-4",children:"We only reach out when we've taken time to review a site and think the note could be useful. That said, your inbox is yours  and we respect that."}),n.jsx("p",{className:"mb-8",children:"If you ever want a second set of eyes on a website or a new idea you're working on, that's what we do."})]}),n.jsxs("div",{className:"border-t border-[--color-stone-200] pt-8 mt-8",children:[n.jsx("p",{className:"text-[--color-stone-700] mb-2",children:""}),n.jsx("p",{className:"text-[--color-stone-900] font-semibold mb-1",children:"Kevin"}),n.jsx("p",{className:"text-[--color-stone-700]",children:"DoneWell Design Co"})]}),n.jsx("div",{className:"mt-12 pt-8 border-t border-[--color-stone-100]",children:n.jsx("p",{className:"text-sm text-[--color-stone-500] text-center",children:"Helping businesses design, build, and launch clear, fast websites  without complexity."})})]}):null]})})}function ww(){const[e,t]=S.useState(!1),[r,s]=S.useState("home"),[o,i]=S.useState(""),{isAuthenticated:l}=ht();Jl.useEffect(()=>{const h=window.location.pathname;if(h==="/"||h==="")s("home");else if(h==="/work")s("work");else if(h==="/about")s("about");else if(h==="/how-we-work")s("how-we-work");else if(h==="/services-agreement")s("services-agreement");else if(h==="/capabilities")s("capabilities");else if(h==="/admin")s("admin");else if(h==="/unsubscribe")s("unsubscribe");else if(h.startsWith("/projects/")){s("project");const g=h.split("/projects/")[1];i(g)}const d=()=>{const g=window.location.pathname;if(g==="/"||g==="")s("home");else if(g==="/work")s("work");else if(g==="/about")s("about");else if(g==="/how-we-work")s("how-we-work");else if(g==="/services-agreement")s("services-agreement");else if(g==="/capabilities")s("capabilities");else if(g==="/admin")s("admin");else if(g==="/unsubscribe")s("unsubscribe");else if(g.startsWith("/projects/")){s("project");const v=g.split("/projects/")[1];i(v)}};window.addEventListener("popstate",d);const f=g=>{const x=g.target.closest("a");if(x&&x.href){const w=new URL(x.href);if(w.origin===window.location.origin){g.preventDefault();const p=w.pathname;if(p==="/"||p==="")s("home"),window.history.pushState({},"","/");else if(p==="/work")s("work"),window.history.pushState({},"","/work");else if(p==="/about")s("about"),window.history.pushState({},"","/about");else if(p==="/how-we-work")s("how-we-work"),window.history.pushState({},"","/how-we-work");else if(p==="/services-agreement")s("services-agreement"),window.history.pushState({},"","/services-agreement");else if(p==="/capabilities")s("capabilities"),window.history.pushState({},"","/capabilities");else if(p==="/admin")s("admin"),window.history.pushState({},"","/admin");else if(p==="/unsubscribe")s("unsubscribe"),window.history.pushState({},"","/unsubscribe");else if(p.startsWith("/projects/")){s("project");const m=p.split("/projects/")[1];i(m),window.history.pushState({},"",p)}window.scrollTo(0,0)}}};return document.addEventListener("click",f),()=>{window.removeEventListener("popstate",d),document.removeEventListener("click",f)}},[]);const c=()=>{t(!0)},a=()=>{t(!1)},u=()=>{s("admin")};return r==="unsubscribe"?n.jsx(yw,{}):r==="admin"?l?n.jsx(vw,{}):n.jsx(Xy,{onLoginSuccess:u}):r==="work"?n.jsx(Fy,{onGetStartedClick:c,isModalOpen:e,onModalClose:a}):r==="about"?n.jsx(Hy,{onGetStartedClick:c,isModalOpen:e,onModalClose:a}):r==="how-we-work"?n.jsx(Vy,{onGetStartedClick:c,isModalOpen:e,onModalClose:a}):r==="services-agreement"?n.jsx(qy,{onGetStartedClick:c,isModalOpen:e,onModalClose:a}):r==="capabilities"?n.jsx(Gy,{onGetStartedClick:c,isModalOpen:e,onModalClose:a}):r==="project"?n.jsx(Yy,{projectSlug:o,onGetStartedClick:c,isModalOpen:e,onModalClose:a}):n.jsx(Wy,{onGetStartedClick:c,isModalOpen:e,onModalClose:a})}function bw(){return n.jsx(By,{children:n.jsx(ww,{})})}const jw=/^((?:[a-z0-9-]+:)*)((?:text|bg|border|from|via|to))-\[--color-([a-z]+)-(\d+)\]$/i;function _w(e){const t=e.match(jw);if(!t)return null;const[,r,s,o,i]=t;return`${r}${s}-${o.toLowerCase()}-${i}`}function Hl(e){if(!(e instanceof HTMLElement)||!e.classList||e.classList.length===0)return;const t=Array.from(e.classList);for(const r of t){const s=_w(r);!s||s===r||(e.classList.remove(r),e.classList.add(s))}}function Iu(e){var t,r;e instanceof Element&&Hl(e),(r=(t=e.querySelectorAll)==null?void 0:t.call(e,"[class]"))==null||r.forEach(s=>Hl(s))}function Nw(){Iu(document),new MutationObserver(t=>{for(const r of t){if(r.type==="attributes"&&r.target instanceof Element){Hl(r.target);continue}for(const s of r.addedNodes)s.nodeType===Node.ELEMENT_NODE&&Iu(s)}}).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]})}async function kw(){console.log("Testing Supabase connection...");try{const{data:e,error:t}=await B.from("projects").select("count").limit(1);if(t)return console.error(" Projects table error:",t.message),(t.message.includes("relation")||t.message.includes("does not exist"))&&(console.error(" Tip: Run the SQL migration in Supabase SQL Editor!"),console.error("   File: supabase/migrations/001_initial_schema.sql")),!1;console.log(" Projects table accessible");const{data:r,error:s}=await B.from("testimonials").select("count").limit(1);if(s)return console.error(" Testimonials table error:",s.message),!1;console.log(" Testimonials table accessible");const{data:o,error:i}=await B.from("metrics").select("count").limit(1);return i?(console.error(" Metrics table error:",i.message),!1):(console.log(" Metrics table accessible"),console.log(" All Supabase tables are accessible!"),!0)}catch(e){return console.error(" Connection test failed:",e),!1}}typeof window<"u"&&(window.testSupabase=kw);Nw();Kh(document.getElementById("root")).render(n.jsx(bw,{}));
