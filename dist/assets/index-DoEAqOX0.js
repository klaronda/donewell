(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function gf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var _u={exports:{}},ko={},ju={exports:{}},W={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var as=Symbol.for("react.element"),vf=Symbol.for("react.portal"),yf=Symbol.for("react.fragment"),xf=Symbol.for("react.strict_mode"),wf=Symbol.for("react.profiler"),bf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),jf=Symbol.for("react.forward_ref"),kf=Symbol.for("react.suspense"),Nf=Symbol.for("react.memo"),Sf=Symbol.for("react.lazy"),Ml=Symbol.iterator;function Ef(e){return e===null||typeof e!="object"?null:(e=Ml&&e[Ml]||e["@@iterator"],typeof e=="function"?e:null)}var ku={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nu=Object.assign,Su={};function an(e,t,r){this.props=e,this.context=t,this.refs=Su,this.updater=r||ku}an.prototype.isReactComponent={};an.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};an.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Eu(){}Eu.prototype=an.prototype;function $a(e,t,r){this.props=e,this.context=t,this.refs=Su,this.updater=r||ku}var La=$a.prototype=new Eu;La.constructor=$a;Nu(La,an.prototype);La.isPureReactComponent=!0;var Ul=Array.isArray,Cu=Object.prototype.hasOwnProperty,Da={current:null},Tu={key:!0,ref:!0,__self:!0,__source:!0};function Ou(e,t,r){var n,s={},o=null,a=null;if(t!=null)for(n in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)Cu.call(t,n)&&!Tu.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(c===1)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)s[n]===void 0&&(s[n]=c[n]);return{$$typeof:as,type:e,key:o,ref:a,props:s,_owner:Da.current}}function Cf(e,t){return{$$typeof:as,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function za(e){return typeof e=="object"&&e!==null&&e.$$typeof===as}function Tf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Bl=/\/+/g;function Ho(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tf(""+e.key):t.toString(36)}function Ls(e,t,r,n,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case as:case vf:a=!0}}if(a)return a=e,s=s(a),e=n===""?"."+Ho(a,0):n,Ul(s)?(r="",e!=null&&(r=e.replace(Bl,"$&/")+"/"),Ls(s,t,r,"",function(u){return u})):s!=null&&(za(s)&&(s=Cf(s,r+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Bl,"$&/")+"/")+e)),t.push(s)),1;if(a=0,n=n===""?".":n+":",Ul(e))for(var c=0;c<e.length;c++){o=e[c];var l=n+Ho(o,c);a+=Ls(o,t,r,l,s)}else if(l=Ef(e),typeof l=="function")for(e=l.call(e),c=0;!(o=e.next()).done;)o=o.value,l=n+Ho(o,c++),a+=Ls(o,t,r,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function fs(e,t,r){if(e==null)return e;var n=[],s=0;return Ls(e,n,"","",function(o){return t.call(r,o,s++)}),n}function Of(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ne={current:null},Ds={transition:null},Pf={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Ds,ReactCurrentOwner:Da};function Pu(){throw Error("act(...) is not supported in production builds of React.")}W.Children={map:fs,forEach:function(e,t,r){fs(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fs(e,function(){t++}),t},toArray:function(e){return fs(e,function(t){return t})||[]},only:function(e){if(!za(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};W.Component=an;W.Fragment=yf;W.Profiler=wf;W.PureComponent=$a;W.StrictMode=xf;W.Suspense=kf;W.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pf;W.act=Pu;W.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Nu({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Da.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)Cu.call(t,l)&&!Tu.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&c!==void 0?c[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];n.children=c}return{$$typeof:as,type:e.type,key:s,ref:o,props:n,_owner:a}};W.createContext=function(e){return e={$$typeof:_f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:bf,_context:e},e.Consumer=e};W.createElement=Ou;W.createFactory=function(e){var t=Ou.bind(null,e);return t.type=e,t};W.createRef=function(){return{current:null}};W.forwardRef=function(e){return{$$typeof:jf,render:e}};W.isValidElement=za;W.lazy=function(e){return{$$typeof:Sf,_payload:{_status:-1,_result:e},_init:Of}};W.memo=function(e,t){return{$$typeof:Nf,type:e,compare:t===void 0?null:t}};W.startTransition=function(e){var t=Ds.transition;Ds.transition={};try{e()}finally{Ds.transition=t}};W.unstable_act=Pu;W.useCallback=function(e,t){return Ne.current.useCallback(e,t)};W.useContext=function(e){return Ne.current.useContext(e)};W.useDebugValue=function(){};W.useDeferredValue=function(e){return Ne.current.useDeferredValue(e)};W.useEffect=function(e,t){return Ne.current.useEffect(e,t)};W.useId=function(){return Ne.current.useId()};W.useImperativeHandle=function(e,t,r){return Ne.current.useImperativeHandle(e,t,r)};W.useInsertionEffect=function(e,t){return Ne.current.useInsertionEffect(e,t)};W.useLayoutEffect=function(e,t){return Ne.current.useLayoutEffect(e,t)};W.useMemo=function(e,t){return Ne.current.useMemo(e,t)};W.useReducer=function(e,t,r){return Ne.current.useReducer(e,t,r)};W.useRef=function(e){return Ne.current.useRef(e)};W.useState=function(e){return Ne.current.useState(e)};W.useSyncExternalStore=function(e,t,r){return Ne.current.useSyncExternalStore(e,t,r)};W.useTransition=function(){return Ne.current.useTransition()};W.version="18.3.1";ju.exports=W;var E=ju.exports;const Ru=gf(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=E,Af=Symbol.for("react.element"),If=Symbol.for("react.fragment"),$f=Object.prototype.hasOwnProperty,Lf=Rf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Df={key:!0,ref:!0,__self:!0,__source:!0};function Au(e,t,r){var n,s={},o=null,a=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(n in t)$f.call(t,n)&&!Df.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Af,type:e,key:o,ref:a,props:s,_owner:Lf.current}}ko.Fragment=If;ko.jsx=Au;ko.jsxs=Au;_u.exports=ko;var i=_u.exports,Iu={exports:{}},We={},$u={exports:{}},Lu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(P,z){var U=P.length;P.push(z);e:for(;0<U;){var Y=U-1>>>1,ie=P[Y];if(0<s(ie,z))P[Y]=z,P[U]=ie,U=Y;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var z=P[0],U=P.pop();if(U!==z){P[0]=U;e:for(var Y=0,ie=P.length,gr=ie>>>1;Y<gr;){var O=2*(Y+1)-1,D=P[O],Ie=O+1,vr=P[Ie];if(0>s(D,U))Ie<ie&&0>s(vr,D)?(P[Y]=vr,P[Ie]=U,Y=Ie):(P[Y]=D,P[O]=U,Y=O);else if(Ie<ie&&0>s(vr,U))P[Y]=vr,P[Ie]=U,Y=Ie;else break e}}return z}function s(P,z){var U=P.sortIndex-z.sortIndex;return U!==0?U:P.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();e.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,x=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(P){for(var z=r(u);z!==null;){if(z.callback===null)n(u);else if(z.startTime<=P)n(u),z.sortIndex=z.expirationTime,t(l,z);else break;z=r(u)}}function _(P){if(y=!1,g(P),!v)if(r(l)!==null)v=!0,Nt(j);else{var z=r(u);z!==null&&un(_,z.startTime-P)}}function j(P,z){v=!1,y&&(y=!1,p(N),N=-1),x=!0;var U=f;try{for(g(z),d=r(l);d!==null&&(!(d.expirationTime>z)||P&&!M());){var Y=d.callback;if(typeof Y=="function"){d.callback=null,f=d.priorityLevel;var ie=Y(d.expirationTime<=z);z=e.unstable_now(),typeof ie=="function"?d.callback=ie:d===r(l)&&n(l),g(z)}else n(l);d=r(l)}if(d!==null)var gr=!0;else{var O=r(u);O!==null&&un(_,O.startTime-z),gr=!1}return gr}finally{d=null,f=U,x=!1}}var k=!1,b=null,N=-1,S=5,T=-1;function M(){return!(e.unstable_now()-T<S)}function B(){if(b!==null){var P=e.unstable_now();T=P;var z=!0;try{z=b(!0,P)}finally{z?G():(k=!1,b=null)}}else k=!1}var G;if(typeof m=="function")G=function(){m(B)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,Ee=Ae.port2;Ae.port1.onmessage=B,G=function(){Ee.postMessage(null)}}else G=function(){w(B,0)};function Nt(P){b=P,k||(k=!0,G())}function un(P,z){N=w(function(){P(e.unstable_now())},z)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_continueExecution=function(){v||x||(v=!0,Nt(j))},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(P){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var U=f;f=z;try{return P()}finally{f=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(P,z){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var U=f;f=P;try{return z()}finally{f=U}},e.unstable_scheduleCallback=function(P,z,U){var Y=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?Y+U:Y):U=Y,P){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=U+ie,P={id:h++,callback:z,priorityLevel:P,startTime:U,expirationTime:ie,sortIndex:-1},U>Y?(P.sortIndex=U,t(u,P),r(l)===null&&P===r(u)&&(y?(p(N),N=-1):y=!0,un(_,U-Y))):(P.sortIndex=ie,t(l,P),v||x||(v=!0,Nt(j))),P},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(P){var z=f;return function(){var U=f;f=z;try{return P.apply(this,arguments)}finally{f=U}}}})(Lu);$u.exports=Lu;var zf=$u.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mf=E,Be=zf;function C(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Du=new Set,Dn={};function pr(e,t){Gr(e,t),Gr(e+"Capture",t)}function Gr(e,t){for(Dn[e]=t,e=0;e<t.length;e++)Du.add(t[e])}var xt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oi=Object.prototype.hasOwnProperty,Uf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Wl={},Fl={};function Bf(e){return Oi.call(Fl,e)?!0:Oi.call(Wl,e)?!1:Uf.test(e)?Fl[e]=!0:(Wl[e]=!0,!1)}function Wf(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Ff(e,t,r,n){if(t===null||typeof t>"u"||Wf(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Se(e,t,r,n,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var ye={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ye[e]=new Se(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ye[t]=new Se(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ye[e]=new Se(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ye[e]=new Se(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ye[e]=new Se(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ye[e]=new Se(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ye[e]=new Se(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ye[e]=new Se(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ye[e]=new Se(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ma=/[\-:]([a-z])/g;function Ua(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ma,Ua);ye[t]=new Se(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ma,Ua);ye[t]=new Se(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ma,Ua);ye[t]=new Se(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ye[e]=new Se(e,1,!1,e.toLowerCase(),null,!1,!1)});ye.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ye[e]=new Se(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ba(e,t,r,n){var s=ye.hasOwnProperty(t)?ye[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Ff(t,r,s,n)&&(r=null),n||s===null?Bf(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var jt=Mf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ps=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),Wa=Symbol.for("react.strict_mode"),Pi=Symbol.for("react.profiler"),zu=Symbol.for("react.provider"),Mu=Symbol.for("react.context"),Fa=Symbol.for("react.forward_ref"),Ri=Symbol.for("react.suspense"),Ai=Symbol.for("react.suspense_list"),Ha=Symbol.for("react.memo"),Et=Symbol.for("react.lazy"),Uu=Symbol.for("react.offscreen"),Hl=Symbol.iterator;function dn(e){return e===null||typeof e!="object"?null:(e=Hl&&e[Hl]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,Vo;function wn(e){if(Vo===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Vo=t&&t[1]||""}return`
`+Vo+e}var qo=!1;function Ko(e,t){if(!e||qo)return"";qo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=n.stack.split(`
`),a=s.length-1,c=o.length-1;1<=a&&0<=c&&s[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(s[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||s[a]!==o[c]){var l=`
`+s[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=a&&0<=c);break}}}finally{qo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?wn(e):""}function Hf(e){switch(e.tag){case 5:return wn(e.type);case 16:return wn("Lazy");case 13:return wn("Suspense");case 19:return wn("SuspenseList");case 0:case 2:case 15:return e=Ko(e.type,!1),e;case 11:return e=Ko(e.type.render,!1),e;case 1:return e=Ko(e.type,!0),e;default:return""}}function Ii(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Cr:return"Portal";case Pi:return"Profiler";case Wa:return"StrictMode";case Ri:return"Suspense";case Ai:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Mu:return(e.displayName||"Context")+".Consumer";case zu:return(e._context.displayName||"Context")+".Provider";case Fa:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ha:return t=e.displayName||null,t!==null?t:Ii(e.type)||"Memo";case Et:t=e._payload,e=e._init;try{return Ii(e(t))}catch{}}return null}function Vf(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ii(t);case 8:return t===Wa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ft(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qf(e){var t=Bu(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ms(e){e._valueTracker||(e._valueTracker=qf(e))}function Wu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Bu(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Js(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $i(e,t){var r=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Vl(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Ft(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Fu(e,t){t=t.checked,t!=null&&Ba(e,"checked",t,!1)}function Li(e,t){Fu(e,t);var r=Ft(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Di(e,t.type,r):t.hasOwnProperty("defaultValue")&&Di(e,t.type,Ft(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ql(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Di(e,t,r){(t!=="number"||Js(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bn=Array.isArray;function Br(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Ft(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zi(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Kl(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(C(92));if(bn(r)){if(1<r.length)throw Error(C(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Ft(r)}}function Hu(e,t){var r=Ft(t.value),n=Ft(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Gl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mi(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var gs,qu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(gs=gs||document.createElement("div"),gs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=gs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function zn(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Sn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kf=["Webkit","ms","Moz","O"];Object.keys(Sn).forEach(function(e){Kf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Sn[t]=Sn[e]})});function Ku(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Sn.hasOwnProperty(e)&&Sn[e]?(""+t).trim():t+"px"}function Gu(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Ku(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var Gf=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ui(e,t){if(t){if(Gf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Bi(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wi=null;function Va(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Fi=null,Wr=null,Fr=null;function Jl(e){if(e=us(e)){if(typeof Fi!="function")throw Error(C(280));var t=e.stateNode;t&&(t=To(t),Fi(e.stateNode,e.type,t))}}function Ju(e){Wr?Fr?Fr.push(e):Fr=[e]:Wr=e}function Qu(){if(Wr){var e=Wr,t=Fr;if(Fr=Wr=null,Jl(e),t)for(e=0;e<t.length;e++)Jl(t[e])}}function Yu(e,t){return e(t)}function Xu(){}var Go=!1;function Zu(e,t,r){if(Go)return e(t,r);Go=!0;try{return Yu(e,t,r)}finally{Go=!1,(Wr!==null||Fr!==null)&&(Xu(),Qu())}}function Mn(e,t){var r=e.stateNode;if(r===null)return null;var n=To(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(C(231,t,typeof r));return r}var Hi=!1;if(xt)try{var hn={};Object.defineProperty(hn,"passive",{get:function(){Hi=!0}}),window.addEventListener("test",hn,hn),window.removeEventListener("test",hn,hn)}catch{Hi=!1}function Jf(e,t,r,n,s,o,a,c,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(h){this.onError(h)}}var En=!1,Qs=null,Ys=!1,Vi=null,Qf={onError:function(e){En=!0,Qs=e}};function Yf(e,t,r,n,s,o,a,c,l){En=!1,Qs=null,Jf.apply(Qf,arguments)}function Xf(e,t,r,n,s,o,a,c,l){if(Yf.apply(this,arguments),En){if(En){var u=Qs;En=!1,Qs=null}else throw Error(C(198));Ys||(Ys=!0,Vi=u)}}function mr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function ed(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ql(e){if(mr(e)!==e)throw Error(C(188))}function Zf(e){var t=e.alternate;if(!t){if(t=mr(e),t===null)throw Error(C(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return Ql(s),e;if(o===n)return Ql(s),t;o=o.sibling}throw Error(C(188))}if(r.return!==n.return)r=s,n=o;else{for(var a=!1,c=s.child;c;){if(c===r){a=!0,r=s,n=o;break}if(c===n){a=!0,n=s,r=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===r){a=!0,r=o,n=s;break}if(c===n){a=!0,n=o,r=s;break}c=c.sibling}if(!a)throw Error(C(189))}}if(r.alternate!==n)throw Error(C(190))}if(r.tag!==3)throw Error(C(188));return r.stateNode.current===r?e:t}function td(e){return e=Zf(e),e!==null?rd(e):null}function rd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=rd(e);if(t!==null)return t;e=e.sibling}return null}var nd=Be.unstable_scheduleCallback,Yl=Be.unstable_cancelCallback,ep=Be.unstable_shouldYield,tp=Be.unstable_requestPaint,oe=Be.unstable_now,rp=Be.unstable_getCurrentPriorityLevel,qa=Be.unstable_ImmediatePriority,sd=Be.unstable_UserBlockingPriority,Xs=Be.unstable_NormalPriority,np=Be.unstable_LowPriority,od=Be.unstable_IdlePriority,No=null,ct=null;function sp(e){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot(No,e,void 0,(e.current.flags&128)===128)}catch{}}var nt=Math.clz32?Math.clz32:ap,op=Math.log,ip=Math.LN2;function ap(e){return e>>>=0,e===0?32:31-(op(e)/ip|0)|0}var vs=64,ys=4194304;function _n(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Zs(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,o=e.pingedLanes,a=r&268435455;if(a!==0){var c=a&~s;c!==0?n=_n(c):(o&=a,o!==0&&(n=_n(o)))}else a=r&~s,a!==0?n=_n(a):o!==0&&(n=_n(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-nt(t),s=1<<r,n|=e[r],t&=~s;return n}function lp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cp(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-nt(o),c=1<<a,l=s[a];l===-1?(!(c&r)||c&n)&&(s[a]=lp(c,t)):l<=t&&(e.expiredLanes|=c),o&=~c}}function qi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function id(){var e=vs;return vs<<=1,!(vs&4194240)&&(vs=64),e}function Jo(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function ls(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-nt(t),e[t]=r}function up(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-nt(r),o=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~o}}function Ka(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-nt(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var V=0;function ad(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ld,Ga,cd,ud,dd,Ki=!1,xs=[],$t=null,Lt=null,Dt=null,Un=new Map,Bn=new Map,Ot=[],dp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xl(e,t){switch(e){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Lt=null;break;case"mouseover":case"mouseout":Dt=null;break;case"pointerover":case"pointerout":Un.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(t.pointerId)}}function fn(e,t,r,n,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},t!==null&&(t=us(t),t!==null&&Ga(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function hp(e,t,r,n,s){switch(t){case"focusin":return $t=fn($t,e,t,r,n,s),!0;case"dragenter":return Lt=fn(Lt,e,t,r,n,s),!0;case"mouseover":return Dt=fn(Dt,e,t,r,n,s),!0;case"pointerover":var o=s.pointerId;return Un.set(o,fn(Un.get(o)||null,e,t,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Bn.set(o,fn(Bn.get(o)||null,e,t,r,n,s)),!0}return!1}function hd(e){var t=tr(e.target);if(t!==null){var r=mr(t);if(r!==null){if(t=r.tag,t===13){if(t=ed(r),t!==null){e.blockedOn=t,dd(e.priority,function(){cd(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gi(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Wi=n,r.target.dispatchEvent(n),Wi=null}else return t=us(r),t!==null&&Ga(t),e.blockedOn=r,!1;t.shift()}return!0}function Zl(e,t,r){zs(e)&&r.delete(t)}function fp(){Ki=!1,$t!==null&&zs($t)&&($t=null),Lt!==null&&zs(Lt)&&(Lt=null),Dt!==null&&zs(Dt)&&(Dt=null),Un.forEach(Zl),Bn.forEach(Zl)}function pn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ki||(Ki=!0,Be.unstable_scheduleCallback(Be.unstable_NormalPriority,fp)))}function Wn(e){function t(s){return pn(s,e)}if(0<xs.length){pn(xs[0],e);for(var r=1;r<xs.length;r++){var n=xs[r];n.blockedOn===e&&(n.blockedOn=null)}}for($t!==null&&pn($t,e),Lt!==null&&pn(Lt,e),Dt!==null&&pn(Dt,e),Un.forEach(t),Bn.forEach(t),r=0;r<Ot.length;r++)n=Ot[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Ot.length&&(r=Ot[0],r.blockedOn===null);)hd(r),r.blockedOn===null&&Ot.shift()}var Hr=jt.ReactCurrentBatchConfig,eo=!0;function pp(e,t,r,n){var s=V,o=Hr.transition;Hr.transition=null;try{V=1,Ja(e,t,r,n)}finally{V=s,Hr.transition=o}}function mp(e,t,r,n){var s=V,o=Hr.transition;Hr.transition=null;try{V=4,Ja(e,t,r,n)}finally{V=s,Hr.transition=o}}function Ja(e,t,r,n){if(eo){var s=Gi(e,t,r,n);if(s===null)oi(e,t,n,to,r),Xl(e,n);else if(hp(s,e,t,r,n))n.stopPropagation();else if(Xl(e,n),t&4&&-1<dp.indexOf(e)){for(;s!==null;){var o=us(s);if(o!==null&&ld(o),o=Gi(e,t,r,n),o===null&&oi(e,t,n,to,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else oi(e,t,n,null,r)}}var to=null;function Gi(e,t,r,n){if(to=null,e=Va(n),e=tr(e),e!==null)if(t=mr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=ed(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return to=e,null}function fd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rp()){case qa:return 1;case sd:return 4;case Xs:case np:return 16;case od:return 536870912;default:return 16}default:return 16}}var At=null,Qa=null,Ms=null;function pd(){if(Ms)return Ms;var e,t=Qa,r=t.length,n,s="value"in At?At.value:At.textContent,o=s.length;for(e=0;e<r&&t[e]===s[e];e++);var a=r-e;for(n=1;n<=a&&t[r-n]===s[o-n];n++);return Ms=s.slice(e,1<n?1-n:void 0)}function Us(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function ec(){return!1}function Fe(e){function t(r,n,s,o,a){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ws:ec,this.isPropagationStopped=ec,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),t}var ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ya=Fe(ln),cs=re({},ln,{view:0,detail:0}),gp=Fe(cs),Qo,Yo,mn,So=re({},cs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xa,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?(Qo=e.screenX-mn.screenX,Yo=e.screenY-mn.screenY):Yo=Qo=0,mn=e),Qo)},movementY:function(e){return"movementY"in e?e.movementY:Yo}}),tc=Fe(So),vp=re({},So,{dataTransfer:0}),yp=Fe(vp),xp=re({},cs,{relatedTarget:0}),Xo=Fe(xp),wp=re({},ln,{animationName:0,elapsedTime:0,pseudoElement:0}),bp=Fe(wp),_p=re({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jp=Fe(_p),kp=re({},ln,{data:0}),rc=Fe(kp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ep={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ep[e])?!!t[e]:!1}function Xa(){return Cp}var Tp=re({},cs,{key:function(e){if(e.key){var t=Np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Us(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xa,charCode:function(e){return e.type==="keypress"?Us(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Us(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=Fe(Tp),Pp=re({},So,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nc=Fe(Pp),Rp=re({},cs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xa}),Ap=Fe(Rp),Ip=re({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),$p=Fe(Ip),Lp=re({},So,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dp=Fe(Lp),zp=[9,13,27,32],Za=xt&&"CompositionEvent"in window,Cn=null;xt&&"documentMode"in document&&(Cn=document.documentMode);var Mp=xt&&"TextEvent"in window&&!Cn,md=xt&&(!Za||Cn&&8<Cn&&11>=Cn),sc=" ",oc=!1;function gd(e,t){switch(e){case"keyup":return zp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Or=!1;function Up(e,t){switch(e){case"compositionend":return vd(t);case"keypress":return t.which!==32?null:(oc=!0,sc);case"textInput":return e=t.data,e===sc&&oc?null:e;default:return null}}function Bp(e,t){if(Or)return e==="compositionend"||!Za&&gd(e,t)?(e=pd(),Ms=Qa=At=null,Or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return md&&t.locale!=="ko"?null:t.data;default:return null}}var Wp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ic(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wp[e.type]:t==="textarea"}function yd(e,t,r,n){Ju(n),t=ro(t,"onChange"),0<t.length&&(r=new Ya("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Tn=null,Fn=null;function Fp(e){Td(e,0)}function Eo(e){var t=Ar(e);if(Wu(t))return e}function Hp(e,t){if(e==="change")return t}var xd=!1;if(xt){var Zo;if(xt){var ei="oninput"in document;if(!ei){var ac=document.createElement("div");ac.setAttribute("oninput","return;"),ei=typeof ac.oninput=="function"}Zo=ei}else Zo=!1;xd=Zo&&(!document.documentMode||9<document.documentMode)}function lc(){Tn&&(Tn.detachEvent("onpropertychange",wd),Fn=Tn=null)}function wd(e){if(e.propertyName==="value"&&Eo(Fn)){var t=[];yd(t,Fn,e,Va(e)),Zu(Fp,t)}}function Vp(e,t,r){e==="focusin"?(lc(),Tn=t,Fn=r,Tn.attachEvent("onpropertychange",wd)):e==="focusout"&&lc()}function qp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eo(Fn)}function Kp(e,t){if(e==="click")return Eo(t)}function Gp(e,t){if(e==="input"||e==="change")return Eo(t)}function Jp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ot=typeof Object.is=="function"?Object.is:Jp;function Hn(e,t){if(ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Oi.call(t,s)||!ot(e[s],t[s]))return!1}return!0}function cc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function uc(e,t){var r=cc(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cc(r)}}function bd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?bd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _d(){for(var e=window,t=Js();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Js(e.document)}return t}function el(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Qp(e){var t=_d(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&bd(r.ownerDocument.documentElement,r)){if(n!==null&&el(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!e.extend&&o>n&&(s=n,n=o,o=s),s=uc(r,o);var a=uc(r,n);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Yp=xt&&"documentMode"in document&&11>=document.documentMode,Pr=null,Ji=null,On=null,Qi=!1;function dc(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Qi||Pr==null||Pr!==Js(n)||(n=Pr,"selectionStart"in n&&el(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),On&&Hn(On,n)||(On=n,n=ro(Ji,"onSelect"),0<n.length&&(t=new Ya("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Pr)))}function bs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Rr={animationend:bs("Animation","AnimationEnd"),animationiteration:bs("Animation","AnimationIteration"),animationstart:bs("Animation","AnimationStart"),transitionend:bs("Transition","TransitionEnd")},ti={},jd={};xt&&(jd=document.createElement("div").style,"AnimationEvent"in window||(delete Rr.animationend.animation,delete Rr.animationiteration.animation,delete Rr.animationstart.animation),"TransitionEvent"in window||delete Rr.transitionend.transition);function Co(e){if(ti[e])return ti[e];if(!Rr[e])return e;var t=Rr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in jd)return ti[e]=t[r];return e}var kd=Co("animationend"),Nd=Co("animationiteration"),Sd=Co("animationstart"),Ed=Co("transitionend"),Cd=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vt(e,t){Cd.set(e,t),pr(t,[e])}for(var ri=0;ri<hc.length;ri++){var ni=hc[ri],Xp=ni.toLowerCase(),Zp=ni[0].toUpperCase()+ni.slice(1);Vt(Xp,"on"+Zp)}Vt(kd,"onAnimationEnd");Vt(Nd,"onAnimationIteration");Vt(Sd,"onAnimationStart");Vt("dblclick","onDoubleClick");Vt("focusin","onFocus");Vt("focusout","onBlur");Vt(Ed,"onTransitionEnd");Gr("onMouseEnter",["mouseout","mouseover"]);Gr("onMouseLeave",["mouseout","mouseover"]);Gr("onPointerEnter",["pointerout","pointerover"]);Gr("onPointerLeave",["pointerout","pointerover"]);pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),em=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function fc(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,Xf(n,t,void 0,e),e.currentTarget=null}function Td(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var a=n.length-1;0<=a;a--){var c=n[a],l=c.instance,u=c.currentTarget;if(c=c.listener,l!==o&&s.isPropagationStopped())break e;fc(s,c,u),o=l}else for(a=0;a<n.length;a++){if(c=n[a],l=c.instance,u=c.currentTarget,c=c.listener,l!==o&&s.isPropagationStopped())break e;fc(s,c,u),o=l}}}if(Ys)throw e=Vi,Ys=!1,Vi=null,e}function J(e,t){var r=t[ta];r===void 0&&(r=t[ta]=new Set);var n=e+"__bubble";r.has(n)||(Od(t,e,2,!1),r.add(n))}function si(e,t,r){var n=0;t&&(n|=4),Od(r,e,n,t)}var _s="_reactListening"+Math.random().toString(36).slice(2);function Vn(e){if(!e[_s]){e[_s]=!0,Du.forEach(function(r){r!=="selectionchange"&&(em.has(r)||si(r,!1,e),si(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[_s]||(t[_s]=!0,si("selectionchange",!1,t))}}function Od(e,t,r,n){switch(fd(t)){case 1:var s=pp;break;case 4:s=mp;break;default:s=Ja}r=s.bind(null,t,r,e),s=void 0,!Hi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function oi(e,t,r,n,s){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var c=n.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;c!==null;){if(a=tr(c),a===null)return;if(l=a.tag,l===5||l===6){n=o=a;continue e}c=c.parentNode}}n=n.return}Zu(function(){var u=o,h=Va(r),d=[];e:{var f=Cd.get(e);if(f!==void 0){var x=Ya,v=e;switch(e){case"keypress":if(Us(r)===0)break e;case"keydown":case"keyup":x=Op;break;case"focusin":v="focus",x=Xo;break;case"focusout":v="blur",x=Xo;break;case"beforeblur":case"afterblur":x=Xo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=yp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=Ap;break;case kd:case Nd:case Sd:x=bp;break;case Ed:x=$p;break;case"scroll":x=gp;break;case"wheel":x=Dp;break;case"copy":case"cut":case"paste":x=jp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=nc}var y=(t&4)!==0,w=!y&&e==="scroll",p=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,g;m!==null;){g=m;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,p!==null&&(_=Mn(m,p),_!=null&&y.push(qn(m,_,g)))),w)break;m=m.return}0<y.length&&(f=new x(f,v,null,r,h),d.push({event:f,listeners:y}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",f&&r!==Wi&&(v=r.relatedTarget||r.fromElement)&&(tr(v)||v[wt]))break e;if((x||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,x?(v=r.relatedTarget||r.toElement,x=u,v=v?tr(v):null,v!==null&&(w=mr(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(x=null,v=u),x!==v)){if(y=tc,_="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(y=nc,_="onPointerLeave",p="onPointerEnter",m="pointer"),w=x==null?f:Ar(x),g=v==null?f:Ar(v),f=new y(_,m+"leave",x,r,h),f.target=w,f.relatedTarget=g,_=null,tr(h)===u&&(y=new y(p,m+"enter",v,r,h),y.target=g,y.relatedTarget=w,_=y),w=_,x&&v)t:{for(y=x,p=v,m=0,g=y;g;g=yr(g))m++;for(g=0,_=p;_;_=yr(_))g++;for(;0<m-g;)y=yr(y),m--;for(;0<g-m;)p=yr(p),g--;for(;m--;){if(y===p||p!==null&&y===p.alternate)break t;y=yr(y),p=yr(p)}y=null}else y=null;x!==null&&pc(d,f,x,y,!1),v!==null&&w!==null&&pc(d,w,v,y,!0)}}e:{if(f=u?Ar(u):window,x=f.nodeName&&f.nodeName.toLowerCase(),x==="select"||x==="input"&&f.type==="file")var j=Hp;else if(ic(f))if(xd)j=Gp;else{j=qp;var k=Vp}else(x=f.nodeName)&&x.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(j=Kp);if(j&&(j=j(e,u))){yd(d,j,r,h);break e}k&&k(e,f,u),e==="focusout"&&(k=f._wrapperState)&&k.controlled&&f.type==="number"&&Di(f,"number",f.value)}switch(k=u?Ar(u):window,e){case"focusin":(ic(k)||k.contentEditable==="true")&&(Pr=k,Ji=u,On=null);break;case"focusout":On=Ji=Pr=null;break;case"mousedown":Qi=!0;break;case"contextmenu":case"mouseup":case"dragend":Qi=!1,dc(d,r,h);break;case"selectionchange":if(Yp)break;case"keydown":case"keyup":dc(d,r,h)}var b;if(Za)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Or?gd(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(md&&r.locale!=="ko"&&(Or||N!=="onCompositionStart"?N==="onCompositionEnd"&&Or&&(b=pd()):(At=h,Qa="value"in At?At.value:At.textContent,Or=!0)),k=ro(u,N),0<k.length&&(N=new rc(N,e,null,r,h),d.push({event:N,listeners:k}),b?N.data=b:(b=vd(r),b!==null&&(N.data=b)))),(b=Mp?Up(e,r):Bp(e,r))&&(u=ro(u,"onBeforeInput"),0<u.length&&(h=new rc("onBeforeInput","beforeinput",null,r,h),d.push({event:h,listeners:u}),h.data=b))}Td(d,t)})}function qn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function ro(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Mn(e,r),o!=null&&n.unshift(qn(e,o,s)),o=Mn(e,t),o!=null&&n.push(qn(e,o,s))),e=e.return}return n}function yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function pc(e,t,r,n,s){for(var o=t._reactName,a=[];r!==null&&r!==n;){var c=r,l=c.alternate,u=c.stateNode;if(l!==null&&l===n)break;c.tag===5&&u!==null&&(c=u,s?(l=Mn(r,o),l!=null&&a.unshift(qn(r,l,c))):s||(l=Mn(r,o),l!=null&&a.push(qn(r,l,c)))),r=r.return}a.length!==0&&e.push({event:t,listeners:a})}var tm=/\r\n?/g,rm=/\u0000|\uFFFD/g;function mc(e){return(typeof e=="string"?e:""+e).replace(tm,`
`).replace(rm,"")}function js(e,t,r){if(t=mc(t),mc(e)!==t&&r)throw Error(C(425))}function no(){}var Yi=null,Xi=null;function Zi(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ea=typeof setTimeout=="function"?setTimeout:void 0,nm=typeof clearTimeout=="function"?clearTimeout:void 0,gc=typeof Promise=="function"?Promise:void 0,sm=typeof queueMicrotask=="function"?queueMicrotask:typeof gc<"u"?function(e){return gc.resolve(null).then(e).catch(om)}:ea;function om(e){setTimeout(function(){throw e})}function ii(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Wn(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Wn(t)}function zt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function vc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var cn=Math.random().toString(36).slice(2),lt="__reactFiber$"+cn,Kn="__reactProps$"+cn,wt="__reactContainer$"+cn,ta="__reactEvents$"+cn,im="__reactListeners$"+cn,am="__reactHandles$"+cn;function tr(e){var t=e[lt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wt]||r[lt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=vc(e);e!==null;){if(r=e[lt])return r;e=vc(e)}return t}e=r,r=e.parentNode}return null}function us(e){return e=e[lt]||e[wt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Ar(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(C(33))}function To(e){return e[Kn]||null}var ra=[],Ir=-1;function qt(e){return{current:e}}function Q(e){0>Ir||(e.current=ra[Ir],ra[Ir]=null,Ir--)}function K(e,t){Ir++,ra[Ir]=e.current,e.current=t}var Ht={},_e=qt(Ht),Oe=qt(!1),lr=Ht;function Jr(e,t){var r=e.type.contextTypes;if(!r)return Ht;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pe(e){return e=e.childContextTypes,e!=null}function so(){Q(Oe),Q(_e)}function yc(e,t,r){if(_e.current!==Ht)throw Error(C(168));K(_e,t),K(Oe,r)}function Pd(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,Vf(e)||"Unknown",s));return re({},r,n)}function oo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ht,lr=_e.current,K(_e,e),K(Oe,Oe.current),!0}function xc(e,t,r){var n=e.stateNode;if(!n)throw Error(C(169));r?(e=Pd(e,t,lr),n.__reactInternalMemoizedMergedChildContext=e,Q(Oe),Q(_e),K(_e,e)):Q(Oe),K(Oe,r)}var pt=null,Oo=!1,ai=!1;function Rd(e){pt===null?pt=[e]:pt.push(e)}function lm(e){Oo=!0,Rd(e)}function Kt(){if(!ai&&pt!==null){ai=!0;var e=0,t=V;try{var r=pt;for(V=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pt=null,Oo=!1}catch(s){throw pt!==null&&(pt=pt.slice(e+1)),nd(qa,Kt),s}finally{V=t,ai=!1}}return null}var $r=[],Lr=0,io=null,ao=0,He=[],Ve=0,cr=null,mt=1,gt="";function Qt(e,t){$r[Lr++]=ao,$r[Lr++]=io,io=e,ao=t}function Ad(e,t,r){He[Ve++]=mt,He[Ve++]=gt,He[Ve++]=cr,cr=e;var n=mt;e=gt;var s=32-nt(n)-1;n&=~(1<<s),r+=1;var o=32-nt(t)+s;if(30<o){var a=s-s%5;o=(n&(1<<a)-1).toString(32),n>>=a,s-=a,mt=1<<32-nt(t)+s|r<<s|n,gt=o+e}else mt=1<<o|r<<s|n,gt=e}function tl(e){e.return!==null&&(Qt(e,1),Ad(e,1,0))}function rl(e){for(;e===io;)io=$r[--Lr],$r[Lr]=null,ao=$r[--Lr],$r[Lr]=null;for(;e===cr;)cr=He[--Ve],He[Ve]=null,gt=He[--Ve],He[Ve]=null,mt=He[--Ve],He[Ve]=null}var Ue=null,Me=null,X=!1,rt=null;function Id(e,t){var r=qe(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wc(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ue=e,Me=zt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ue=e,Me=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=cr!==null?{id:mt,overflow:gt}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qe(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Ue=e,Me=null,!0):!1;default:return!1}}function na(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sa(e){if(X){var t=Me;if(t){var r=t;if(!wc(e,t)){if(na(e))throw Error(C(418));t=zt(r.nextSibling);var n=Ue;t&&wc(e,t)?Id(n,r):(e.flags=e.flags&-4097|2,X=!1,Ue=e)}}else{if(na(e))throw Error(C(418));e.flags=e.flags&-4097|2,X=!1,Ue=e}}}function bc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ue=e}function ks(e){if(e!==Ue)return!1;if(!X)return bc(e),X=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zi(e.type,e.memoizedProps)),t&&(t=Me)){if(na(e))throw $d(),Error(C(418));for(;t;)Id(e,t),t=zt(t.nextSibling)}if(bc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(C(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Me=zt(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Me=null}}else Me=Ue?zt(e.stateNode.nextSibling):null;return!0}function $d(){for(var e=Me;e;)e=zt(e.nextSibling)}function Qr(){Me=Ue=null,X=!1}function nl(e){rt===null?rt=[e]:rt.push(e)}var cm=jt.ReactCurrentBatchConfig;function gn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(C(309));var n=r.stateNode}if(!n)throw Error(C(147,e));var s=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var c=s.refs;a===null?delete c[o]:c[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(C(284));if(!r._owner)throw Error(C(290,e))}return e}function Ns(e,t){throw e=Object.prototype.toString.call(t),Error(C(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _c(e){var t=e._init;return t(e._payload)}function Ld(e){function t(p,m){if(e){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function r(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=Wt(p,m),p.index=0,p.sibling=null,p}function o(p,m,g){return p.index=g,e?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function a(p){return e&&p.alternate===null&&(p.flags|=2),p}function c(p,m,g,_){return m===null||m.tag!==6?(m=pi(g,p.mode,_),m.return=p,m):(m=s(m,g),m.return=p,m)}function l(p,m,g,_){var j=g.type;return j===Tr?h(p,m,g.props.children,_,g.key):m!==null&&(m.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Et&&_c(j)===m.type)?(_=s(m,g.props),_.ref=gn(p,m,g),_.return=p,_):(_=Ks(g.type,g.key,g.props,null,p.mode,_),_.ref=gn(p,m,g),_.return=p,_)}function u(p,m,g,_){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=mi(g,p.mode,_),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function h(p,m,g,_,j){return m===null||m.tag!==7?(m=ir(g,p.mode,_,j),m.return=p,m):(m=s(m,g),m.return=p,m)}function d(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=pi(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ps:return g=Ks(m.type,m.key,m.props,null,p.mode,g),g.ref=gn(p,null,m),g.return=p,g;case Cr:return m=mi(m,p.mode,g),m.return=p,m;case Et:var _=m._init;return d(p,_(m._payload),g)}if(bn(m)||dn(m))return m=ir(m,p.mode,g,null),m.return=p,m;Ns(p,m)}return null}function f(p,m,g,_){var j=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:c(p,m,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ps:return g.key===j?l(p,m,g,_):null;case Cr:return g.key===j?u(p,m,g,_):null;case Et:return j=g._init,f(p,m,j(g._payload),_)}if(bn(g)||dn(g))return j!==null?null:h(p,m,g,_,null);Ns(p,g)}return null}function x(p,m,g,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return p=p.get(g)||null,c(m,p,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ps:return p=p.get(_.key===null?g:_.key)||null,l(m,p,_,j);case Cr:return p=p.get(_.key===null?g:_.key)||null,u(m,p,_,j);case Et:var k=_._init;return x(p,m,g,k(_._payload),j)}if(bn(_)||dn(_))return p=p.get(g)||null,h(m,p,_,j,null);Ns(m,_)}return null}function v(p,m,g,_){for(var j=null,k=null,b=m,N=m=0,S=null;b!==null&&N<g.length;N++){b.index>N?(S=b,b=null):S=b.sibling;var T=f(p,b,g[N],_);if(T===null){b===null&&(b=S);break}e&&b&&T.alternate===null&&t(p,b),m=o(T,m,N),k===null?j=T:k.sibling=T,k=T,b=S}if(N===g.length)return r(p,b),X&&Qt(p,N),j;if(b===null){for(;N<g.length;N++)b=d(p,g[N],_),b!==null&&(m=o(b,m,N),k===null?j=b:k.sibling=b,k=b);return X&&Qt(p,N),j}for(b=n(p,b);N<g.length;N++)S=x(b,p,N,g[N],_),S!==null&&(e&&S.alternate!==null&&b.delete(S.key===null?N:S.key),m=o(S,m,N),k===null?j=S:k.sibling=S,k=S);return e&&b.forEach(function(M){return t(p,M)}),X&&Qt(p,N),j}function y(p,m,g,_){var j=dn(g);if(typeof j!="function")throw Error(C(150));if(g=j.call(g),g==null)throw Error(C(151));for(var k=j=null,b=m,N=m=0,S=null,T=g.next();b!==null&&!T.done;N++,T=g.next()){b.index>N?(S=b,b=null):S=b.sibling;var M=f(p,b,T.value,_);if(M===null){b===null&&(b=S);break}e&&b&&M.alternate===null&&t(p,b),m=o(M,m,N),k===null?j=M:k.sibling=M,k=M,b=S}if(T.done)return r(p,b),X&&Qt(p,N),j;if(b===null){for(;!T.done;N++,T=g.next())T=d(p,T.value,_),T!==null&&(m=o(T,m,N),k===null?j=T:k.sibling=T,k=T);return X&&Qt(p,N),j}for(b=n(p,b);!T.done;N++,T=g.next())T=x(b,p,N,T.value,_),T!==null&&(e&&T.alternate!==null&&b.delete(T.key===null?N:T.key),m=o(T,m,N),k===null?j=T:k.sibling=T,k=T);return e&&b.forEach(function(B){return t(p,B)}),X&&Qt(p,N),j}function w(p,m,g,_){if(typeof g=="object"&&g!==null&&g.type===Tr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ps:e:{for(var j=g.key,k=m;k!==null;){if(k.key===j){if(j=g.type,j===Tr){if(k.tag===7){r(p,k.sibling),m=s(k,g.props.children),m.return=p,p=m;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Et&&_c(j)===k.type){r(p,k.sibling),m=s(k,g.props),m.ref=gn(p,k,g),m.return=p,p=m;break e}r(p,k);break}else t(p,k);k=k.sibling}g.type===Tr?(m=ir(g.props.children,p.mode,_,g.key),m.return=p,p=m):(_=Ks(g.type,g.key,g.props,null,p.mode,_),_.ref=gn(p,m,g),_.return=p,p=_)}return a(p);case Cr:e:{for(k=g.key;m!==null;){if(m.key===k)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){r(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break e}else{r(p,m);break}else t(p,m);m=m.sibling}m=mi(g,p.mode,_),m.return=p,p=m}return a(p);case Et:return k=g._init,w(p,m,k(g._payload),_)}if(bn(g))return v(p,m,g,_);if(dn(g))return y(p,m,g,_);Ns(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(r(p,m.sibling),m=s(m,g),m.return=p,p=m):(r(p,m),m=pi(g,p.mode,_),m.return=p,p=m),a(p)):r(p,m)}return w}var Yr=Ld(!0),Dd=Ld(!1),lo=qt(null),co=null,Dr=null,sl=null;function ol(){sl=Dr=co=null}function il(e){var t=lo.current;Q(lo),e._currentValue=t}function oa(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Vr(e,t){co=e,sl=Dr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Te=!0),e.firstContext=null)}function Ge(e){var t=e._currentValue;if(sl!==e)if(e={context:e,memoizedValue:t,next:null},Dr===null){if(co===null)throw Error(C(308));Dr=e,co.dependencies={lanes:0,firstContext:e}}else Dr=Dr.next=e;return t}var rr=null;function al(e){rr===null?rr=[e]:rr.push(e)}function zd(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,al(t)):(r.next=s.next,s.next=r),t.interleaved=r,bt(e,n)}function bt(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ct=!1;function ll(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Md(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mt(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,H&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,bt(e,r)}return s=n.interleaved,s===null?(t.next=t,al(n)):(t.next=s.next,s.next=t),n.interleaved=t,bt(e,r)}function Bs(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ka(e,r)}}function jc(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=a:o=o.next=a,r=r.next}while(r!==null);o===null?s=o=t:o=o.next=t}else s=o=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function uo(e,t,r,n){var s=e.updateQueue;Ct=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var l=c,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var h=e.alternate;h!==null&&(h=h.updateQueue,c=h.lastBaseUpdate,c!==a&&(c===null?h.firstBaseUpdate=u:c.next=u,h.lastBaseUpdate=l))}if(o!==null){var d=s.baseState;a=0,h=u=l=null,c=o;do{var f=c.lane,x=c.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:x,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var v=e,y=c;switch(f=t,x=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(x,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(x,d,f):v,f==null)break e;d=re({},d,f);break e;case 2:Ct=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,f=s.effects,f===null?s.effects=[c]:f.push(c))}else x={eventTime:x,lane:f,tag:c.tag,payload:c.payload,callback:c.callback,next:null},h===null?(u=h=x,l=d):h=h.next=x,a|=f;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;f=c,c=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);dr|=a,e.lanes=a,e.memoizedState=d}}function kc(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var ds={},ut=qt(ds),Gn=qt(ds),Jn=qt(ds);function nr(e){if(e===ds)throw Error(C(174));return e}function cl(e,t){switch(K(Jn,t),K(Gn,e),K(ut,ds),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mi(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Mi(t,e)}Q(ut),K(ut,t)}function Xr(){Q(ut),Q(Gn),Q(Jn)}function Ud(e){nr(Jn.current);var t=nr(ut.current),r=Mi(t,e.type);t!==r&&(K(Gn,e),K(ut,r))}function ul(e){Gn.current===e&&(Q(ut),Q(Gn))}var ee=qt(0);function ho(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var li=[];function dl(){for(var e=0;e<li.length;e++)li[e]._workInProgressVersionPrimary=null;li.length=0}var Ws=jt.ReactCurrentDispatcher,ci=jt.ReactCurrentBatchConfig,ur=0,te=null,ue=null,he=null,fo=!1,Pn=!1,Qn=0,um=0;function xe(){throw Error(C(321))}function hl(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!ot(e[r],t[r]))return!1;return!0}function fl(e,t,r,n,s,o){if(ur=o,te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Ws.current=e===null||e.memoizedState===null?pm:mm,e=r(n,s),Pn){o=0;do{if(Pn=!1,Qn=0,25<=o)throw Error(C(301));o+=1,he=ue=null,t.updateQueue=null,Ws.current=gm,e=r(n,s)}while(Pn)}if(Ws.current=po,t=ue!==null&&ue.next!==null,ur=0,he=ue=te=null,fo=!1,t)throw Error(C(300));return e}function pl(){var e=Qn!==0;return Qn=0,e}function at(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?te.memoizedState=he=e:he=he.next=e,he}function Je(){if(ue===null){var e=te.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=he===null?te.memoizedState:he.next;if(t!==null)he=t,ue=e;else{if(e===null)throw Error(C(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},he===null?te.memoizedState=he=e:he=he.next=e}return he}function Yn(e,t){return typeof t=="function"?t(e):t}function ui(e){var t=Je(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=ue,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var c=a=null,l=null,u=o;do{var h=u.lane;if((ur&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(c=l=d,a=n):l=l.next=d,te.lanes|=h,dr|=h}u=u.next}while(u!==null&&u!==o);l===null?a=n:l.next=c,ot(n,t.memoizedState)||(Te=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do o=s.lane,te.lanes|=o,dr|=o,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function di(e){var t=Je(),r=t.queue;if(r===null)throw Error(C(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,o=t.memoizedState;if(s!==null){r.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);ot(o,t.memoizedState)||(Te=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Bd(){}function Wd(e,t){var r=te,n=Je(),s=t(),o=!ot(n.memoizedState,s);if(o&&(n.memoizedState=s,Te=!0),n=n.queue,ml(Vd.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||he!==null&&he.memoizedState.tag&1){if(r.flags|=2048,Xn(9,Hd.bind(null,r,n,s,t),void 0,null),fe===null)throw Error(C(349));ur&30||Fd(r,t,s)}return s}function Fd(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Hd(e,t,r,n){t.value=r,t.getSnapshot=n,qd(t)&&Kd(e)}function Vd(e,t,r){return r(function(){qd(t)&&Kd(e)})}function qd(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ot(e,r)}catch{return!0}}function Kd(e){var t=bt(e,1);t!==null&&st(t,e,1,-1)}function Nc(e){var t=at();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yn,lastRenderedState:e},t.queue=e,e=e.dispatch=fm.bind(null,te,e),[t.memoizedState,e]}function Xn(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=te.updateQueue,t===null?(t={lastEffect:null,stores:null},te.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Gd(){return Je().memoizedState}function Fs(e,t,r,n){var s=at();te.flags|=e,s.memoizedState=Xn(1|t,r,void 0,n===void 0?null:n)}function Po(e,t,r,n){var s=Je();n=n===void 0?null:n;var o=void 0;if(ue!==null){var a=ue.memoizedState;if(o=a.destroy,n!==null&&hl(n,a.deps)){s.memoizedState=Xn(t,r,o,n);return}}te.flags|=e,s.memoizedState=Xn(1|t,r,o,n)}function Sc(e,t){return Fs(8390656,8,e,t)}function ml(e,t){return Po(2048,8,e,t)}function Jd(e,t){return Po(4,2,e,t)}function Qd(e,t){return Po(4,4,e,t)}function Yd(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Xd(e,t,r){return r=r!=null?r.concat([e]):null,Po(4,4,Yd.bind(null,t,e),r)}function gl(){}function Zd(e,t){var r=Je();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hl(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function eh(e,t){var r=Je();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&hl(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function th(e,t,r){return ur&21?(ot(r,t)||(r=id(),te.lanes|=r,dr|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Te=!0),e.memoizedState=r)}function dm(e,t){var r=V;V=r!==0&&4>r?r:4,e(!0);var n=ci.transition;ci.transition={};try{e(!1),t()}finally{V=r,ci.transition=n}}function rh(){return Je().memoizedState}function hm(e,t,r){var n=Bt(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},nh(e))sh(t,r);else if(r=zd(e,t,r,n),r!==null){var s=ke();st(r,e,n,s),oh(r,t,n)}}function fm(e,t,r){var n=Bt(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(nh(e))sh(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,c=o(a,r);if(s.hasEagerState=!0,s.eagerState=c,ot(c,a)){var l=t.interleaved;l===null?(s.next=s,al(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}r=zd(e,t,s,n),r!==null&&(s=ke(),st(r,e,n,s),oh(r,t,n))}}function nh(e){var t=e.alternate;return e===te||t!==null&&t===te}function sh(e,t){Pn=fo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function oh(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ka(e,r)}}var po={readContext:Ge,useCallback:xe,useContext:xe,useEffect:xe,useImperativeHandle:xe,useInsertionEffect:xe,useLayoutEffect:xe,useMemo:xe,useReducer:xe,useRef:xe,useState:xe,useDebugValue:xe,useDeferredValue:xe,useTransition:xe,useMutableSource:xe,useSyncExternalStore:xe,useId:xe,unstable_isNewReconciler:!1},pm={readContext:Ge,useCallback:function(e,t){return at().memoizedState=[e,t===void 0?null:t],e},useContext:Ge,useEffect:Sc,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Fs(4194308,4,Yd.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Fs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fs(4,2,e,t)},useMemo:function(e,t){var r=at();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=at();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=hm.bind(null,te,e),[n.memoizedState,e]},useRef:function(e){var t=at();return e={current:e},t.memoizedState=e},useState:Nc,useDebugValue:gl,useDeferredValue:function(e){return at().memoizedState=e},useTransition:function(){var e=Nc(!1),t=e[0];return e=dm.bind(null,e[1]),at().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=te,s=at();if(X){if(r===void 0)throw Error(C(407));r=r()}else{if(r=t(),fe===null)throw Error(C(349));ur&30||Fd(n,t,r)}s.memoizedState=r;var o={value:r,getSnapshot:t};return s.queue=o,Sc(Vd.bind(null,n,o,e),[e]),n.flags|=2048,Xn(9,Hd.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=at(),t=fe.identifierPrefix;if(X){var r=gt,n=mt;r=(n&~(1<<32-nt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Qn++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=um++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},mm={readContext:Ge,useCallback:Zd,useContext:Ge,useEffect:ml,useImperativeHandle:Xd,useInsertionEffect:Jd,useLayoutEffect:Qd,useMemo:eh,useReducer:ui,useRef:Gd,useState:function(){return ui(Yn)},useDebugValue:gl,useDeferredValue:function(e){var t=Je();return th(t,ue.memoizedState,e)},useTransition:function(){var e=ui(Yn)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:Wd,useId:rh,unstable_isNewReconciler:!1},gm={readContext:Ge,useCallback:Zd,useContext:Ge,useEffect:ml,useImperativeHandle:Xd,useInsertionEffect:Jd,useLayoutEffect:Qd,useMemo:eh,useReducer:di,useRef:Gd,useState:function(){return di(Yn)},useDebugValue:gl,useDeferredValue:function(e){var t=Je();return ue===null?t.memoizedState=e:th(t,ue.memoizedState,e)},useTransition:function(){var e=di(Yn)[0],t=Je().memoizedState;return[e,t]},useMutableSource:Bd,useSyncExternalStore:Wd,useId:rh,unstable_isNewReconciler:!1};function Xe(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ia(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:re({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ro={isMounted:function(e){return(e=e._reactInternals)?mr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=ke(),s=Bt(e),o=yt(n,s);o.payload=t,r!=null&&(o.callback=r),t=Mt(e,o,s),t!==null&&(st(t,e,s,n),Bs(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=ke(),s=Bt(e),o=yt(n,s);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Mt(e,o,s),t!==null&&(st(t,e,s,n),Bs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=ke(),n=Bt(e),s=yt(r,n);s.tag=2,t!=null&&(s.callback=t),t=Mt(e,s,n),t!==null&&(st(t,e,n,r),Bs(t,e,n))}};function Ec(e,t,r,n,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,a):t.prototype&&t.prototype.isPureReactComponent?!Hn(r,n)||!Hn(s,o):!0}function ih(e,t,r){var n=!1,s=Ht,o=t.contextType;return typeof o=="object"&&o!==null?o=Ge(o):(s=Pe(t)?lr:_e.current,n=t.contextTypes,o=(n=n!=null)?Jr(e,s):Ht),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ro,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Cc(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ro.enqueueReplaceState(t,t.state,null)}function aa(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},ll(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=Ge(o):(o=Pe(t)?lr:_e.current,s.context=Jr(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ia(e,t,o,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ro.enqueueReplaceState(s,s.state,null),uo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Zr(e,t){try{var r="",n=t;do r+=Hf(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function hi(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function la(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var vm=typeof WeakMap=="function"?WeakMap:Map;function ah(e,t,r){r=yt(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){go||(go=!0,ya=n),la(e,t)},r}function lh(e,t,r){r=yt(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){la(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){la(e,t),typeof n!="function"&&(Ut===null?Ut=new Set([this]):Ut.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),r}function Tc(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new vm;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=Pm.bind(null,e,t,r),t.then(e,e))}function Oc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Pc(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yt(-1,1),t.tag=2,Mt(r,t,1))),r.lanes|=1),e)}var ym=jt.ReactCurrentOwner,Te=!1;function je(e,t,r,n){t.child=e===null?Dd(t,null,r,n):Yr(t,e.child,r,n)}function Rc(e,t,r,n,s){r=r.render;var o=t.ref;return Vr(t,s),n=fl(e,t,r,n,o,s),r=pl(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(X&&r&&tl(t),t.flags|=1,je(e,t,n,s),t.child)}function Ac(e,t,r,n,s){if(e===null){var o=r.type;return typeof o=="function"&&!kl(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,ch(e,t,o,n,s)):(e=Ks(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(r=r.compare,r=r!==null?r:Hn,r(a,n)&&e.ref===t.ref)return _t(e,t,s)}return t.flags|=1,e=Wt(o,n),e.ref=t.ref,e.return=t,t.child=e}function ch(e,t,r,n,s){if(e!==null){var o=e.memoizedProps;if(Hn(o,n)&&e.ref===t.ref)if(Te=!1,t.pendingProps=n=o,(e.lanes&s)!==0)e.flags&131072&&(Te=!0);else return t.lanes=e.lanes,_t(e,t,s)}return ca(e,t,r,n,s)}function uh(e,t,r){var n=t.pendingProps,s=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},K(Mr,Le),Le|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,K(Mr,Le),Le|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,K(Mr,Le),Le|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,K(Mr,Le),Le|=n;return je(e,t,s,r),t.child}function dh(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ca(e,t,r,n,s){var o=Pe(r)?lr:_e.current;return o=Jr(t,o),Vr(t,s),r=fl(e,t,r,n,o,s),n=pl(),e!==null&&!Te?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_t(e,t,s)):(X&&n&&tl(t),t.flags|=1,je(e,t,r,s),t.child)}function Ic(e,t,r,n,s){if(Pe(r)){var o=!0;oo(t)}else o=!1;if(Vr(t,s),t.stateNode===null)Hs(e,t),ih(t,r,n),aa(t,r,n,s),n=!0;else if(e===null){var a=t.stateNode,c=t.memoizedProps;a.props=c;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ge(u):(u=Pe(r)?lr:_e.current,u=Jr(t,u));var h=r.getDerivedStateFromProps,d=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==n||l!==u)&&Cc(t,a,n,u),Ct=!1;var f=t.memoizedState;a.state=f,uo(t,n,a,s),l=t.memoizedState,c!==n||f!==l||Oe.current||Ct?(typeof h=="function"&&(ia(t,r,h,n),l=t.memoizedState),(c=Ct||Ec(t,r,c,n,f,l,u))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=u,n=c):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,Md(e,t),c=t.memoizedProps,u=t.type===t.elementType?c:Xe(t.type,c),a.props=u,d=t.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ge(l):(l=Pe(r)?lr:_e.current,l=Jr(t,l));var x=r.getDerivedStateFromProps;(h=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==d||f!==l)&&Cc(t,a,n,l),Ct=!1,f=t.memoizedState,a.state=f,uo(t,n,a,s);var v=t.memoizedState;c!==d||f!==v||Oe.current||Ct?(typeof x=="function"&&(ia(t,r,x,n),v=t.memoizedState),(u=Ct||Ec(t,r,u,n,f,v,l)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,v,l)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),a.props=n,a.state=v,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return ua(e,t,r,n,o,s)}function ua(e,t,r,n,s,o){dh(e,t);var a=(t.flags&128)!==0;if(!n&&!a)return s&&xc(t,r,!1),_t(e,t,o);n=t.stateNode,ym.current=t;var c=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&a?(t.child=Yr(t,e.child,null,o),t.child=Yr(t,null,c,o)):je(e,t,c,o),t.memoizedState=n.state,s&&xc(t,r,!0),t.child}function hh(e){var t=e.stateNode;t.pendingContext?yc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&yc(e,t.context,!1),cl(e,t.containerInfo)}function $c(e,t,r,n,s){return Qr(),nl(s),t.flags|=256,je(e,t,r,n),t.child}var da={dehydrated:null,treeContext:null,retryLane:0};function ha(e){return{baseLanes:e,cachePool:null,transitions:null}}function fh(e,t,r){var n=t.pendingProps,s=ee.current,o=!1,a=(t.flags&128)!==0,c;if((c=a)||(c=e!==null&&e.memoizedState===null?!1:(s&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),K(ee,s&1),e===null)return sa(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=n.children,e=n.fallback,o?(n=t.mode,o=t.child,a={mode:"hidden",children:a},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=$o(a,n,0,null),e=ir(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ha(r),t.memoizedState=da,e):vl(t,a));if(s=e.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return xm(e,t,a,n,c,s,r);if(o){o=n.fallback,a=t.mode,s=e.child,c=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=Wt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),c!==null?o=Wt(c,o):(o=ir(o,a,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,a=e.child.memoizedState,a=a===null?ha(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~r,t.memoizedState=da,n}return o=e.child,e=o.sibling,n=Wt(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function vl(e,t){return t=$o({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ss(e,t,r,n){return n!==null&&nl(n),Yr(t,e.child,null,r),e=vl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xm(e,t,r,n,s,o,a){if(r)return t.flags&256?(t.flags&=-257,n=hi(Error(C(422))),Ss(e,t,a,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,s=t.mode,n=$o({mode:"visible",children:n.children},s,0,null),o=ir(o,s,a,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Yr(t,e.child,null,a),t.child.memoizedState=ha(a),t.memoizedState=da,o);if(!(t.mode&1))return Ss(e,t,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var c=n.dgst;return n=c,o=Error(C(419)),n=hi(o,n,void 0),Ss(e,t,a,n)}if(c=(a&e.childLanes)!==0,Te||c){if(n=fe,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,bt(e,s),st(n,e,s,-1))}return jl(),n=hi(Error(C(421))),Ss(e,t,a,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Rm.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Me=zt(s.nextSibling),Ue=t,X=!0,rt=null,e!==null&&(He[Ve++]=mt,He[Ve++]=gt,He[Ve++]=cr,mt=e.id,gt=e.overflow,cr=t),t=vl(t,n.children),t.flags|=4096,t)}function Lc(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),oa(e.return,t,r)}function fi(e,t,r,n,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function ph(e,t,r){var n=t.pendingProps,s=n.revealOrder,o=n.tail;if(je(e,t,n.children,r),n=ee.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lc(e,r,t);else if(e.tag===19)Lc(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(K(ee,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&ho(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),fi(t,!1,s,r,o);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&ho(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}fi(t,!0,r,null,o);break;case"together":fi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _t(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),dr|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(C(153));if(t.child!==null){for(e=t.child,r=Wt(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Wt(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function wm(e,t,r){switch(t.tag){case 3:hh(t),Qr();break;case 5:Ud(t);break;case 1:Pe(t.type)&&oo(t);break;case 4:cl(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;K(lo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(K(ee,ee.current&1),t.flags|=128,null):r&t.child.childLanes?fh(e,t,r):(K(ee,ee.current&1),e=_t(e,t,r),e!==null?e.sibling:null);K(ee,ee.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return ph(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),K(ee,ee.current),n)break;return null;case 22:case 23:return t.lanes=0,uh(e,t,r)}return _t(e,t,r)}var mh,fa,gh,vh;mh=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};fa=function(){};gh=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,nr(ut.current);var o=null;switch(r){case"input":s=$i(e,s),n=$i(e,n),o=[];break;case"select":s=re({},s,{value:void 0}),n=re({},n,{value:void 0}),o=[];break;case"textarea":s=zi(e,s),n=zi(e,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=no)}Ui(r,n);var a;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var c=s[u];for(a in c)c.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Dn.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(c=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(l!=null||c!=null))if(u==="style")if(c){for(a in c)!c.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&c[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,c=c?c.__html:void 0,l!=null&&c!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Dn.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&J("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};vh=function(e,t,r,n){r!==n&&(t.flags|=4)};function vn(e,t){if(!X)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function we(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function bm(e,t,r){var n=t.pendingProps;switch(rl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return we(t),null;case 1:return Pe(t.type)&&so(),we(t),null;case 3:return n=t.stateNode,Xr(),Q(Oe),Q(_e),dl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(ks(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,rt!==null&&(ba(rt),rt=null))),fa(e,t),we(t),null;case 5:ul(t);var s=nr(Jn.current);if(r=t.type,e!==null&&t.stateNode!=null)gh(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return we(t),null}if(e=nr(ut.current),ks(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[lt]=t,n[Kn]=o,e=(t.mode&1)!==0,r){case"dialog":J("cancel",n),J("close",n);break;case"iframe":case"object":case"embed":J("load",n);break;case"video":case"audio":for(s=0;s<jn.length;s++)J(jn[s],n);break;case"source":J("error",n);break;case"img":case"image":case"link":J("error",n),J("load",n);break;case"details":J("toggle",n);break;case"input":Vl(n,o),J("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},J("invalid",n);break;case"textarea":Kl(n,o),J("invalid",n)}Ui(r,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?n.textContent!==c&&(o.suppressHydrationWarning!==!0&&js(n.textContent,c,e),s=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&js(n.textContent,c,e),s=["children",""+c]):Dn.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&J("scroll",n)}switch(r){case"input":ms(n),ql(n,o,!0);break;case"textarea":ms(n),Gl(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=no)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vu(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=a.createElement(r,{is:n.is}):(e=a.createElement(r),r==="select"&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,r),e[lt]=t,e[Kn]=n,mh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Bi(r,n),r){case"dialog":J("cancel",e),J("close",e),s=n;break;case"iframe":case"object":case"embed":J("load",e),s=n;break;case"video":case"audio":for(s=0;s<jn.length;s++)J(jn[s],e);s=n;break;case"source":J("error",e),s=n;break;case"img":case"image":case"link":J("error",e),J("load",e),s=n;break;case"details":J("toggle",e),s=n;break;case"input":Vl(e,n),s=$i(e,n),J("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=re({},n,{value:void 0}),J("invalid",e);break;case"textarea":Kl(e,n),s=zi(e,n),J("invalid",e);break;default:s=n}Ui(r,s),c=s;for(o in c)if(c.hasOwnProperty(o)){var l=c[o];o==="style"?Gu(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qu(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&zn(e,l):typeof l=="number"&&zn(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Dn.hasOwnProperty(o)?l!=null&&o==="onScroll"&&J("scroll",e):l!=null&&Ba(e,o,l,a))}switch(r){case"input":ms(e),ql(e,n,!1);break;case"textarea":ms(e),Gl(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Ft(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Br(e,!!n.multiple,o,!1):n.defaultValue!=null&&Br(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=no)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return we(t),null;case 6:if(e&&t.stateNode!=null)vh(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(r=nr(Jn.current),nr(ut.current),ks(t)){if(n=t.stateNode,r=t.memoizedProps,n[lt]=t,(o=n.nodeValue!==r)&&(e=Ue,e!==null))switch(e.tag){case 3:js(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&js(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[lt]=t,t.stateNode=n}return we(t),null;case 13:if(Q(ee),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(X&&Me!==null&&t.mode&1&&!(t.flags&128))$d(),Qr(),t.flags|=98560,o=!1;else if(o=ks(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(C(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(C(317));o[lt]=t}else Qr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;we(t),o=!1}else rt!==null&&(ba(rt),rt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ee.current&1?de===0&&(de=3):jl())),t.updateQueue!==null&&(t.flags|=4),we(t),null);case 4:return Xr(),fa(e,t),e===null&&Vn(t.stateNode.containerInfo),we(t),null;case 10:return il(t.type._context),we(t),null;case 17:return Pe(t.type)&&so(),we(t),null;case 19:if(Q(ee),o=t.memoizedState,o===null)return we(t),null;if(n=(t.flags&128)!==0,a=o.rendering,a===null)if(n)vn(o,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=ho(e),a!==null){for(t.flags|=128,vn(o,!1),n=a.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return K(ee,ee.current&1|2),t.child}e=e.sibling}o.tail!==null&&oe()>en&&(t.flags|=128,n=!0,vn(o,!1),t.lanes=4194304)}else{if(!n)if(e=ho(a),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),vn(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!X)return we(t),null}else 2*oe()-o.renderingStartTime>en&&r!==1073741824&&(t.flags|=128,n=!0,vn(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(r=o.last,r!==null?r.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=oe(),t.sibling=null,r=ee.current,K(ee,n?r&1|2:r&1),t):(we(t),null);case 22:case 23:return _l(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Le&1073741824&&(we(t),t.subtreeFlags&6&&(t.flags|=8192)):we(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function _m(e,t){switch(rl(t),t.tag){case 1:return Pe(t.type)&&so(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Xr(),Q(Oe),Q(_e),dl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ul(t),null;case 13:if(Q(ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Qr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Q(ee),null;case 4:return Xr(),null;case 10:return il(t.type._context),null;case 22:case 23:return _l(),null;case 24:return null;default:return null}}var Es=!1,be=!1,jm=typeof WeakSet=="function"?WeakSet:Set,R=null;function zr(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){se(e,t,n)}else r.current=null}function pa(e,t,r){try{r()}catch(n){se(e,t,n)}}var Dc=!1;function km(e,t){if(Yi=eo,e=_d(),el(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var x;d!==r||s!==0&&d.nodeType!==3||(c=a+s),d!==o||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(x=d.firstChild)!==null;)f=d,d=x;for(;;){if(d===e)break t;if(f===r&&++u===s&&(c=a),f===o&&++h===n&&(l=a),(x=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=x}r=c===-1||l===-1?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Xi={focusedElem:e,selectionRange:r},eo=!1,R=t;R!==null;)if(t=R,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,R=e;else for(;R!==null;){t=R;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?y:Xe(t.type,y),w);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(_){se(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,R=e;break}R=t.return}return v=Dc,Dc=!1,v}function Rn(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&pa(t,r,o)}s=s.next}while(s!==n)}}function Ao(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ma(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function yh(e){var t=e.alternate;t!==null&&(e.alternate=null,yh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[lt],delete t[Kn],delete t[ta],delete t[im],delete t[am])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xh(e){return e.tag===5||e.tag===3||e.tag===4}function zc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ga(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=no));else if(n!==4&&(e=e.child,e!==null))for(ga(e,t,r),e=e.sibling;e!==null;)ga(e,t,r),e=e.sibling}function va(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(va(e,t,r),e=e.sibling;e!==null;)va(e,t,r),e=e.sibling}var ge=null,et=!1;function St(e,t,r){for(r=r.child;r!==null;)wh(e,t,r),r=r.sibling}function wh(e,t,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount(No,r)}catch{}switch(r.tag){case 5:be||zr(r,t);case 6:var n=ge,s=et;ge=null,St(e,t,r),ge=n,et=s,ge!==null&&(et?(e=ge,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):ge.removeChild(r.stateNode));break;case 18:ge!==null&&(et?(e=ge,r=r.stateNode,e.nodeType===8?ii(e.parentNode,r):e.nodeType===1&&ii(e,r),Wn(e)):ii(ge,r.stateNode));break;case 4:n=ge,s=et,ge=r.stateNode.containerInfo,et=!0,St(e,t,r),ge=n,et=s;break;case 0:case 11:case 14:case 15:if(!be&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&pa(r,t,a),s=s.next}while(s!==n)}St(e,t,r);break;case 1:if(!be&&(zr(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){se(r,t,c)}St(e,t,r);break;case 21:St(e,t,r);break;case 22:r.mode&1?(be=(n=be)||r.memoizedState!==null,St(e,t,r),be=n):St(e,t,r);break;default:St(e,t,r)}}function Mc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jm),t.forEach(function(n){var s=Am.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Qe(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=e,a=t,c=a;e:for(;c!==null;){switch(c.tag){case 5:ge=c.stateNode,et=!1;break e;case 3:ge=c.stateNode.containerInfo,et=!0;break e;case 4:ge=c.stateNode.containerInfo,et=!0;break e}c=c.return}if(ge===null)throw Error(C(160));wh(o,a,s),ge=null,et=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){se(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)bh(t,e),t=t.sibling}function bh(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),it(e),n&4){try{Rn(3,e,e.return),Ao(3,e)}catch(y){se(e,e.return,y)}try{Rn(5,e,e.return)}catch(y){se(e,e.return,y)}}break;case 1:Qe(t,e),it(e),n&512&&r!==null&&zr(r,r.return);break;case 5:if(Qe(t,e),it(e),n&512&&r!==null&&zr(r,r.return),e.flags&32){var s=e.stateNode;try{zn(s,"")}catch(y){se(e,e.return,y)}}if(n&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=r!==null?r.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&Fu(s,o),Bi(c,a);var u=Bi(c,o);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];h==="style"?Gu(s,d):h==="dangerouslySetInnerHTML"?qu(s,d):h==="children"?zn(s,d):Ba(s,h,d,u)}switch(c){case"input":Li(s,o);break;case"textarea":Hu(s,o);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var x=o.value;x!=null?Br(s,!!o.multiple,x,!1):f!==!!o.multiple&&(o.defaultValue!=null?Br(s,!!o.multiple,o.defaultValue,!0):Br(s,!!o.multiple,o.multiple?[]:"",!1))}s[Kn]=o}catch(y){se(e,e.return,y)}}break;case 6:if(Qe(t,e),it(e),n&4){if(e.stateNode===null)throw Error(C(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){se(e,e.return,y)}}break;case 3:if(Qe(t,e),it(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wn(t.containerInfo)}catch(y){se(e,e.return,y)}break;case 4:Qe(t,e),it(e);break;case 13:Qe(t,e),it(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(wl=oe())),n&4&&Mc(e);break;case 22:if(h=r!==null&&r.memoizedState!==null,e.mode&1?(be=(u=be)||h,Qe(t,e),be=u):Qe(t,e),it(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(R=e,h=e.child;h!==null;){for(d=R=h;R!==null;){switch(f=R,x=f.child,f.tag){case 0:case 11:case 14:case 15:Rn(4,f,f.return);break;case 1:zr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){se(n,r,y)}}break;case 5:zr(f,f.return);break;case 22:if(f.memoizedState!==null){Bc(d);continue}}x!==null?(x.return=f,R=x):Bc(d)}h=h.sibling}e:for(h=null,d=e;;){if(d.tag===5){if(h===null){h=d;try{s=d.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,c.style.display=Ku("display",a))}catch(y){se(e,e.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(y){se(e,e.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Qe(t,e),it(e),n&4&&Mc(e);break;case 21:break;default:Qe(t,e),it(e)}}function it(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(xh(r)){var n=r;break e}r=r.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(zn(s,""),n.flags&=-33);var o=zc(e);va(e,o,s);break;case 3:case 4:var a=n.stateNode.containerInfo,c=zc(e);ga(e,c,a);break;default:throw Error(C(161))}}catch(l){se(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Nm(e,t,r){R=e,_h(e)}function _h(e,t,r){for(var n=(e.mode&1)!==0;R!==null;){var s=R,o=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Es;if(!a){var c=s.alternate,l=c!==null&&c.memoizedState!==null||be;c=Es;var u=be;if(Es=a,(be=l)&&!u)for(R=s;R!==null;)a=R,l=a.child,a.tag===22&&a.memoizedState!==null?Wc(s):l!==null?(l.return=a,R=l):Wc(s);for(;o!==null;)R=o,_h(o),o=o.sibling;R=s,Es=c,be=u}Uc(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,R=o):Uc(e)}}function Uc(e){for(;R!==null;){var t=R;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:be||Ao(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!be)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:Xe(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&kc(t,o,n);break;case 3:var a=t.updateQueue;if(a!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}kc(t,a,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&Wn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}be||t.flags&512&&ma(t)}catch(f){se(t,t.return,f)}}if(t===e){R=null;break}if(r=t.sibling,r!==null){r.return=t.return,R=r;break}R=t.return}}function Bc(e){for(;R!==null;){var t=R;if(t===e){R=null;break}var r=t.sibling;if(r!==null){r.return=t.return,R=r;break}R=t.return}}function Wc(e){for(;R!==null;){var t=R;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ao(4,t)}catch(l){se(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(l){se(t,s,l)}}var o=t.return;try{ma(t)}catch(l){se(t,o,l)}break;case 5:var a=t.return;try{ma(t)}catch(l){se(t,a,l)}}}catch(l){se(t,t.return,l)}if(t===e){R=null;break}var c=t.sibling;if(c!==null){c.return=t.return,R=c;break}R=t.return}}var Sm=Math.ceil,mo=jt.ReactCurrentDispatcher,yl=jt.ReactCurrentOwner,Ke=jt.ReactCurrentBatchConfig,H=0,fe=null,le=null,ve=0,Le=0,Mr=qt(0),de=0,Zn=null,dr=0,Io=0,xl=0,An=null,Ce=null,wl=0,en=1/0,ht=null,go=!1,ya=null,Ut=null,Cs=!1,It=null,vo=0,In=0,xa=null,Vs=-1,qs=0;function ke(){return H&6?oe():Vs!==-1?Vs:Vs=oe()}function Bt(e){return e.mode&1?H&2&&ve!==0?ve&-ve:cm.transition!==null?(qs===0&&(qs=id()),qs):(e=V,e!==0||(e=window.event,e=e===void 0?16:fd(e.type)),e):1}function st(e,t,r,n){if(50<In)throw In=0,xa=null,Error(C(185));ls(e,r,n),(!(H&2)||e!==fe)&&(e===fe&&(!(H&2)&&(Io|=r),de===4&&Pt(e,ve)),Re(e,n),r===1&&H===0&&!(t.mode&1)&&(en=oe()+500,Oo&&Kt()))}function Re(e,t){var r=e.callbackNode;cp(e,t);var n=Zs(e,e===fe?ve:0);if(n===0)r!==null&&Yl(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Yl(r),t===1)e.tag===0?lm(Fc.bind(null,e)):Rd(Fc.bind(null,e)),sm(function(){!(H&6)&&Kt()}),r=null;else{switch(ad(n)){case 1:r=qa;break;case 4:r=sd;break;case 16:r=Xs;break;case 536870912:r=od;break;default:r=Xs}r=Oh(r,jh.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function jh(e,t){if(Vs=-1,qs=0,H&6)throw Error(C(327));var r=e.callbackNode;if(qr()&&e.callbackNode!==r)return null;var n=Zs(e,e===fe?ve:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=yo(e,n);else{t=n;var s=H;H|=2;var o=Nh();(fe!==e||ve!==t)&&(ht=null,en=oe()+500,or(e,t));do try{Tm();break}catch(c){kh(e,c)}while(!0);ol(),mo.current=o,H=s,le!==null?t=0:(fe=null,ve=0,t=de)}if(t!==0){if(t===2&&(s=qi(e),s!==0&&(n=s,t=wa(e,s))),t===1)throw r=Zn,or(e,0),Pt(e,n),Re(e,oe()),r;if(t===6)Pt(e,n);else{if(s=e.current.alternate,!(n&30)&&!Em(s)&&(t=yo(e,n),t===2&&(o=qi(e),o!==0&&(n=o,t=wa(e,o))),t===1))throw r=Zn,or(e,0),Pt(e,n),Re(e,oe()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:Yt(e,Ce,ht);break;case 3:if(Pt(e,n),(n&130023424)===n&&(t=wl+500-oe(),10<t)){if(Zs(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){ke(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ea(Yt.bind(null,e,Ce,ht),t);break}Yt(e,Ce,ht);break;case 4:if(Pt(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var a=31-nt(n);o=1<<a,a=t[a],a>s&&(s=a),n&=~o}if(n=s,n=oe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sm(n/1960))-n,10<n){e.timeoutHandle=ea(Yt.bind(null,e,Ce,ht),n);break}Yt(e,Ce,ht);break;case 5:Yt(e,Ce,ht);break;default:throw Error(C(329))}}}return Re(e,oe()),e.callbackNode===r?jh.bind(null,e):null}function wa(e,t){var r=An;return e.current.memoizedState.isDehydrated&&(or(e,t).flags|=256),e=yo(e,t),e!==2&&(t=Ce,Ce=r,t!==null&&ba(t)),e}function ba(e){Ce===null?Ce=e:Ce.push.apply(Ce,e)}function Em(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!ot(o(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Pt(e,t){for(t&=~xl,t&=~Io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-nt(t),n=1<<r;e[r]=-1,t&=~n}}function Fc(e){if(H&6)throw Error(C(327));qr();var t=Zs(e,0);if(!(t&1))return Re(e,oe()),null;var r=yo(e,t);if(e.tag!==0&&r===2){var n=qi(e);n!==0&&(t=n,r=wa(e,n))}if(r===1)throw r=Zn,or(e,0),Pt(e,t),Re(e,oe()),r;if(r===6)throw Error(C(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Yt(e,Ce,ht),Re(e,oe()),null}function bl(e,t){var r=H;H|=1;try{return e(t)}finally{H=r,H===0&&(en=oe()+500,Oo&&Kt())}}function hr(e){It!==null&&It.tag===0&&!(H&6)&&qr();var t=H;H|=1;var r=Ke.transition,n=V;try{if(Ke.transition=null,V=1,e)return e()}finally{V=n,Ke.transition=r,H=t,!(H&6)&&Kt()}}function _l(){Le=Mr.current,Q(Mr)}function or(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,nm(r)),le!==null)for(r=le.return;r!==null;){var n=r;switch(rl(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&so();break;case 3:Xr(),Q(Oe),Q(_e),dl();break;case 5:ul(n);break;case 4:Xr();break;case 13:Q(ee);break;case 19:Q(ee);break;case 10:il(n.type._context);break;case 22:case 23:_l()}r=r.return}if(fe=e,le=e=Wt(e.current,null),ve=Le=t,de=0,Zn=null,xl=Io=dr=0,Ce=An=null,rr!==null){for(t=0;t<rr.length;t++)if(r=rr[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var a=o.next;o.next=s,n.next=a}r.pending=n}rr=null}return e}function kh(e,t){do{var r=le;try{if(ol(),Ws.current=po,fo){for(var n=te.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}fo=!1}if(ur=0,he=ue=te=null,Pn=!1,Qn=0,yl.current=null,r===null||r.return===null){de=1,Zn=t,le=null;break}e:{var o=e,a=r.return,c=r,l=t;if(t=ve,c.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=c,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var x=Oc(a);if(x!==null){x.flags&=-257,Pc(x,a,c,o,t),x.mode&1&&Tc(o,u,t),t=x,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){Tc(o,u,t),jl();break e}l=Error(C(426))}}else if(X&&c.mode&1){var w=Oc(a);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Pc(w,a,c,o,t),nl(Zr(l,c));break e}}o=l=Zr(l,c),de!==4&&(de=2),An===null?An=[o]:An.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var p=ah(o,l,t);jc(o,p);break e;case 1:c=l;var m=o.type,g=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ut===null||!Ut.has(g)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=lh(o,c,t);jc(o,_);break e}}o=o.return}while(o!==null)}Eh(r)}catch(j){t=j,le===r&&r!==null&&(le=r=r.return);continue}break}while(!0)}function Nh(){var e=mo.current;return mo.current=po,e===null?po:e}function jl(){(de===0||de===3||de===2)&&(de=4),fe===null||!(dr&268435455)&&!(Io&268435455)||Pt(fe,ve)}function yo(e,t){var r=H;H|=2;var n=Nh();(fe!==e||ve!==t)&&(ht=null,or(e,t));do try{Cm();break}catch(s){kh(e,s)}while(!0);if(ol(),H=r,mo.current=n,le!==null)throw Error(C(261));return fe=null,ve=0,de}function Cm(){for(;le!==null;)Sh(le)}function Tm(){for(;le!==null&&!ep();)Sh(le)}function Sh(e){var t=Th(e.alternate,e,Le);e.memoizedProps=e.pendingProps,t===null?Eh(e):le=t,yl.current=null}function Eh(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=_m(r,t),r!==null){r.flags&=32767,le=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,le=null;return}}else if(r=bm(r,t,Le),r!==null){le=r;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);de===0&&(de=5)}function Yt(e,t,r){var n=V,s=Ke.transition;try{Ke.transition=null,V=1,Om(e,t,r,n)}finally{Ke.transition=s,V=n}return null}function Om(e,t,r,n){do qr();while(It!==null);if(H&6)throw Error(C(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(C(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(up(e,o),e===fe&&(le=fe=null,ve=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Cs||(Cs=!0,Oh(Xs,function(){return qr(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ke.transition,Ke.transition=null;var a=V;V=1;var c=H;H|=4,yl.current=null,km(e,r),bh(r,e),Qp(Xi),eo=!!Yi,Xi=Yi=null,e.current=r,Nm(r),tp(),H=c,V=a,Ke.transition=o}else e.current=r;if(Cs&&(Cs=!1,It=e,vo=s),o=e.pendingLanes,o===0&&(Ut=null),sp(r.stateNode),Re(e,oe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(go)throw go=!1,e=ya,ya=null,e;return vo&1&&e.tag!==0&&qr(),o=e.pendingLanes,o&1?e===xa?In++:(In=0,xa=e):In=0,Kt(),null}function qr(){if(It!==null){var e=ad(vo),t=Ke.transition,r=V;try{if(Ke.transition=null,V=16>e?16:e,It===null)var n=!1;else{if(e=It,It=null,vo=0,H&6)throw Error(C(331));var s=H;for(H|=4,R=e.current;R!==null;){var o=R,a=o.child;if(R.flags&16){var c=o.deletions;if(c!==null){for(var l=0;l<c.length;l++){var u=c[l];for(R=u;R!==null;){var h=R;switch(h.tag){case 0:case 11:case 15:Rn(8,h,o)}var d=h.child;if(d!==null)d.return=h,R=d;else for(;R!==null;){h=R;var f=h.sibling,x=h.return;if(yh(h),h===u){R=null;break}if(f!==null){f.return=x,R=f;break}R=x}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}R=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,R=a;else e:for(;R!==null;){if(o=R,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Rn(9,o,o.return)}var p=o.sibling;if(p!==null){p.return=o.return,R=p;break e}R=o.return}}var m=e.current;for(R=m;R!==null;){a=R;var g=a.child;if(a.subtreeFlags&2064&&g!==null)g.return=a,R=g;else e:for(a=m;R!==null;){if(c=R,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ao(9,c)}}catch(j){se(c,c.return,j)}if(c===a){R=null;break e}var _=c.sibling;if(_!==null){_.return=c.return,R=_;break e}R=c.return}}if(H=s,Kt(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot(No,e)}catch{}n=!0}return n}finally{V=r,Ke.transition=t}}return!1}function Hc(e,t,r){t=Zr(r,t),t=ah(e,t,1),e=Mt(e,t,1),t=ke(),e!==null&&(ls(e,1,t),Re(e,t))}function se(e,t,r){if(e.tag===3)Hc(e,e,r);else for(;t!==null;){if(t.tag===3){Hc(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ut===null||!Ut.has(n))){e=Zr(r,e),e=lh(t,e,1),t=Mt(t,e,1),e=ke(),t!==null&&(ls(t,1,e),Re(t,e));break}}t=t.return}}function Pm(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=ke(),e.pingedLanes|=e.suspendedLanes&r,fe===e&&(ve&r)===r&&(de===4||de===3&&(ve&130023424)===ve&&500>oe()-wl?or(e,0):xl|=r),Re(e,t)}function Ch(e,t){t===0&&(e.mode&1?(t=ys,ys<<=1,!(ys&130023424)&&(ys=4194304)):t=1);var r=ke();e=bt(e,t),e!==null&&(ls(e,t,r),Re(e,r))}function Rm(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ch(e,r)}function Am(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),Ch(e,r)}var Th;Th=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Oe.current)Te=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Te=!1,wm(e,t,r);Te=!!(e.flags&131072)}else Te=!1,X&&t.flags&1048576&&Ad(t,ao,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Hs(e,t),e=t.pendingProps;var s=Jr(t,_e.current);Vr(t,r),s=fl(null,t,n,e,s,r);var o=pl();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pe(n)?(o=!0,oo(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,ll(t),s.updater=Ro,t.stateNode=s,s._reactInternals=t,aa(t,n,e,r),t=ua(null,t,n,!0,o,r)):(t.tag=0,X&&o&&tl(t),je(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=$m(n),e=Xe(n,e),s){case 0:t=ca(null,t,n,e,r);break e;case 1:t=Ic(null,t,n,e,r);break e;case 11:t=Rc(null,t,n,e,r);break e;case 14:t=Ac(null,t,n,Xe(n.type,e),r);break e}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),ca(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Ic(e,t,n,s,r);case 3:e:{if(hh(t),e===null)throw Error(C(387));n=t.pendingProps,o=t.memoizedState,s=o.element,Md(e,t),uo(t,n,null,r);var a=t.memoizedState;if(n=a.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=Zr(Error(C(423)),t),t=$c(e,t,n,r,s);break e}else if(n!==s){s=Zr(Error(C(424)),t),t=$c(e,t,n,r,s);break e}else for(Me=zt(t.stateNode.containerInfo.firstChild),Ue=t,X=!0,rt=null,r=Dd(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Qr(),n===s){t=_t(e,t,r);break e}je(e,t,n,r)}t=t.child}return t;case 5:return Ud(t),e===null&&sa(t),n=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,Zi(n,s)?a=null:o!==null&&Zi(n,o)&&(t.flags|=32),dh(e,t),je(e,t,a,r),t.child;case 6:return e===null&&sa(t),null;case 13:return fh(e,t,r);case 4:return cl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Yr(t,null,n,r):je(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Rc(e,t,n,s,r);case 7:return je(e,t,t.pendingProps,r),t.child;case 8:return je(e,t,t.pendingProps.children,r),t.child;case 12:return je(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,K(lo,n._currentValue),n._currentValue=a,o!==null)if(ot(o.value,a)){if(o.children===s.children&&!Oe.current){t=_t(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var l=c.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=yt(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),oa(o.return,r,t),c.lanes|=r;break}l=l.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(C(341));a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),oa(a,r,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}je(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Vr(t,r),s=Ge(s),n=n(s),t.flags|=1,je(e,t,n,r),t.child;case 14:return n=t.type,s=Xe(n,t.pendingProps),s=Xe(n.type,s),Ac(e,t,n,s,r);case 15:return ch(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Xe(n,s),Hs(e,t),t.tag=1,Pe(n)?(e=!0,oo(t)):e=!1,Vr(t,r),ih(t,n,s),aa(t,n,s,r),ua(null,t,n,!0,e,r);case 19:return ph(e,t,r);case 22:return uh(e,t,r)}throw Error(C(156,t.tag))};function Oh(e,t){return nd(e,t)}function Im(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qe(e,t,r,n){return new Im(e,t,r,n)}function kl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function $m(e){if(typeof e=="function")return kl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Fa)return 11;if(e===Ha)return 14}return 2}function Wt(e,t){var r=e.alternate;return r===null?(r=qe(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Ks(e,t,r,n,s,o){var a=2;if(n=e,typeof e=="function")kl(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Tr:return ir(r.children,s,o,t);case Wa:a=8,s|=8;break;case Pi:return e=qe(12,r,t,s|2),e.elementType=Pi,e.lanes=o,e;case Ri:return e=qe(13,r,t,s),e.elementType=Ri,e.lanes=o,e;case Ai:return e=qe(19,r,t,s),e.elementType=Ai,e.lanes=o,e;case Uu:return $o(r,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case zu:a=10;break e;case Mu:a=9;break e;case Fa:a=11;break e;case Ha:a=14;break e;case Et:a=16,n=null;break e}throw Error(C(130,e==null?e:typeof e,""))}return t=qe(a,r,t,s),t.elementType=e,t.type=n,t.lanes=o,t}function ir(e,t,r,n){return e=qe(7,e,n,t),e.lanes=r,e}function $o(e,t,r,n){return e=qe(22,e,n,t),e.elementType=Uu,e.lanes=r,e.stateNode={isHidden:!1},e}function pi(e,t,r){return e=qe(6,e,null,t),e.lanes=r,e}function mi(e,t,r){return t=qe(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Lm(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jo(0),this.expirationTimes=Jo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Nl(e,t,r,n,s,o,a,c,l){return e=new Lm(e,t,r,c,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=qe(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ll(o),e}function Dm(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ph(e){if(!e)return Ht;e=e._reactInternals;e:{if(mr(e)!==e||e.tag!==1)throw Error(C(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(C(171))}if(e.tag===1){var r=e.type;if(Pe(r))return Pd(e,r,t)}return t}function Rh(e,t,r,n,s,o,a,c,l){return e=Nl(r,n,!0,e,s,o,a,c,l),e.context=Ph(null),r=e.current,n=ke(),s=Bt(r),o=yt(n,s),o.callback=t??null,Mt(r,o,s),e.current.lanes=s,ls(e,s,n),Re(e,n),e}function Lo(e,t,r,n){var s=t.current,o=ke(),a=Bt(s);return r=Ph(r),t.context===null?t.context=r:t.pendingContext=r,t=yt(o,a),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Mt(s,t,a),e!==null&&(st(e,s,a,o),Bs(e,s,a)),a}function xo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Vc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Sl(e,t){Vc(e,t),(e=e.alternate)&&Vc(e,t)}function zm(){return null}var Ah=typeof reportError=="function"?reportError:function(e){console.error(e)};function El(e){this._internalRoot=e}Do.prototype.render=El.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(C(409));Lo(e,t,null,null)};Do.prototype.unmount=El.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;hr(function(){Lo(null,e,null,null)}),t[wt]=null}};function Do(e){this._internalRoot=e}Do.prototype.unstable_scheduleHydration=function(e){if(e){var t=ud();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ot.length&&t!==0&&t<Ot[r].priority;r++);Ot.splice(r,0,e),r===0&&hd(e)}};function Cl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function zo(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qc(){}function Mm(e,t,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var u=xo(a);o.call(u)}}var a=Rh(t,n,e,0,null,!1,!1,"",qc);return e._reactRootContainer=a,e[wt]=a.current,Vn(e.nodeType===8?e.parentNode:e),hr(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var c=n;n=function(){var u=xo(l);c.call(u)}}var l=Nl(e,0,!1,null,null,!1,!1,"",qc);return e._reactRootContainer=l,e[wt]=l.current,Vn(e.nodeType===8?e.parentNode:e),hr(function(){Lo(t,l,r,n)}),l}function Mo(e,t,r,n,s){var o=r._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var c=s;s=function(){var l=xo(a);c.call(l)}}Lo(t,a,e,s)}else a=Mm(r,t,e,s,n);return xo(a)}ld=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_n(t.pendingLanes);r!==0&&(Ka(t,r|1),Re(t,oe()),!(H&6)&&(en=oe()+500,Kt()))}break;case 13:hr(function(){var n=bt(e,1);if(n!==null){var s=ke();st(n,e,1,s)}}),Sl(e,1)}};Ga=function(e){if(e.tag===13){var t=bt(e,134217728);if(t!==null){var r=ke();st(t,e,134217728,r)}Sl(e,134217728)}};cd=function(e){if(e.tag===13){var t=Bt(e),r=bt(e,t);if(r!==null){var n=ke();st(r,e,t,n)}Sl(e,t)}};ud=function(){return V};dd=function(e,t){var r=V;try{return V=e,t()}finally{V=r}};Fi=function(e,t,r){switch(t){case"input":if(Li(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=To(n);if(!s)throw Error(C(90));Wu(n),Li(n,s)}}}break;case"textarea":Hu(e,r);break;case"select":t=r.value,t!=null&&Br(e,!!r.multiple,t,!1)}};Yu=bl;Xu=hr;var Um={usingClientEntryPoint:!1,Events:[us,Ar,To,Ju,Qu,bl]},yn={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bm={bundleType:yn.bundleType,version:yn.version,rendererPackageName:yn.rendererPackageName,rendererConfig:yn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=td(e),e===null?null:e.stateNode},findFiberByHostInstance:yn.findFiberByHostInstance||zm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{No=Ts.inject(Bm),ct=Ts}catch{}}We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Um;We.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cl(t))throw Error(C(200));return Dm(e,t,null,r)};We.createRoot=function(e,t){if(!Cl(e))throw Error(C(299));var r=!1,n="",s=Ah;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Nl(e,1,!1,null,null,r,!1,n,s),e[wt]=t.current,Vn(e.nodeType===8?e.parentNode:e),new El(t)};We.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(C(188)):(e=Object.keys(e).join(","),Error(C(268,e)));return e=td(t),e=e===null?null:e.stateNode,e};We.flushSync=function(e){return hr(e)};We.hydrate=function(e,t,r){if(!zo(t))throw Error(C(200));return Mo(null,e,t,!0,r)};We.hydrateRoot=function(e,t,r){if(!Cl(e))throw Error(C(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",a=Ah;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),t=Rh(t,null,e,1,r??null,s,!1,o,a),e[wt]=t.current,Vn(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Do(t)};We.render=function(e,t,r){if(!zo(t))throw Error(C(200));return Mo(null,e,t,!1,r)};We.unmountComponentAtNode=function(e){if(!zo(e))throw Error(C(40));return e._reactRootContainer?(hr(function(){Mo(null,null,e,!1,function(){e._reactRootContainer=null,e[wt]=null})}),!0):!1};We.unstable_batchedUpdates=bl;We.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!zo(r))throw Error(C(200));if(e==null||e._reactInternals===void 0)throw Error(C(38));return Mo(e,t,r,!1,n)};We.version="18.3.1-next-f1338f8080-20240426";function Ih(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ih)}catch(e){console.error(e)}}Ih(),Iu.exports=We;var Wm=Iu.exports,$h,Kc=Wm;$h=Kc.createRoot,Kc.hydrateRoot;function vt({children:e,variant:t="primary",size:r="medium",onClick:n,href:s}){const o="inline-flex items-center justify-center transition-all duration-200 cursor-pointer",a={primary:"bg-[#1a4d2e] text-white hover:bg-[#153d25] shadow-[var(--shadow-md)] hover:shadow-[var(--shadow-lg)] border-0",secondary:"bg-white text-[#1a4d2e] border border-[#1a4d2e] hover:bg-[#4a6f5a] hover:text-white"},c={medium:"px-8 py-3 text-base rounded-lg",large:"px-10 py-4 text-lg rounded-lg"},l=`${o} ${a[t]} ${c[r]}`;return s?i.jsx("a",{href:s,className:l,children:e}):i.jsx("button",{onClick:n,className:l,children:e})}const Lh="/assets/Logo-DuJXds8E.svg";function tn({onGetStartedClick:e}){return i.jsx("header",{className:"bg-white/80 backdrop-blur-sm sticky top-0 z-50 border-b border-[--color-sand-200]",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-4 flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center flex-shrink-0",children:i.jsx("a",{href:"/",className:"flex items-center gap-2 hover:opacity-80 transition-opacity",children:i.jsx("img",{src:Lh,alt:"DoneWell",className:"h-8 w-auto",loading:"eager",width:120,height:32})})}),i.jsxs("nav",{className:"hidden md:flex items-center gap-8 flex-1 justify-center",children:[i.jsx("a",{href:"/",className:"text-[--color-stone-700] hover:text-[--color-forest-700] transition-colors font-semibold",children:"Home"}),i.jsx("a",{href:"/work",className:"text-[--color-stone-700] hover:text-[--color-forest-700] transition-colors font-semibold",children:"Work"}),i.jsx("a",{href:"/about",className:"text-[--color-stone-700] hover:text-[--color-forest-700] transition-colors font-semibold",children:"About"})]}),i.jsx("div",{className:"flex items-center gap-4 flex-shrink-0",children:i.jsx(vt,{variant:"primary",size:"medium",onClick:e,children:i.jsx("span",{className:"whitespace-nowrap text-sm md:text-base",children:"Book a Consult"})})})]})})}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Hm=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),Gc=e=>{const t=Hm(e);return t.charAt(0).toUpperCase()+t.slice(1)},Dh=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:a,...c},l)=>E.createElement("svg",{ref:l,...Vm,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Dh("lucide",s),...c},[...a.map(([u,h])=>E.createElement(u,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=(e,t)=>{const r=E.forwardRef(({className:n,...s},o)=>E.createElement(qm,{ref:o,iconNode:t,className:Dh(`lucide-${Fm(Gc(e))}`,`lucide-${e}`,n),...s}));return r.displayName=Gc(e),r};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Km=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_a=I("arrow-left",Km);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gm=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Jm=I("arrow-right",Gm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qm=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ym=I("award",Qm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Zm=I("bold",Xm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e0=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],zh=I("calendar",e0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],r0=I("chart-column",t0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Gs=I("check",n0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s0=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],o0=I("chevron-down",s0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],a0=I("chevron-left",i0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Mh=I("chevron-right",l0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],fr=I("circle-check",c0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Tl=I("circle-x",u0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],h0=I("clock",d0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Uh=I("copy",f0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],m0=I("external-link",p0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Bh=I("eye-off",g0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ol=I("eye",v0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],x0=I("file-text",y0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],b0=I("folder-open",w0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],wo=I("globe",_0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],k0=I("hammer",j0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N0=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],S0=I("heading-1",N0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],C0=I("heading-2",E0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],O0=I("heading-3",T0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],R0=I("image",P0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],I0=I("instagram",A0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],L0=I("italic",$0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],z0=I("lightbulb",D0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],U0=I("link",M0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],W0=I("linkedin",B0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],H0=I("list-ordered",F0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],q0=I("list",V0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kn=I("loader-circle",K0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],J0=I("lock",G0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Y0=I("log-out",Q0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],ja=I("mail",X0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],eg=I("message-square",Z0);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pl=I("pen",tg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rg=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],ng=I("phone",rg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sg=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],rn=I("plus",sg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Wh=I("refresh-cw",og);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ig=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],ag=I("rocket",ig);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lg=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Rl=I("save",lg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ug=I("settings",cg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hg=I("shield",dg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fg=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Fh=I("star",fg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pg=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],nn=I("trash-2",pg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mg=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hh=I("triangle-alert",mg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gg=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],vg=I("twitter",gg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],xg=I("type",yg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wg=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],bg=I("underline",wg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _g=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Vh=I("upload",_g);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jg=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],qh=I("users",jg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kg=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Ng=I("video",kg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sg=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Eg=I("wifi-off",Sg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cg=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Jc=I("wifi",Cg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tg=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sn=I("x",Tg);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Og=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Pg=I("zap",Og),Rg="/assets/Logo_wh-CUk2J0yk.svg";function on(){return i.jsx("footer",{className:"bg-[#1B4D2E] text-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 mb-12",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center gap-2 mb-4",children:i.jsx("a",{href:"/",className:"hover:opacity-80 transition-opacity",children:i.jsx("img",{src:Rg,alt:"DoneWell",className:"h-8 w-auto opacity-90",loading:"lazy",width:120,height:32})})}),i.jsx("p",{className:"!text-white text-base",children:"Professional websites designed, built, and launched with care."})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"mb-4 text-sm uppercase tracking-wider !text-white pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Navigation"}),i.jsxs("nav",{className:"flex flex-col gap-3",children:[i.jsx("a",{href:"/",className:"!text-white hover:!text-white transition-colors",children:"Home"}),i.jsx("a",{href:"/work",className:"!text-white hover:!text-white transition-colors",children:"Work"}),i.jsx("a",{href:"/about",className:"!text-white hover:!text-white transition-colors",children:"About"})]})]}),i.jsxs("div",{children:[i.jsx("h5",{className:"mb-[16px] text-sm uppercase tracking-wider !text-white mt-[0px] mr-[0px] ml-[0px]",children:"Connect"}),i.jsxs("div",{className:"flex gap-4 mt-[16px] mr-[0px] mb-[0px] ml-[0px]",children:[i.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors !text-white","aria-label":"LinkedIn",children:i.jsx(W0,{size:20})}),i.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors !text-white","aria-label":"Twitter",children:i.jsx(vg,{size:20})}),i.jsx("a",{href:"#",className:"w-10 h-10 rounded-full bg-white/10 hover:bg-white/20 flex items-center justify-center transition-colors !text-white","aria-label":"Instagram",children:i.jsx(I0,{size:20})})]})]})]}),i.jsx("div",{className:"pt-8 border-t border-white/10 text-center !text-white text-sm",children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsxs("p",{className:"!text-white",children:[" ",new Date().getFullYear()," DoneWell. All rights reserved."]}),i.jsx("a",{href:"/admin",className:"inline-flex items-center justify-center transition-colors !text-white opacity-30 hover:opacity-50","aria-label":"Admin",title:"Admin",children:i.jsx(ug,{size:16})})]})})]})})}function Os({number:e,title:t,description:r,icon:n}){return i.jsx("div",{className:"bg-white rounded-[var(--radius-lg)] p-8 shadow-[var(--shadow-md)] hover:shadow-[var(--shadow-lg)] transition-shadow duration-300 flex flex-col items-start border border-[--color-stone-200] rounded-[8px]",children:i.jsxs("div",{className:"flex items-start gap-4 mb-4 w-full",children:[i.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-[var(--radius-md)] bg-gradient-to-br from-[--color-sage-100] to-[--color-forest-100] flex items-center justify-center text-[--color-forest-700]",children:n}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"text-sm tracking-wider text-[--color-forest-700] mb-2",children:["STEP ",e]}),i.jsx("h4",{className:"mb-3",children:t}),i.jsx("p",{className:"text-[--color-stone-700]",children:r})]})]})})}const Ag="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function Kh(e){const[t,r]=E.useState(!1),n=()=>{r(!0)},{src:s,alt:o,style:a,className:c,...l}=e,u=e.loading??"lazy";return t?i.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${c??""}`,style:a,children:i.jsx("div",{className:"flex items-center justify-center w-full h-full",children:i.jsx("img",{src:Ag,alt:"Error loading image",loading:u,...l,"data-original-url":s})})}):i.jsx("img",{src:s,alt:o,className:c,style:a,loading:u,...l,onError:n})}function Ig({image:e,title:t,description:r,slug:n}){return i.jsxs("a",{href:`/projects/${n}`,className:"block bg-white rounded-[var(--radius-xl)] overflow-hidden shadow-[var(--shadow-md)] hover:shadow-[var(--shadow-xl)] transition-all duration-300 hover:-translate-y-1 border border-[--color-stone-200]",children:[i.jsx("div",{className:"aspect-video w-full overflow-hidden bg-[--color-sand-100]",children:i.jsx(Kh,{src:e,alt:t,className:"w-full h-full object-cover hover:scale-105 transition-transform duration-500 rounded-t-[8px]"})}),i.jsxs("div",{className:"p-6",children:[i.jsx("h4",{className:"mb-2 pt-[0px] pr-[0px] pb-[8px] pl-[0px]",children:t}),i.jsx("p",{className:"text-[--color-stone-700] mb-5 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:r}),i.jsx(vt,{variant:"secondary",size:"medium",children:"View Project"})]})]})}function $g({quote:e,author:t,role:r,company:n,image:s}){return i.jsxs("div",{className:"bg-white p-8 rounded-[var(--radius-xl)] shadow-[var(--shadow-lg)] border border-[--color-stone-200] h-full flex flex-col rounded-[8px]",children:[i.jsx("div",{className:"flex gap-1 mb-4",children:[...Array(5)].map((o,a)=>i.jsx(Fh,{size:18,fill:"currentColor",className:"text-[--color-amber-400]"},a))}),i.jsxs("p",{className:"text-[--color-stone-800] mb-6 leading-relaxed flex-grow",children:['"',e,'"']}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("img",{src:s,alt:t,className:"w-12 h-12 rounded-full object-cover",loading:"lazy",width:48,height:48}),i.jsxs("div",{children:[i.jsx("div",{className:"text-[--color-stone-900]",children:t}),i.jsxs("div",{className:"text-sm text-[--color-stone-600]",children:[r,", ",n]})]})]})]})}function Qc({icon:e,text:t}){return i.jsxs("div",{className:"flex items-center gap-3 bg-white/80 backdrop-blur-sm px-5 py-3 rounded-full shadow-[var(--shadow-md)] border border-[--color-sage-200]",children:[i.jsx("div",{className:"text-[--color-forest-600]",children:e}),i.jsx("span",{className:"text-sm text-[--color-stone-800]",children:t})]})}function Lg({isOpen:e,onClose:t,children:r,size:n="default"}){if(!e)return null;const s=n==="large"?"max-w-4xl":"max-w-2xl";return i.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[i.jsx("div",{className:"absolute inset-0 bg-black/70",onClick:t}),i.jsxs("div",{className:`relative bg-white rounded-[var(--radius-xl)] ${s} w-full max-h-[90vh] overflow-y-auto shadow-2xl`,children:[i.jsx("button",{onClick:t,className:"absolute top-6 right-6 p-2 hover:bg-[--color-stone-100] rounded-full transition-colors","aria-label":"Close modal",children:i.jsx(sn,{size:24,className:"text-[--color-stone-600]"})}),r]})]})}function Uo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}function Dg(e,t,r,n){function s(o){return o instanceof r?o:new r(function(a){a(o)})}return new(r||(r=Promise))(function(o,a){function c(h){try{u(n.next(h))}catch(d){a(d)}}function l(h){try{u(n.throw(h))}catch(d){a(d)}}function u(h){h.done?o(h.value):s(h.value).then(c,l)}u((n=n.apply(e,t||[])).next())})}const zg=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Al extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Mg extends Al{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Yc extends Al{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Xc extends Al{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ka;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ka||(ka={}));class Ug{constructor(t,{headers:r={},customFetch:n,region:s=ka.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=zg(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Dg(this,arguments,void 0,function*(r,n={}){var s;let o,a;try{const{headers:c,method:l,body:u,signal:h,timeout:d}=n;let f={},{region:x}=n;x||(x=this.region);const v=new URL(`${this.url}/${r}`);x&&x!=="any"&&(f["x-region"]=x,v.searchParams.set("forceFunctionRegion",x));let y;u&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(f["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(f["Content-Type"]="application/json",y=JSON.stringify(u)):y=u;let w=h;d&&(a=new AbortController,o=setTimeout(()=>a.abort(),d),h?(w=a.signal,h.addEventListener("abort",()=>a.abort())):w=a.signal);const p=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),c),body:y,signal:w}).catch(j=>{throw new Mg(j)}),m=p.headers.get("x-relay-error");if(m&&m==="true")throw new Yc(p);if(!p.ok)throw new Xc(p);let g=((s=p.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield p.json():g==="application/octet-stream"||g==="application/pdf"?_=yield p.blob():g==="text/event-stream"?_=p:g==="multipart/form-data"?_=yield p.formData():_=yield p.text(),{data:_,error:null,response:p}}catch(c){return{data:null,error:c,response:c instanceof Xc||c instanceof Yc?c.context:void 0}}finally{o&&clearTimeout(o)}})}}var Bg=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},Wg=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,c=null,l=null,u=o.status,h=o.statusText;if(o.ok){var d,f;if(r.method!=="HEAD"){var x;const p=await o.text();p===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((x=r.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?c=p:c=JSON.parse(p))}const y=(d=r.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),w=(f=o.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");y&&w&&w.length>1&&(l=parseInt(w[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(a={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,l=null,u=406,h="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var v;const y=await o.text();try{a=JSON.parse(y),Array.isArray(a)&&o.status===404&&(c=[],a=null,u=200,h="OK")}catch{o.status===404&&y===""?(u=204,h="No Content"):a={message:y}}if(a&&r.isMaybeSingle&&(!(a==null||(v=a.details)===null||v===void 0)&&v.includes("0 rows"))&&(a=null,u=200,h="OK"),a&&r.shouldThrowOnError)throw new Bg(a)}return{error:a,data:c,count:l,status:u,statusText:h}});return this.shouldThrowOnError||(s=s.catch(o=>{var a;let c="";const l=o==null?void 0:o.cause;if(l){var u,h,d,f;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(h=l==null?void 0:l.code)!==null&&h!==void 0?h:"";c=`${(d=o==null?void 0:o.name)!==null&&d!==void 0?d:"FetchError"}: ${o==null?void 0:o.message}`,c+=`

Caused by: ${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"Error"}: ${v}`,y&&(c+=` (${y})`),l!=null&&l.stack&&(c+=`
${l.stack}`)}else{var x;c=(x=o==null?void 0:o.stack)!==null&&x!==void 0?x:""}return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},Fg=class extends Wg{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){const o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:o="text"}={}){var a;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Zc=new RegExp("[,()]");var Nr=class extends Fg{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Zc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&Zc.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},Hg=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},s=r?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",a),n&&this.headers.append("Prefer",`count=${n}`),new Nr({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const s="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,c)=>a.concat(Object.keys(c)),[]);if(o.length>0){const a=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",a.join(","))}}return new Nr({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(c.length>0){const l=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new Nr({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new Nr({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Nr({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},Vg=class Gh{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Hg(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Gh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:o}={}){var a;let c;const l=new URL(`${this.url}/rpc/${t}`);let u;n||s?(c=n?"HEAD":"GET",Object.entries(r).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{l.searchParams.append(d,f)})):(c="POST",u=r);const h=new Headers(this.headers);return o&&h.set("Prefer",`count=${o}`),new Nr({method:c,url:l,headers:h,schema:this.schemaName,body:u,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class qg{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const Kg="2.88.0",Gg=`realtime-js/${Kg}`,Jh="1.0.0",Jg="2.0.0",eu=Jh,Na=1e4,Qg=1e3,Yg=100;var Tt;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Tt||(Tt={}));var ce;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ce||(ce={}));var tt;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(tt||(tt={}));var Sa;(function(e){e.websocket="websocket"})(Sa||(Sa={}));var Zt;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Zt||(Zt={}));class Xg{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var r,n;const s=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,r,n){var s,o;const a=t.topic,c=(s=t.ref)!==null&&s!==void 0?s:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,h=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},d=Object.keys(h).length===0?"":JSON.stringify(h);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`metadata length ${d.length} exceeds maximum of 255`);const f=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+c.length+a.length+u.length+d.length,x=new ArrayBuffer(this.HEADER_LENGTH+f);let v=new DataView(x),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,c.length),v.setUint8(y++,a.length),v.setUint8(y++,u.length),v.setUint8(y++,d.length),v.setUint8(y++,r),Array.from(l,p=>v.setUint8(y++,p.charCodeAt(0))),Array.from(c,p=>v.setUint8(y++,p.charCodeAt(0))),Array.from(a,p=>v.setUint8(y++,p.charCodeAt(0))),Array.from(u,p=>v.setUint8(y++,p.charCodeAt(0))),Array.from(d,p=>v.setUint8(y++,p.charCodeAt(0)));var w=new Uint8Array(x.byteLength+n.byteLength);return w.set(new Uint8Array(x),0),w.set(new Uint8Array(n),x.byteLength),w.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[s,o,a,c,l]=n;return r({join_ref:s,ref:o,topic:a,event:c,payload:l})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,s)}}_decodeUserBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2),a=r.getUint8(3),c=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(t.slice(l,l+s));l=l+s;const h=n.decode(t.slice(l,l+o));l=l+o;const d=n.decode(t.slice(l,l+a));l=l+a;const f=t.slice(l,t.byteLength),x=c===this.JSON_ENCODING?JSON.parse(n.decode(f)):f,v={type:this.BROADCAST_EVENT,event:h,payload:x};return a>0&&(v.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Qh{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var q;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(q||(q={}));const tu=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=Zg(a,e,t,s),o),{}):{}},Zg=(e,t,r,n)=>{const s=t.find(c=>c.name===e),o=s==null?void 0:s.type,a=r[e];return o&&!n.includes(o)?Yh(o,a):Ea(a)},Yh=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return nv(t,r)}switch(e){case q.bool:return ev(t);case q.float4:case q.float8:case q.int2:case q.int4:case q.int8:case q.numeric:case q.oid:return tv(t);case q.json:case q.jsonb:return rv(t);case q.timestamp:return sv(t);case q.abstime:case q.date:case q.daterange:case q.int4range:case q.int8range:case q.money:case q.reltime:case q.text:case q.time:case q.timestamptz:case q.timetz:case q.tsrange:case q.tstzrange:return Ea(t);default:return Ea(t)}},Ea=e=>e,ev=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tv=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},rv=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},nv=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const a=e.slice(1,r);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(c=>Yh(t,c))}return e},sv=e=>typeof e=="string"?e.replace(" ","T"):e,Xh=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class gi{constructor(t,r,n={},s=Na){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var ru;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(ru||(ru={}));class $n{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:a,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$n.syncState(this.state,s,o,a),this.pendingDiffs.forEach(l=>{this.state=$n.syncDiff(this.state,l,o,a)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=$n.syncDiff(this.state,s,o,a),c())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),a=this.transformState(r),c={},l={};return this.map(o,(u,h)=>{a[u]||(l[u]=h)}),this.map(a,(u,h)=>{const d=o[u];if(d){const f=h.map(w=>w.presence_ref),x=d.map(w=>w.presence_ref),v=h.filter(w=>x.indexOf(w.presence_ref)<0),y=d.filter(w=>f.indexOf(w.presence_ref)<0);v.length>0&&(c[u]=v),y.length>0&&(l[u]=y)}else c[u]=h}),this.syncDiff(o,{joins:c,leaves:l},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(c,l)=>{var u;const h=(u=t[c])!==null&&u!==void 0?u:[];if(t[c]=this.cloneDeep(l),h.length>0){const d=t[c].map(x=>x.presence_ref),f=h.filter(x=>d.indexOf(x.presence_ref)<0);t[c].unshift(...f)}n(c,h,l)}),this.map(a,(c,l)=>{let u=t[c];if(!u)return;const h=l.map(d=>d.presence_ref);u=u.filter(d=>h.indexOf(d.presence_ref)<0),t[c]=u,s(c,u,l),u.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var nu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(nu||(nu={}));var Ln;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ln||(Ln={}));var ft;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ft||(ft={}));class Ur{constructor(t,r={config:{}},n){var s,o;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new gi(this,tt.join,this.params,this.timeout),this.rejoinTimer=new Qh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tt.reply,{},(a,c)=>{this._trigger(this._replyEventName(c),a)}),this.presence=new $n(this),this.broadcastEndpointURL=Xh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:a,presence:c,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(x=>x.filter))!==null&&s!==void 0?s:[],h=!!this.bindings[Ln.PRESENCE]&&this.bindings[Ln.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},c),{enabled:h}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(x=>t==null?void 0:t(ft.CHANNEL_ERROR,x)),this._onClose(()=>t==null?void 0:t(ft.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:x})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),x===void 0){t==null||t(ft.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,w=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,p=[];for(let m=0;m<w;m++){const g=y[m],{filter:{event:_,schema:j,table:k,filter:b}}=g,N=x&&x[m];if(N&&N.event===_&&Ur.isFilterValueEqual(N.schema,j)&&Ur.isFilterValueEqual(N.table,k)&&Ur.isFilterValueEqual(N.filter,b))p.push(Object.assign(Object.assign({},g),{id:N.id}));else{this.unsubscribe(),this.state=ce.errored,t==null||t(ft.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=p,t&&t(ft.SUBSCRIBED);return}}).receive("error",x=>{this.state=ce.errored,t==null||t(ft.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ft.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===ce.joined&&t===Ln.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var s;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(c.status===202)return{success:!0};let l=c.statusText;try{const u=await c.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:a}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,c,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(a=this.params)===null||a===void 0?void 0:a.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ce.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tt.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new gi(this,tt.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),a}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new gi(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>Yg){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const a=t.toLocaleLowerCase(),{close:c,error:l,leave:u,join:h}=tt;if(n&&[c,l,u,h].indexOf(a)>=0&&n!==this._joinRef())return;let f=this._onMessage(a,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(x=>{var v,y,w;return((v=x.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(y=x.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(x=>x.callback(f,n)):(o=this.bindings[a])===null||o===void 0||o.filter(x=>{var v,y,w,p,m,g;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in x){const _=x.id,j=(v=x.filter)===null||v===void 0?void 0:v.event;return _&&((y=r.ids)===null||y===void 0?void 0:y.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(m=(p=x==null?void 0:x.filter)===null||p===void 0?void 0:p.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===a}).map(x=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:y,table:w,commit_timestamp:p,type:m,errors:g}=v;f=Object.assign(Object.assign({},{schema:y,table:w,commit_timestamp:p,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(v))}x.callback(f,n)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Ur.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(tt.close,{},t)}_onError(t){this._on(tt.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=tu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=tu(t.columns,t.old_record)),r}}const vi=()=>{},Ps={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ov=[1e3,2e3,5e3,1e4],iv=1e4,av=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lv{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Na,this.transport=null,this.heartbeatIntervalMs=Ps.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=vi,this.ref=0,this.reconnectTimer=null,this.vsn=eu,this.logger=vi,this.conn=null,this.sendBuffer=[],this.serializer=new Xg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Sa.websocket}`,this.httpEndpoint=Xh(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=qg.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Tt.connecting:return Zt.Connecting;case Tt.open:return Zt.Open;case Tt.closing:return Zt.Closing;default:return Zt.Closed}}isConnected(){return this.connectionState()===Zt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Ur(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,a=()=>{this.encode(t,c=>{var l;(l=this.conn)===null||l===void 0||l.send(c)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(Qg,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Ps.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:a}=r,c=a?`(${a})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${s} ${c}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,o,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Tt.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Tt.open||this.conn.readyState===Tt.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(tt.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([av],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(s=>{const o={access_token:r,version:Gg};r&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(tt.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Qh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Ps.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,a,c,l,u,h,d,f,x;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Na,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Ps.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:vi,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:eu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>ov[v-1]||iv,this.vsn){case Jh:this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(v,y)=>y(JSON.stringify(v)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:(v,y)=>y(JSON.parse(v));break;case Jg:this.encode=(f=t==null?void 0:t.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(x=t==null?void 0:t.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var es=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cv(e,t,r){const n=new URL(t,e);if(r)for(const[s,o]of Object.entries(r))o!==void 0&&n.searchParams.set(s,o);return n.toString()}async function uv(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function dv(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:o,headers:a}){const c=cv(e.baseUrl,n,s),l=await uv(e.auth),u=await t(c,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...l,...a},body:o?JSON.stringify(o):void 0}),h=await u.text(),d=(u.headers.get("content-type")||"").includes("application/json"),f=d&&h?JSON.parse(h):h;if(!u.ok){const x=d?f:void 0,v=x==null?void 0:x.error;throw new es((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:x})}return{status:u.status,headers:u.headers,data:f}}}}function Rs(e){return e.join("")}var hv=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Rs(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Rs(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Rs(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Rs(e.namespace)}`}),!0}catch(t){if(t instanceof es&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof es&&r.status===409)return;throw r}}};function xr(e){return e.join("")}var fv=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xr(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xr(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${xr(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${xr(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${xr(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${xr(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof es&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof es&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},pv=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=dv({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new hv(this.client,t),this.tableOps=new fv(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Bo=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Z(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var mv=class extends Bo{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Ca=class extends Bo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Il=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gv=()=>Response,Ta=e=>{if(Array.isArray(e))return e.map(r=>Ta(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Ta(n)}),t},vv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},yv=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function ts(e){"@babel/helpers - typeof";return ts=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ts(e)}function xv(e,t){if(ts(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ts(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wv(e){var t=xv(e,"string");return ts(t)=="symbol"?t:t+""}function bv(e,t,r){return(t=wv(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function su(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?su(Object(r),!0).forEach(function(n){bv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):su(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const yi=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},_v=async(e,t,r)=>{e instanceof await gv()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const s=e.status||500,o=(n==null?void 0:n.statusCode)||s+"";t(new mv(yi(n),s,o))}).catch(n=>{t(new Ca(yi(n),n))}):t(new Ca(yi(e),e))},jv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(vv(n)?(s.headers=L({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),L(L({},s),r))};async function hs(e,t,r,n,s,o){return new Promise((a,c)=>{e(r,jv(t,n,s,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>_v(l,c,n))})}async function rs(e,t,r,n){return hs(e,"GET",t,r,n)}async function Ze(e,t,r,n,s){return hs(e,"POST",t,n,s,r)}async function Oa(e,t,r,n,s){return hs(e,"PUT",t,n,s,r)}async function kv(e,t,r,n){return hs(e,"HEAD",t,L(L({},r),{},{noResolveJson:!0}),n)}async function $l(e,t,r,n,s){return hs(e,"DELETE",t,n,s,r)}var Nv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Z(t))return{data:null,error:t};throw t}}};let Zh;Zh=Symbol.toStringTag;var Sv=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Zh]="BlobDownloadBuilder",this.promise=null}asStream(){return new Nv(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Z(t))return{data:null,error:t};throw t}}};const Ev={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ou={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Cv=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=Il(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var s=this;try{let o;const a=L(L({},ou),n);let c=L(L({},s.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),l&&o.append("metadata",s.encodeMetadata(l)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),l&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(l))):(o=r,c["cache-control"]=`max-age=${a.cacheControl}`,c["content-type"]=a.contentType,l&&(c["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),n!=null&&n.headers&&(c=L(L({},c),n.headers));const u=s._removeEmptyFolders(t),h=s._getFinalPath(u),d=await(e=="PUT"?Oa:Ze)(s.fetch,`${s.url}/object/${h}`,o,L({headers:c},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Z(o))return{data:null,error:o};throw o}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;const o=s._removeEmptyFolders(e),a=s._getFinalPath(o),c=new URL(s.url+`/object/upload/sign/${a}`);c.searchParams.set("token",t);try{let l;const u=L({upsert:ou.upsert},n),h=L(L({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",u.cacheControl)):(l=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType),{data:{path:o,fullPath:(await Oa(s.fetch,c.toString(),l,{headers:h})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Z(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const s=L({},r.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await Ze(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(r.url+o.url),c=a.searchParams.get("token");if(!c)throw new Bo("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:c},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Ze(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async copy(e,t,r){var n=this;try{return{data:{path:(await Ze(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,r){var n=this;try{let s=n._getFinalPath(e),o=await Ze(n.fetch,`${n.url}/object/sign/${s}`,L({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,r){var n=this;try{const s=await Ze(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>L(L({},a),{},{signedUrl:a.signedURL?encodeURI(`${n.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=n?`?${n}`:"",o=this._getFinalPath(e),a=()=>rs(this.fetch,`${this.url}/${r}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new Sv(a,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:Ta(await rs(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await kv(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Z(n)&&n instanceof Ca){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&n.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});a!==""&&n.push(a);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}async remove(e){var t=this;try{return{data:await $l(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const s=L(L(L({},Ev),t),{},{prefix:e||""});return{data:await Ze(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r),error:null}}catch(s){if(n.shouldThrowOnError)throw s;if(Z(s))return{data:null,error:s};throw s}}async listV2(e,t){var r=this;try{const n=L({},e);return{data:await Ze(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const ef="2.88.0",tf={"X-Client-Info":`storage-js/${ef}`};var Tv=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const s=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=L(L({},tf),t),this.fetch=Il(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await rs(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await rs(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Ze(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await Oa(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Z(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Ze(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await $l(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},Ov=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=L(L({},tf),t),this.fetch=Il(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Ze(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await rs(t.fetch,s,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await $l(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Z(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!yv(e))throw new Bo("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new pv({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(s,o){const a=s[o];return typeof a!="function"?a:async(...c)=>{try{return{data:await a.apply(s,c),error:null}}catch(l){if(n)throw l;return{data:null,error:l}}}}})}};const Ll={"X-Client-Info":`storage-js/${ef}`,"Content-Type":"application/json"};var rf=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function De(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var xi=class extends rf{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Pv=class extends rf{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Dl=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Rv=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},iu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Av=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";t(new xi(iu(o),n,a))}).catch(()=>{const o=n+"";t(new xi(s.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";t(new xi(s.statusText||`HTTP ${n} error`,n,o))}}else t(new Pv(iu(e),e))},Iv=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(Rv(n)?(s.headers=L({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,L(L({},s),r)):s};async function $v(e,t,r,n,s,o){return new Promise((a,c)=>{e(r,Iv(t,n,s,o)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>Av(l,c,n))})}async function ze(e,t,r,n,s){return $v(e,"POST",t,n,s,r)}var Lv=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=L(L({},Ll),t),this.fetch=Dl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await ze(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await ze(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(De(n))return{data:null,error:n};throw n}}},Dv=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=L(L({},Ll),t),this.fetch=Dl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await ze(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await ze(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await ze(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}},zv=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=L(L({},Ll),t),this.fetch=Dl(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await ze(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await ze(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}}},Mv=class extends zv{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new Uv(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},Uv=class extends Lv{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new Bv(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},Bv=class extends Dv{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,L(L({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Wv=class extends Tv{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new Cv(this.url,this.headers,e,this.fetch)}get vectors(){return new Mv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Ov(this.url+"/iceberg",this.headers,this.fetch)}};const nf="2.88.0",Sr=30*1e3,Pa=3,wi=Pa*Sr,Fv="http://localhost:9999",Hv="supabase.auth.token",Vv={"X-Client-Info":`gotrue-js/${nf}`},Ra="X-Supabase-Api-Version",sf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},qv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Kv=10*60*1e3;class ns extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function A(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Gv extends ns{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Jv(e){return A(e)&&e.name==="AuthApiError"}class er extends ns{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class kt extends ns{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $e extends kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qv(e){return A(e)&&e.name==="AuthSessionMissingError"}class wr extends kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class As extends kt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Is extends kt{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Yv(e){return A(e)&&e.name==="AuthImplicitGrantRedirectError"}class au extends kt{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Xv extends kt{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Aa extends kt{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function bi(e){return A(e)&&e.name==="AuthRetryableFetchError"}class lu extends kt{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Ia extends kt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const bo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cu=` 	
\r=`.split(""),Zv=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<cu.length;t+=1)e[cu[t].charCodeAt(0)]=-2;for(let t=0;t<bo.length;t+=1)e[bo[t].charCodeAt(0)]=t;return e})();function uu(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bo[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(bo[n]),t.queuedBits-=6}}function of(e,t,r){const n=Zv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function du(e){const t=[],r=a=>{t.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{ry(a,n,r)};for(let a=0;a<e.length;a+=1)of(e.charCodeAt(a),s,o);return t.join("")}function ey(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function ty(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}ey(n,t)}}function ry(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Kr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)of(e.charCodeAt(s),r,n);return new Uint8Array(t)}function ny(e){const t=[];return ty(e,r=>t.push(r)),new Uint8Array(t)}function sr(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>uu(s,r,n)),uu(null,r,n),t.join("")}function sy(e){return Math.round(Date.now()/1e3)+e}function oy(){return Symbol("auth-callback")}const me=()=>typeof window<"u"&&typeof document<"u",Gt={tested:!1,writable:!1},af=()=>{if(!me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gt.tested)return Gt.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Gt.tested=!0,Gt.writable=!0}catch{Gt.tested=!0,Gt.writable=!1}return Gt.writable};function iy(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const lf=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ay=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Er=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Jt=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},pe=async(e,t)=>{await e.removeItem(t)};class Wo{constructor(){this.promise=new Wo.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Wo.promiseConstructor=Promise;function _i(e){const t=e.split(".");if(t.length!==3)throw new Ia("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!qv.test(t[n]))throw new Ia("JWT not in base64url format");return{header:JSON.parse(du(t[0])),payload:JSON.parse(du(t[1])),signature:Kr(t[2]),raw:{header:t[0],payload:t[1]}}}async function ly(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cy(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function uy(e){return("0"+e.toString(16)).substr(-2)}function dy(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,uy).join("")}async function hy(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function fy(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await hy(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function br(e,t,r=!1){const n=dy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Er(e,`${t}-code-verifier`,s);const o=await fy(n);return[o,n===o?"plain":"s256"]}const py=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function my(e){const t=e.headers.get(Ra);if(!t||!t.match(py))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gy(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function vy(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _r(e){if(!yy.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ji(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xy(e,t){return new Proxy(e,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,s)}})}function hu(e){return JSON.parse(JSON.stringify(e))}const Xt=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wy=[502,503,504];async function fu(e){var t;if(!ay(e))throw new Aa(Xt(e),0);if(wy.includes(e.status))throw new Aa(Xt(e),e.status);let r;try{r=await e.json()}catch(o){throw new er(Xt(o),o)}let n;const s=my(e);if(s&&s.getTime()>=sf["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new lu(Xt(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $e}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new lu(Xt(r),e.status,r.weak_password.reasons);throw new Gv(Xt(r),e.status||500,n)}const by=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function $(e,t,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[Ra]||(o[Ra]=sf["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const c=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await _y(e,t,r+c,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function _y(e,t,r,n,s,o){const a=by(t,n,s,o);let c;try{c=await e(r,Object.assign({},a))}catch(l){throw console.error(l),new Aa(Xt(l),0)}if(c.ok||await fu(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(l){await fu(l)}}function Ye(e){var t;let r=null;Ny(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=sy(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function pu(e){const t=Ye(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Rt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function jy(e){return{data:e,error:null}}function ky(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,a=Uo(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},l=Object.assign({},a);return{data:{properties:c,user:l},error:null}}function mu(e){return e}function Ny(e){return e.access_token&&e.refresh_token&&e.expires_in}const ki=["global","local","others"];class Sy{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=lf(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=ki[0]){if(ki.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ki.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(A(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Uo(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:ky,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(A(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,a,c,l;try{const u={nextPage:null,lastPage:0,total:0},h=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:mu});if(h.error)throw h.error;const d=await h.json(),f=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,x=(l=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return x.length>0&&(x.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){_r(t);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rt})}catch(r){if(A(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){_r(t);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Rt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){_r(t);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rt})}catch(n){if(A(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){_r(t.userId);try{const{data:r,error:n}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _deleteFactor(t){_r(t.userId),_r(t.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,s,o,a,c,l;try{const u={nextPage:null,lastPage:0,total:0},h=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:mu});if(h.error)throw h.error;const d=await h.json(),f=(a=h.headers.get("x-total-count"))!==null&&a!==void 0?a:0,x=(l=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&l!==void 0?l:[];return x.length>0&&(x.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=y}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(A(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(A(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(A(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(A(r))return{data:null,error:r};throw r}}}function gu(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const jr={debug:!!(globalThis&&af()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class cf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ey extends cf{}async function Cy(e,t,r){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),jr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw jr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ey(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(jr.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Ty(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function uf(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function Oy(e){return parseInt(e,16)}function Py(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function Ry(e){var t;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:a,notBefore:c,requestId:l,resources:u,scheme:h,uri:d,version:f}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const x=uf(e.address),v=h?`${h}://${n}`:n,y=e.statement?`${e.statement}
`:"",w=`${v} wants you to sign in with your Ethereum account:
${x}

${y}`;let p=`URI: ${d}
Version: ${f}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(s&&(p+=`
Expiration Time: ${s.toISOString()}`),c&&(p+=`
Not Before: ${c.toISOString()}`),l&&(p+=`
Request ID: ${l}`),u){let m=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);m+=`
- ${g}`}p+=m}return`${w}
${p}`}class ae extends Error{constructor({message:t,code:r,cause:n,name:s}){var o;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class _o extends ae{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function Ay({error:e,options:t}){var r,n,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const a=window.location.hostname;if(df(a)){if(o.rp.id!==a)return new ae({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function Iy({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ae({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(df(n)){if(r.rpId!==n)return new ae({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class $y{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Ly=new $y;function Dy(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,s=Uo(e,["challenge","user","excludeCredentials"]),o=Kr(t).buffer,a=Object.assign(Object.assign({},r),{id:Kr(r.id).buffer}),c=Object.assign(Object.assign({},s),{challenge:o,user:a});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];c.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:Kr(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return c}function zy(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Uo(e,["challenge","allowCredentials"]),s=Kr(t).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const c=r[a];o.allowCredentials[a]=Object.assign(Object.assign({},c),{id:Kr(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function My(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:sr(new Uint8Array(e.response.attestationObject)),clientDataJSON:sr(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Uy(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:sr(new Uint8Array(s.authenticatorData)),clientDataJSON:sr(new Uint8Array(s.clientDataJSON)),signature:sr(new Uint8Array(s.signature)),userHandle:s.userHandle?sr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function df(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function vu(){var e,t;return!!(me()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function By(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _o("Browser returned unexpected credential type",t)}:{data:null,error:new _o("Empty credential response",t)}}catch(t){return{data:null,error:Ay({error:t,options:e})}}}async function Wy(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new _o("Browser returned unexpected credential type",t)}:{data:null,error:new _o("Empty credential response",t)}}catch(t){return{data:null,error:Iy({error:t,options:e})}}}const Fy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Hy={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jo(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of e)if(s)for(const o in s){const a=s[o];if(a!==void 0)if(Array.isArray(a))n[o]=a;else if(r(a))n[o]=a;else if(t(a)){const c=n[o];t(c)?n[o]=jo(c,a):n[o]=jo(a)}else n[o]=a}return n}function Vy(e,t){return jo(Fy,e,t||{})}function qy(e,t){return jo(Hy,e,t||{})}class Ky{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:s},o){try{const{data:a,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!a)return{data:null,error:c};const l=s??Ly.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Vy(a.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:h,error:d}=await By({publicKey:u,signal:l});return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}case"request":{const u=qy(a.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:h,error:d}=await Wy(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return h?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:h}},error:null}:{data:null,error:d}}}}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new er("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn authentication")};try{if(!vu())return{data:null,error:new er("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!a)return{data:null,error:c};const{webauthn:l}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new er("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!r)return{data:null,error:new ns("rpId is required for WebAuthn registration")};try{if(!vu())return{data:null,error:new er("Browser does not support WebAuthn",null)};const{data:a,error:c}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(h=>{var d;return(d=h.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===t&&f.status!=="unverified")}).then(h=>h?this.client.mfa.unenroll({factorId:h==null?void 0:h.id}):void 0),{data:null,error:c};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return A(a)?{data:null,error:a}:{data:null,error:new er("Unexpected error in register",a)}}}}Ty();const Gy={url:Fv,storageKey:Hv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function yu(e,t,r){return await r()}const kr={};class ss{get jwks(){var t,r;return(r=(t=kr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=kr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){kr[this.storageKey]=Object.assign(Object.assign({},kr[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},Gy),t);if(this.storageKey=o.storageKey,this.instanceID=(r=ss.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ss.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&me()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Sy({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=lf(o.fetch),this.lock=o.lock||yu,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:this.persistSession&&me()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Cy:this.lock=yu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Ky(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:af()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=gu(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=gu(this.memoryStorage)),me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${nf}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(me()&&(r=iy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),me()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Yv(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:c}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",c),await this._saveSession(a),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return A(r)?this._returnResult({error:r}):this._returnResult({error:new er("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Ye}),{data:a,error:c}=o;if(c||!a)return this._returnResult({data:{user:null,session:null},error:c});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:h,password:d,options:f}=t;let x=null,v=null;this.flowType==="pkce"&&([x,v]=await br(this.storage,this.storageKey)),o=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:h,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:x,code_challenge_method:v},xform:Ye})}else if("phone"in t){const{phone:h,password:d,options:f}=t;o=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Ye})}else throw new As("You must provide either an email or phone number and a password");const{data:a,error:c}=o;if(c||!a)return await pe(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await pe(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:a,options:c}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:pu})}else if("phone"in t){const{phone:o,password:a,options:c}=t;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:pu})}else throw new As("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const o=new wr;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,s,o,a,c,l,u,h,d,f;let x,v;if("message"in t)x=t.message,v=t.signature;else{const{chain:y,wallet:w,statement:p,options:m}=t;let g;if(me())if(typeof w=="object")g=w;else{const S=window;if("ethereum"in S&&typeof S.ethereum=="object"&&"request"in S.ethereum&&typeof S.ethereum.request=="function")g=S.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=w}const _=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href),j=await g.request({method:"eth_requestAccounts"}).then(S=>S).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const k=uf(j[0]);let b=(n=m==null?void 0:m.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!b){const S=await g.request({method:"eth_chainId"});b=Oy(S)}const N={domain:_.host,address:k,statement:p,uri:_.href,version:"1",chainId:b,nonce:(s=m==null?void 0:m.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(a=(o=m==null?void 0:m.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(c=m==null?void 0:m.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=m==null?void 0:m.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=m==null?void 0:m.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(h=m==null?void 0:m.signInWithEthereum)===null||h===void 0?void 0:h.resources};x=Ry(N),v=await g.request({method:"personal_sign",params:[Py(x),k]})}try{const{data:y,error:w}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:v},!((d=t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Ye});if(w)throw w;if(!y||!y.session||!y.user){const p=new wr;return this._returnResult({data:{user:null,session:null},error:p})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:w})}catch(y){if(A(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,s,o,a,c,l,u,h,d,f,x;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:w,wallet:p,statement:m,options:g}=t;let _;if(me())if(typeof p=="object")_=p;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))_=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof p!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=p}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const k=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),m?{statement:m}:null));let b;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")b=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)b=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)v=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),y=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((d=(h=g==null?void 0:g.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||d===void 0)&&d.length?["Resources",...g.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const k=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=k}}try{const{data:w,error:p}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:sr(y)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Ye});if(p)throw p;if(!w||!w.session||!w.user){const m=new wr;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:p})}catch(w){if(A(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(t){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new Xv;const{data:o,error:a}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Ye});if(await pe(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!o||!o.session||!o.user){const c=new wr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(await pe(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:a}=t,c=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ye}),{data:l,error:u}=c;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const h=new wr;return this._returnResult({data:{user:null,session:null},error:h})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,s,o,a;try{if("email"in t){const{email:c,options:l}=t;let u=null,h=null;this.flowType==="pkce"&&([u,h]=await br(this.storage,this.storageKey));const{error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:h},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in t){const{phone:c,options:l}=t,{data:u,error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h})}throw new As("You must provide either an email or phone number.")}catch(c){if(await pe(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:c}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Ye});if(c)throw c;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var r,n,s,o,a;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await br(this.storage,this.storageKey));const u=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:jy});return!((o=u.data)===null||o===void 0)&&o.url&&me()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(c){if(await pe(this.storage,`${this.storageKey}-code-verifier`),A(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $e;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(A(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:a}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:a,error:c}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:c})}throw new As("You must provide either an email or phone number and a type")}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Jt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wi:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const a=await Jt(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=ji()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};t.user=xy(t.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rt}):await this._useSession(async r=>{var n,s,o;const{data:a,error:c}=r;if(c)throw c;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $e}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Rt})})}catch(r){if(A(r))return Qv(r)&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new $e;const a=s.session;let c=null,l=null;this.flowType==="pkce"&&t.email!=null&&([c,l]=await br(this.storage,this.storageKey));const{data:u,error:h}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:l}),jwt:a.access_token,xform:Rt});if(h)throw h;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(await pe(this.storage,`${this.storageKey}-code-verifier`),A(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $e;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:a}=_i(t.access_token);if(a.exp&&(n=a.exp,s=n<=r),s){const{data:c,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};o=c}else{const{data:c,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(A(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:a,error:c}=r;if(c)throw c;t=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $e;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(A(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!me())throw new Is("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Is(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new au("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Is("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new au("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:c,expires_at:l,token_type:u}=t;if(!o||!c||!a||!u)throw new Is("No session defined in URL");const h=Math.round(Date.now()/1e3),d=parseInt(c);let f=h+d;l&&(f=parseInt(l));const x=f-h;x*1e3<=Sr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${d}s`);const v=f-d;h-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,h):h-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,h);const{data:y,error:w}=await this._getUser(o);if(w)throw w;const p={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:d,expires_at:f,refresh_token:a,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:p,redirectType:t.type},error:null})}catch(n){if(A(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Jt(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({error:o});const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:c}=await this.admin.signOut(a,t);if(c&&!(Jv(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await pe(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=oy(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await br(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await pe(this.storage,`${this.storageKey}-code-verifier`),A(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var a,c,l,u,h;const{data:d,error:f}=o;if(f)throw f;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",x,{headers:this.headers,jwt:(h=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&h!==void 0?h:void 0})});if(s)throw s;return me()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(A(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:a,provider:c,token:l,access_token:u,nonce:h}=t,d=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:l,access_token:u,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Ye}),{data:f,error:x}=d;return x?this._returnResult({data:{user:null,session:null},error:x}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new wr}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:x}))}catch(s){if(await pe(this.storage,`${this.storageKey}-code-verifier`),A(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)throw a;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await cy(async s=>(s>0&&await ly(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Ye})),(s,o)=>{const a=200*Math.pow(2,s);return o&&bi(o)&&Date.now()+a-n<Sr})}catch(n){if(this._debug(r,"error",n),A(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),me()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Jt(this.storage,this.storageKey);if(s&&this.userStorage){let a=await Jt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Er(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:ji()}else if(s&&!s.user&&!s.user){const a=await Jt(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await pe(this.storage,this.storageKey+"-user"),await Er(this.storage,this.storageKey,s)):s.user=ji()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<wi;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${wi}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),bi(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:c}=await this._getUser(s.access_token);!c&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $e;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Wo;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new $e;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(s,"error",o),A(o)){const a={data:null,error:o};return bi(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(a),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await pe(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Er(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=hu(s);await Er(this.storage,this.storageKey,o)}else{const s=hu(r);await Er(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await pe(this.storage,this.storageKey),await pe(this.storage,this.storageKey+"-code-verifier"),await pe(this.storage,this.storageKey+"-user"),this.userStorage&&await pe(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&me()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Sr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Sr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Sr}ms, refresh threshold is ${Pa} ticks`),s<=Pa&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof cf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!me()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,a]=await br(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(c.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?this._returnResult({data:null,error:o}):await $(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await $(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?My(t.webauthn.credential_response):Uy(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=await $(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:c}=a;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Dy(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:zy(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_i(n.access_token);let a=null;o.aal&&(a=o.aal);let c=a;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:c,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new $e})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new $e});const a=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new $e});const a=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return a.data&&a.data.redirect_url&&me()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new $e})})}catch(t){if(A(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?(await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new $e})})}catch(r){if(A(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+Kv>s)return n;const{data:o,error:a}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:x,error:v}=await this.getSession();if(v||!x.session)return this._returnResult({data:null,error:v});n=x.session.access_token}const{header:s,payload:o,signature:a,raw:{header:c,payload:l}}=_i(n);r!=null&&r.allowExpired||gy(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:x}=await this.getUser(n);if(x)throw x;return{data:{claims:o,header:s,signature:a},error:null}}const h=vy(s.alg),d=await crypto.subtle.importKey("jwk",u,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,a,ny(`${c}.${l}`)))throw new Ia("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(n){if(A(n))return this._returnResult({data:null,error:n});throw n}}}ss.nextInstanceID={};const Jy=ss,Qy="2.88.0";let Nn="";typeof Deno<"u"?Nn="deno":typeof document<"u"?Nn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Nn="react-native":Nn="node";const Yy={"X-Client-Info":`supabase-js-${Nn}/${Qy}`},Xy={headers:Yy},Zy={schema:"public"},ex={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tx={};function os(e){"@babel/helpers - typeof";return os=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},os(e)}function rx(e,t){if(os(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(os(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nx(e){var t=rx(e,"string");return os(t)=="symbol"?t:t+""}function sx(e,t,r){return(t=nx(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xu(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xu(Object(r),!0).forEach(function(n){sx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xu(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const ox=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),ix=()=>Headers,ax=(e,t,r)=>{const n=ox(r),s=ix();return async(o,a)=>{var c;const l=(c=await t())!==null&&c!==void 0?c:e;let u=new s(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(o,ne(ne({},a),{},{headers:u}))}};function lx(e){return e.endsWith("/")?e:e+"/"}function cx(e,t){var r,n;const{db:s,auth:o,realtime:a,global:c}=e,{db:l,auth:u,realtime:h,global:d}=t,f={db:ne(ne({},l),s),auth:ne(ne({},u),o),realtime:ne(ne({},h),a),storage:{},global:ne(ne(ne({},d),c),{},{headers:ne(ne({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}function ux(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lx(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var dx=class extends Jy{constructor(e){super(e)}},hx=class{constructor(e,t,r){var n,s;this.supabaseUrl=e,this.supabaseKey=t;const o=ux(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:Zy,realtime:tx,auth:ne(ne({},ex),{},{storageKey:a}),global:Xy},l=cx(r??{},c);if(this.storageKey=(n=l.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=ax(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(ne({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Vg(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Wv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new Ug(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:o,flowType:a,lock:c,debug:l,throwOnError:u},h,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new dx({url:this.authUrl.href,headers:ne(ne({},f),h),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:a,lock:c,debug:l,throwOnError:u,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lv(this.realtimeUrl.href,ne(ne({},e),{},{params:ne(ne({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const fx=(e,t,r)=>new hx(e,t,r);function px(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}px()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const mx="https://udiskjjuszutgpvkogzw.supabase.co",gx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVkaXNramp1c3p1dGdwdmtvZ3p3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5OTQ3NTQsImV4cCI6MjA4MTU3MDc1NH0.StYBeyYIVUqiknAnl-bRY7hICoOYH5B2sRau7ginbKg",F=fx(mx,gx);function Ni(e){return{id:e.id,title:e.title,slug:e.slug,keyframeImage:e.keyframe_image,shortDescription:e.short_description,badge:e.badge,metricValue:e.metric_value,metricLabel:e.metric_label,showOnWorkPage:e.show_on_work_page,showOnHomepage:e.show_on_homepage,order:e.order,summary:e.summary??"",problem:e.problem??"",objective:e.objective??"",ourActions:e.our_actions??"",results:e.results??"",resultMetrics:e.result_metrics??void 0,liveWebsiteUrl:e.live_website_url??void 0}}function Si(e){return{id:e.id,name:e.name,role:e.role,company:e.company,quote:e.quote,image:e.image??void 0,order:e.order,showOnHomepage:e.show_on_homepage}}function Ei(e){return{id:e.id,value:e.value,label:e.label,order:e.order}}function Ci(e){return{id:e.id,firstName:e.first_name,lastName:e.last_name,businessName:e.business_name??void 0,email:e.email,phone:e.phone??void 0,message:e.message,bookedConsult:e.booked_consult,calendlyEventUri:e.calendly_event_uri??void 0,createdAt:e.created_at}}function vx(e){return{title:e.title,slug:e.slug,keyframe_image:e.keyframeImage,short_description:e.shortDescription,badge:e.badge,metric_value:e.metricValue,metric_label:e.metricLabel,show_on_work_page:e.showOnWorkPage,show_on_homepage:e.showOnHomepage,order:e.order,summary:e.summary??null,problem:e.problem??null,objective:e.objective??null,our_actions:e.ourActions??null,results:e.results??null,result_metrics:e.resultMetrics??null,live_website_url:e.liveWebsiteUrl??null}}function yx(e){return{name:e.name,role:e.role,company:e.company,quote:e.quote,image:e.image??null,order:e.order,show_on_homepage:e.showOnHomepage}}function xx(e){return{value:e.value,label:e.label,order:e.order}}function wx(e){return{first_name:e.firstName,last_name:e.lastName,business_name:e.businessName??null,email:e.email,phone:e.phone??null,website:e.website??null,message:e.message,booked_consult:e.bookedConsult,calendly_event_uri:e.calendlyEventUri??null}}function Ti(e){return{id:e.id,siteId:e.site_id,siteName:e.site_name,primaryDomain:e.primary_domain,environment:e.environment,clientId:e.client_id??void 0,subscriptionTier:e.subscription_tier,status:e.status,siteSecret:e.site_secret??void 0,clientEmail:e.client_email??void 0,internalEmail:e.internal_email,lastDeployAt:e.last_deploy_at??void 0,deploySuppressionMinutes:e.deploy_suppression_minutes,trialStartDate:e.trial_start_date??void 0,trialEndDate:e.trial_end_date??void 0,cmsTable:e.cms_table??void 0,formsTable:e.forms_table??void 0,createdAt:e.created_at,updatedAt:e.updated_at}}function hf(e){return{id:e.id,siteId:e.site_id,checkType:e.check_type,target:e.target,enabled:e.enabled,intervalMinutes:e.interval_minutes,createdAt:e.created_at}}function bx(e){return{id:e.id,checkId:e.check_id,result:e.result,httpStatus:e.http_status??void 0,latencyMs:e.latency_ms??void 0,errorMessage:e.error_message??void 0,rawPayload:e.raw_payload??void 0,checkedAt:e.checked_at,checkType:e.check_type,target:e.target}}function _x(e){return{id:e.id,siteId:e.site_id,severity:e.severity,status:e.status,title:e.title,description:e.description??void 0,triggeredByCheckId:e.triggered_by_check_id??void 0,triggeredByEventId:e.triggered_by_event_id??void 0,createdAt:e.created_at,resolvedAt:e.resolved_at??void 0,autoResolved:e.auto_resolved}}function jx(e){return{id:e.id,siteId:e.site_id,errorType:e.error_type,message:e.message,stack:e.stack??void 0,url:e.url??void 0,userAgent:e.user_agent??void 0,additionalContext:e.additional_context??void 0,receivedAt:e.received_at}}function kx(e){return{site_id:e.siteId,site_name:e.siteName,primary_domain:e.primaryDomain,environment:e.environment,client_id:e.clientId??null,subscription_tier:e.subscriptionTier,status:e.status,site_secret:e.siteSecret??null,client_email:e.clientEmail??null,internal_email:e.internalEmail,last_deploy_at:e.lastDeployAt??null,deploy_suppression_minutes:e.deploySuppressionMinutes,trial_start_date:e.trialStartDate??null,trial_end_date:e.trialEndDate??null,cms_table:e.cmsTable??null,forms_table:e.formsTable??null}}async function wu(e){try{const{data:t,error:r}=await F.functions.invoke("send-lead-email",{body:e});if(r){console.warn("Email sending failed (non-critical):",r);return}t&&console.log("Email sent successfully:",t)}catch(t){console.warn("Email sending failed (non-critical):",t)}}const $s=new Map;function ff(){const[e,t]=E.useState([]),[r,n]=E.useState(!0),[s,o]=E.useState(null),a=async()=>{try{n(!0),o(null);const{data:h,error:d}=await F.from("leads").select("*").order("created_at",{ascending:!1});if(d)throw d;const f=h.map(Ci);t(f)}catch(h){o(h instanceof Error?h:new Error("Failed to fetch leads")),console.error("Error fetching leads:",h)}finally{n(!1)}};return E.useEffect(()=>{a()},[]),{leads:e,loading:r,error:s,refetch:a,addLead:async h=>{try{const d=wx(h),{data:f,error:x}=await F.from("leads").insert([d]).select().single();if(x)throw console.error("Database error adding lead:",x),x;const v=Ci(f);if(t(y=>[v,...y]),!v.bookedConsult){const y=setTimeout(()=>{wu({to:v.email,firstName:v.firstName,lastName:v.lastName,businessName:v.businessName||void 0,website:v.website||void 0,message:v.message||void 0,bookedConsult:!1}).catch(w=>{console.warn("Failed to send email after lead creation (non-critical):",w)}),$s.delete(v.id)},18e5);$s.set(v.id,y)}return v}catch(d){throw console.error("Error adding lead:",d),d}},updateLead:async(h,d)=>{try{const f=e.find(m=>m.id===h),x=f&&!f.bookedConsult&&d.bookedConsult===!0,v={};d.firstName!==void 0&&(v.first_name=d.firstName),d.lastName!==void 0&&(v.last_name=d.lastName),d.businessName!==void 0&&(v.business_name=d.businessName??null),d.email!==void 0&&(v.email=d.email),d.phone!==void 0&&(v.phone=d.phone??null),d.website!==void 0&&(v.website=d.website??null),d.message!==void 0&&(v.message=d.message),d.bookedConsult!==void 0&&(v.booked_consult=d.bookedConsult),d.calendlyEventUri!==void 0&&(v.calendly_event_uri=d.calendlyEventUri??null);const{data:y,error:w}=await F.from("leads").update(v).eq("id",h).select().single();if(w)throw w;const p=Ci(y);if(t(m=>m.map(g=>g.id===h?p:g)),x){const m=$s.get(h);m&&(clearTimeout(m),$s.delete(h)),setTimeout(()=>{wu({to:p.email,firstName:p.firstName,lastName:p.lastName,businessName:p.businessName||void 0,website:p.website||void 0,message:p.message||void 0,bookedConsult:!0}).catch(g=>{console.warn("Failed to send email after booking confirmation (non-critical):",g)})},0)}return p}catch(f){throw console.error("Error updating lead:",f),f}},deleteLead:async h=>{try{const{error:d}=await F.from("leads").delete().eq("id",h);if(d)throw d;t(f=>f.filter(x=>x.id!==h))}catch(d){throw console.error("Error deleting lead:",d),d}}}}function Fo({isOpen:e,onClose:t}){const[r,n]=E.useState(1),[s,o]=E.useState(null),[a,c]=E.useState(!1),[l,u]=E.useState(!1),h=E.useRef(null),{addLead:d,updateLead:f}=ff(),[x,v]=E.useState({firstName:"",lastName:"",businessName:"",website:"",email:"",phone:"",message:""}),y=j=>{v({...x,[j.target.name]:j.target.value})},w=async j=>{j.preventDefault();try{c(!0);const k=await d({firstName:x.firstName,lastName:x.lastName,businessName:x.businessName||void 0,website:x.website||void 0,email:x.email,phone:x.phone||void 0,message:x.message,bookedConsult:!1});o(k.id),n(r+1)}catch(k){console.error("Error saving lead:",k);const b=k instanceof Error?k.message:typeof k=="object"&&k!==null&&"message"in k?String(k.message):"Unknown error";alert(`There was an error saving your information: ${b}. Please try again or contact support.`)}finally{c(!1)}},p=()=>{n(1),o(null),u(!1),v({firstName:"",lastName:"",businessName:"",website:"",email:"",phone:"",message:""}),t()},m=async j=>{var k;if(s)try{await f(s,{bookedConsult:!0,calendlyEventUri:((k=j.event)==null?void 0:k.uri)||void 0}),u(!0)}catch(b){console.error("Error updating lead with booking:",b)}};E.useEffect(()=>{const j=k=>{k.data.event&&k.data.event.indexOf("calendly")===0&&k.data.event==="calendly.event_scheduled"&&m(k.data.payload)};return window.addEventListener("message",j),()=>{window.removeEventListener("message",j)}},[s]),E.useEffect(()=>{if(r===2&&!document.querySelector('script[src*="calendly.com"]')){const j=document.createElement("script");j.src="https://assets.calendly.com/assets/external/widget.js",j.async=!0,j.onerror=()=>{console.error("Failed to load Calendly script")},document.body.appendChild(j)}},[r]);const g=()=>{n(3)},_=()=>{n(3)};return i.jsx(Lg,{isOpen:e,onClose:p,size:r===2?"large":"default",children:i.jsxs("div",{className:"p-12 rounded-[16px]",children:[i.jsx("div",{className:"text-left mb-8",children:i.jsx("div",{className:"inline-flex items-center gap-3 mb-2",children:i.jsx("img",{src:Lh,alt:"DoneWell",className:"h-8 w-auto"})})}),r===1&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-left mb-2 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Let's Get Started"}),i.jsx("p",{className:"text-left text-[--color-stone-600] mb-[24px] mt-[0px] mr-[0px] ml-[0px] pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"Tell us about your project and we'll be in touch within 24 hours."}),i.jsxs("form",{onSubmit:w,className:"space-y-5",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"First Name *"}),i.jsx("input",{type:"text",name:"firstName",value:x.firstName,onChange:y,required:!0,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Last Name *"}),i.jsx("input",{type:"text",name:"lastName",value:x.lastName,onChange:y,required:!0,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Business Name"}),i.jsx("input",{type:"text",name:"businessName",value:x.businessName,onChange:y,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Website"}),i.jsx("input",{type:"url",name:"website",value:x.website,onChange:y,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]",placeholder:"https://example.com"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Email Address *"}),i.jsx("input",{type:"email",name:"email",value:x.email,onChange:y,required:!0,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Phone Number"}),i.jsx("input",{type:"tel",name:"phone",value:x.phone,onChange:y,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"How can we help? *"}),i.jsx("textarea",{name:"message",value:x.message,onChange:y,required:!0,rows:5,className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[#1B4D2E] focus:border-[#1B4D2E] resize-none",placeholder:"Tell us about your project, timeline, and goals..."})]}),i.jsx(vt,{type:"submit",variant:"primary",size:"large",className:"w-full",disabled:a,children:a?"Saving...":"Continue "})]})]}),r===2&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-center mb-2",children:"Book Your Free Consultation"}),i.jsx("p",{className:"text-center text-[--color-stone-600] mb-8",children:"Choose a time that works best for you."}),i.jsx("div",{ref:h,className:"calendly-inline-widget mb-8 overflow-hidden","data-url":"https://calendly.com/contact-donewellco/30min?primary_color=1e5743",style:{minWidth:"100%",minHeight:"500px",width:"100%",height:"500px"}}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx(vt,{variant:"secondary",size:"large",className:"flex-1",onClick:g,children:"Skip for Now"}),l&&i.jsx(vt,{variant:"primary",size:"large",className:"flex-1",onClick:_,children:"Continue"})]})]}),r===3&&i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-[--color-forest-100] to-[--color-sage-100] flex items-center justify-center mx-auto mb-6",children:i.jsx(fr,{size:40,className:"text-[--color-forest-600]"})}),i.jsx("h3",{className:"mb-4",children:"Thanks  We'll Reach Out Shortly!"}),l?i.jsx("p",{className:"text-xl text-[--color-stone-600] mb-8 max-w-md mx-auto",children:"We've received your information and we'll see you at your scheduled time!"}):i.jsx("p",{className:"text-xl text-[--color-stone-600] mb-8 max-w-md mx-auto",children:"We've received your information and will get back to you within 24 hours with next steps."}),i.jsx(vt,{variant:"primary",size:"large",onClick:p,children:"Back to Site"}),i.jsx("p",{className:"text-sm text-[--color-stone-500] mt-6",children:l?"Check your email for calendar confirmation and meeting details.":"Check your email for a confirmation message."})]})]})})}function is({title:e="DoneWell  Web and App Builds, DoneWell",description:t="We turn your vision into professional websites and apps that your customers will love  without the tech headaches. Average 14-day delivery.",image:r="https://udiskjjuszutgpvkogzw.supabase.co/storage/v1/object/public/site-assets/Homepage/OG.png",url:n="https://donewellco.com",type:s="website",keywords:o="website design, web development, custom websites, business websites, donewell, web design agency",noindex:a=!1}){return E.useEffect(()=>{const c=window.location.pathname,l=`${n}${c==="/"?"":c}`,u=e.includes("DoneWell")?e:`${e} | DoneWell`,h=e==="DoneWell  Web and App Builds, DoneWell"?"Your idea. Built right. Delivered fast.":e;document.title=u;const d=(x,v,y=!1)=>{const w=y?"property":"name";let p=document.querySelector(`meta[${w}="${x}"]`);p||(p=document.createElement("meta"),p.setAttribute(w,x),document.head.appendChild(p)),p.setAttribute("content",v)};d("description",t),d("keywords",o),d("title",u),d("robots",a?"noindex, nofollow":"index, follow"),d("og:type",s,!0),d("og:title",h,!0),d("og:description",t,!0),d("og:image",r,!0),d("og:url",l,!0),d("og:site_name","DoneWell",!0),d("twitter:card","summary_large_image"),d("twitter:domain","donewellco.com",!0),d("twitter:url",l,!0),d("twitter:title",h),d("twitter:description",t),d("twitter:image",r);let f=document.querySelector('link[rel="canonical"]');f||(f=document.createElement("link"),f.setAttribute("rel","canonical"),document.head.appendChild(f)),f.setAttribute("href",l)},[e,t,r,n,s,o,a]),null}function Nx(){const[e,t]=E.useState([]),[r,n]=E.useState(!0),[s,o]=E.useState(null),a=async()=>{try{n(!0),o(null);const{data:h,error:d}=await F.from("projects").select("*").order("order",{ascending:!0});if(d)throw d;console.log("Raw Supabase data:",h);const f=h.map(Ni);console.log("Transformed projects:",f),t(f)}catch(h){o(h instanceof Error?h:new Error("Failed to fetch projects")),console.error("Error fetching projects:",h)}finally{n(!1)}};return E.useEffect(()=>{a()},[]),{projects:e,loading:r,error:s,refetch:a,addProject:async h=>{try{const d=vx(h),{data:f,error:x}=await F.from("projects").insert([d]).select().single();if(x)throw x;const v=Ni(f);return t(y=>[...y,v].sort((w,p)=>w.order-p.order)),v}catch(d){throw console.error("Error adding project:",d),d}},updateProject:async(h,d)=>{try{const f={};d.title!==void 0&&(f.title=d.title),d.slug!==void 0&&(f.slug=d.slug),d.keyframeImage!==void 0&&(f.keyframe_image=d.keyframeImage),d.shortDescription!==void 0&&(f.short_description=d.shortDescription),d.badge!==void 0&&(f.badge=d.badge),d.metricValue!==void 0&&(f.metric_value=d.metricValue),d.metricLabel!==void 0&&(f.metric_label=d.metricLabel),d.showOnWorkPage!==void 0&&(f.show_on_work_page=d.showOnWorkPage),d.showOnHomepage!==void 0&&(f.show_on_homepage=d.showOnHomepage),d.order!==void 0&&(f.order=d.order),d.summary!==void 0&&(f.summary=d.summary??null),d.problem!==void 0&&(f.problem=d.problem??null),d.objective!==void 0&&(f.objective=d.objective??null),d.ourActions!==void 0&&(f.our_actions=d.ourActions??null),d.results!==void 0&&(f.results=d.results??null),d.resultMetrics!==void 0&&(f.result_metrics=d.resultMetrics??null),d.liveWebsiteUrl!==void 0&&(f.live_website_url=d.liveWebsiteUrl??null);const{data:x,error:v}=await F.from("projects").update(f).eq("id",h).select().single();if(v)throw v;const y=Ni(x);return t(w=>w.map(p=>p.id===h?y:p).sort((p,m)=>p.order-m.order)),y}catch(f){throw console.error("Error updating project:",f),f}},deleteProject:async h=>{try{const{error:d}=await F.from("projects").delete().eq("id",h);if(d)throw d;t(f=>f.filter(x=>x.id!==h))}catch(d){throw console.error("Error deleting project:",d),d}}}}function Sx(){const[e,t]=E.useState([]),[r,n]=E.useState(!0),[s,o]=E.useState(null),a=async()=>{try{n(!0),o(null);const{data:h,error:d}=await F.from("testimonials").select("*").order("order",{ascending:!0});if(d)throw d;const f=h.map(Si);t(f)}catch(h){o(h instanceof Error?h:new Error("Failed to fetch testimonials")),console.error("Error fetching testimonials:",h)}finally{n(!1)}};return E.useEffect(()=>{a()},[]),{testimonials:e,loading:r,error:s,refetch:a,addTestimonial:async h=>{try{const d=yx(h),{data:f,error:x}=await F.from("testimonials").insert([d]).select().single();if(x)throw x;const v=Si(f);return t(y=>[...y,v].sort((w,p)=>w.order-p.order)),v}catch(d){throw console.error("Error adding testimonial:",d),d}},updateTestimonial:async(h,d)=>{try{const f={};d.name!==void 0&&(f.name=d.name),d.role!==void 0&&(f.role=d.role),d.company!==void 0&&(f.company=d.company),d.quote!==void 0&&(f.quote=d.quote),d.image!==void 0&&(f.image=d.image??null),d.order!==void 0&&(f.order=d.order),d.showOnHomepage!==void 0&&(f.show_on_homepage=d.showOnHomepage);const{data:x,error:v}=await F.from("testimonials").update(f).eq("id",h).select().single();if(v)throw v;const y=Si(x);return t(w=>w.map(p=>p.id===h?y:p).sort((p,m)=>p.order-m.order)),y}catch(f){throw console.error("Error updating testimonial:",f),f}},deleteTestimonial:async h=>{try{const{error:d}=await F.from("testimonials").delete().eq("id",h);if(d)throw d;t(f=>f.filter(x=>x.id!==h))}catch(d){throw console.error("Error deleting testimonial:",d),d}}}}function Ex(){const[e,t]=E.useState([]),[r,n]=E.useState(!0),[s,o]=E.useState(null),a=async()=>{try{n(!0),o(null);const{data:h,error:d}=await F.from("metrics").select("*").order("order",{ascending:!0});if(d)throw d;const f=h.map(Ei);t(f)}catch(h){o(h instanceof Error?h:new Error("Failed to fetch metrics")),console.error("Error fetching metrics:",h)}finally{n(!1)}};return E.useEffect(()=>{a()},[]),{metrics:e,loading:r,error:s,refetch:a,addMetric:async h=>{try{const d=xx(h),{data:f,error:x}=await F.from("metrics").insert([d]).select().single();if(x)throw x;const v=Ei(f);return t(y=>[...y,v].sort((w,p)=>w.order-p.order)),v}catch(d){throw console.error("Error adding metric:",d),d}},updateMetric:async(h,d)=>{try{const f={};d.value!==void 0&&(f.value=d.value),d.label!==void 0&&(f.label=d.label),d.order!==void 0&&(f.order=d.order);const{data:x,error:v}=await F.from("metrics").update(f).eq("id",h).select().single();if(v)throw v;const y=Ei(x);return t(w=>w.map(p=>p.id===h?y:p).sort((p,m)=>p.order-m.order)),y}catch(f){throw console.error("Error updating metric:",f),f}},deleteMetric:async h=>{try{const{error:d}=await F.from("metrics").delete().eq("id",h);if(d)throw d;t(f=>f.filter(x=>x.id!==h))}catch(d){throw console.error("Error deleting metric:",d),d}}}}const pf=E.createContext(void 0);function Cx({children:e}){const[t,r]=E.useState(!1),[n,s]=E.useState(!0),o=Nx(),a=Sx(),c=Ex(),l=ff();E.useEffect(()=>{(async()=>{try{const{data:{session:b}}=await F.auth.getSession();r(!!b)}catch(b){console.error("Error checking auth:",b),r(!1)}finally{s(!1)}})();const{data:{subscription:k}}=F.auth.onAuthStateChange((b,N)=>{r(!!N)});return()=>{k.unsubscribe()}},[]);const u=async(j,k)=>{try{const{data:b,error:N}=await F.auth.signInWithPassword({email:j,password:k});return N?(console.error("Login error:",N),!1):(r(!!b.session),!0)}catch(b){return console.error("Login error:",b),!1}},h=async()=>{try{await F.auth.signOut(),r(!1)}catch(j){console.error("Logout error:",j)}},d=async j=>{await o.addProject(j)},f=async(j,k)=>{await o.updateProject(j,k)},x=async j=>{await o.deleteProject(j)},v=async j=>{await a.addTestimonial(j)},y=async(j,k)=>{await a.updateTestimonial(j,k)},w=async j=>{await a.deleteTestimonial(j)},p=async j=>{await c.addMetric(j)},m=async(j,k)=>{await c.updateMetric(j,k)},g=async j=>{await c.deleteMetric(j)},_=async j=>{await l.deleteLead(j)};return i.jsx(pf.Provider,{value:{isAuthenticated:t,login:u,logout:h,loading:n||o.loading||a.loading||c.loading||l.loading,projects:o.projects,addProject:d,updateProject:f,deleteProject:x,testimonials:a.testimonials,addTestimonial:v,updateTestimonial:y,deleteTestimonial:w,metrics:c.metrics,addMetric:p,updateMetric:m,deleteMetric:g,leads:l.leads,deleteLead:_},children:e})}function dt(){const e=E.useContext(pf);if(e===void 0)throw new Error("useAdmin must be used within an AdminProvider");return e}function Tx({onGetStartedClick:e,isModalOpen:t,onModalClose:r}){const{projects:n,testimonials:s,metrics:o}=dt(),a=n.filter(u=>u.showOnHomepage).sort((u,h)=>u.order-h.order).slice(0,3),c=s.filter(u=>u.showOnHomepage).sort((u,h)=>u.order-h.order).slice(0,3),l=[...o].sort((u,h)=>u.order-h.order);return i.jsxs("div",{className:"min-h-screen",children:[i.jsx(is,{description:"We turn your vision into professional websites and apps that your customers will love  without the tech headaches. Average 14-day delivery.",url:"https://donewellco.com"}),i.jsx(tn,{onGetStartedClick:e}),i.jsxs("section",{className:"relative bg-gradient-to-br from-[--color-sage-50] via-white to-[--color-forest-50] overflow-hidden",children:[i.jsx("div",{className:"max-w-7xl mx-auto px-[24px] md:py-28 py-[64px] pt-[40px] pr-[24px] pb-[64px] pl-[24px]",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{className:"max-w-2xl",children:[i.jsxs("div",{className:"inline-flex items-center gap-2 px-5 py-2.5 bg-gradient-to-r from-[--color-sage-100] to-[--color-forest-100] rounded-full mb-6 animate-pulse",children:[i.jsx("div",{className:"w-2 h-2 rounded-full bg-[#1a4d2e]"}),i.jsx("span",{className:"text-sm tracking-wide text-[--color-forest-700]",children:" Projects Launched in 14 Days or Less"})]}),i.jsx("h1",{className:"mb-6 bg-gradient-to-br from-[--color-navy-900] via-[--color-forest-800] to-[--color-sage-700] bg-clip-text text-transparent",children:"Your Idea. Built Right. Delivered Fast."}),i.jsx("p",{className:"text-xl text-[--color-stone-800] mb-6 leading-relaxed px-[0px] py-[24px] mx-auto my-[12px] max-w-2xl text-left",children:"We turn your vision into professional websites and apps that your customers will love  without the tech headaches."}),i.jsxs("div",{className:"flex flex-wrap gap-3 mb-8",children:[i.jsx(Qc,{icon:i.jsx(fr,{size:18}),text:"100% Client Satisfaction"}),i.jsx(Qc,{icon:i.jsx(hg,{size:18}),text:"30-Day Support Included"})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-8",children:[i.jsx(vt,{variant:"primary",size:"large",onClick:e,children:"Get Started Free "}),i.jsx("a",{href:"/work",children:i.jsx(vt,{variant:"secondary",size:"large",children:"See Live Projects"})})]}),i.jsxs("div",{className:"flex items-center gap-3 text-sm text-[--color-stone-700]",children:[i.jsxs("div",{className:"flex -space-x-2",children:[i.jsx("img",{src:"https://images.unsplash.com/photo-1689600944138-da3b150d9cb8?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXNpbmVzcyUyMHByb2Zlc3Npb25hbCUyMGhlYWRzaG90JTIwd29tYW58ZW58MXx8fHwxNzY1OTgwNDc3fDA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"",className:"w-8 h-8 rounded-full border-2 border-white object-cover",loading:"lazy",width:32,height:32}),i.jsx("img",{src:"https://images.unsplash.com/photo-1723537742563-15c3d351dbf2?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxidXNpbmVzcyUyMHByb2Zlc3Npb25hbCUyMGhlYWRzaG90JTIwbWFufGVufDF8fHx8MTc2NTk2MjQ2NHww&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"",className:"w-8 h-8 rounded-full border-2 border-white object-cover",loading:"lazy",width:32,height:32}),i.jsx("img",{src:"https://images.unsplash.com/photo-1762522926157-bcc04bf0b10a?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxwcm9mZXNzaW9uYWwlMjBoZWFkc2hvdCUyMGNvbmZpZGVudHxlbnwxfHx8fDE3NjU5ODA0Nzd8MA&ixlib=rb-4.1.0&q=80&w=1080&utm_source=figma&utm_medium=referral",alt:"",className:"w-8 h-8 rounded-full border-2 border-white object-cover",loading:"lazy",width:32,height:32})]}),i.jsxs("span",{children:[i.jsx("strong",{className:"text-[--color-stone-900]",children:"50+ entrepreneurs"})," launched their ideas with DoneWell"]})]})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"relative h-[400px] lg:h-[500px] rounded-[var(--radius-xl)] overflow-hidden shadow-[0_20px_60px_-15px_rgba(0,0,0,0.3)] border-4 border-white",children:i.jsx(Kh,{src:"https://udiskjjuszutgpvkogzw.supabase.co/storage/v1/object/public/site-assets/Homepage/Hero.avif",alt:"Modern website design",className:"w-full h-full object-cover rounded-[8px]",loading:"eager",width:800,height:500})}),i.jsxs("div",{className:"absolute -bottom-6 -left-6 bg-white p-6 rounded-[var(--radius-lg)] shadow-[var(--shadow-xl)] border border-[--color-stone-200] rounded-[8px]",children:[i.jsx("div",{className:"text-4xl bg-gradient-to-br from-[#1a4d2e] to-[#4a6f5a] bg-clip-text text-transparent mb-1",children:"99%"}),i.jsx("div",{className:"text-sm text-[--color-stone-700]",children:"Average Site Performance"})]})]})]})}),i.jsx("div",{className:"absolute top-1/4 right-0 w-96 h-96 bg-[--color-sage-200] rounded-full blur-3xl opacity-30 pointer-events-none"}),i.jsx("div",{className:"absolute bottom-1/4 left-0 w-80 h-80 bg-[--color-forest-100] rounded-full blur-3xl opacity-20 pointer-events-none"})]}),i.jsx("section",{className:"py-16 bg-gradient-to-r from-[#255741] to-[#345a45]",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6",children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 text-white",children:l.map(u=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-3xl md:text-6xl mb-2",children:u.value}),i.jsx("div",{className:"text-sm md:text-base text-white opacity-90",children:u.label})]},u.id))})})}),i.jsx("section",{className:"py-24 bg-white",id:"process",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("div",{className:"inline-block px-4 py-2 bg-gray-100 rounded-full text-sm tracking-wider text-[--color-forest-700] mb-4",children:"OUR PROVEN PROCESS"}),i.jsx("h2",{className:"mb-6",children:"From Idea to Launch in 4 Simple Steps"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("p",{className:"text-xl text-[--color-stone-600] max-w-2xl pt-4",style:{textAlign:"center"},children:"A clear, proven path that takes you from concept to a live website  with zero stress."})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[i.jsx(Os,{number:"1",title:"Discovery",description:"We meet 1:1 to understand your idea, business goals, and customer needs.",icon:i.jsx(z0,{size:24,strokeWidth:1.5})}),i.jsx(Os,{number:"2",title:"Blueprint",description:"We craft a clear plan and produce a working prototype you can react to.",icon:i.jsx(x0,{size:24,strokeWidth:1.5})}),i.jsx(Os,{number:"3",title:"Build",description:"We develop your site or app using modern tools, fast timelines, and thoughtful details.",icon:i.jsx(k0,{size:24,strokeWidth:1.5})}),i.jsx(Os,{number:"4",title:"Live",description:"We launch your project and support you during your first 30 days, so everything runs smoothly.",icon:i.jsx(ag,{size:24,strokeWidth:1.5})})]})]})}),i.jsx("section",{className:"py-24 bg-[--color-sand-50]",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-4",children:"CLIENT SUCCESS STORIES"}),i.jsx("h2",{className:"mb-6",children:"What Our Clients Say"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("p",{className:"text-xl text-[--color-stone-700] max-w-2xl pt-4",style:{textAlign:"center"},children:"Real results from real entrepreneurs who trusted us with their vision."})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:c.map(u=>i.jsx($g,{quote:u.quote,author:u.name,role:u.role,company:u.company,image:u.image||"https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop"},u.id))})]})}),i.jsx("section",{className:"py-24 bg-white",id:"work",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("div",{className:"inline-block px-4 py-2 bg-gray-100 rounded-full text-sm tracking-wider text-[--color-stone-700] mb-4",children:"RECENT LAUNCHES"}),i.jsx("h2",{className:"mb-6",children:"Projects That Drove Real Results"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("p",{className:"text-xl text-[--color-stone-700] max-w-2xl pt-4",style:{textAlign:"center"},children:"See how we've helped entrepreneurs launch, grow, and succeed online."})})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map(u=>i.jsx(Ig,{image:u.keyframeImage,title:u.title,description:u.shortDescription,slug:u.slug},u.id))})]})}),i.jsx("section",{className:"py-24 bg-gradient-to-br from-[--color-sage-50] to-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsxs("div",{className:"text-center mb-16",children:[i.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-4 border border-[--color-stone-200]",children:"WHY DONEWELL"}),i.jsx("h2",{className:"mb-6",children:"The Smart Choice for Non-Technical Founders"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("p",{className:"text-xl text-[--color-stone-600] max-w-2xl pt-4",style:{textAlign:"center"},children:"We remove the complexity and deliver results you can measure."})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"bg-white p-8 rounded-[var(--radius-xl)] shadow-[var(--shadow-lg)] border border-[--color-stone-200] rounded-[8px]",children:[i.jsx("div",{className:"w-14 h-14 rounded-[var(--radius-lg)] bg-gradient-to-br from-[--color-forest-100] to-[--color-sage-100] flex items-center justify-center mb-4",children:i.jsx(Pg,{className:"text-[--color-forest-600]",size:28,strokeWidth:1.5})}),i.jsx("h3",{className:"mb-3 pt-[0px] pr-[0px] pb-[8px] pl-[0px]",children:"Lightning Fast Delivery"}),i.jsx("p",{className:"text-[--color-stone-600] leading-relaxed",children:"Average 14-day delivery. No months-long waits. We move fast without cutting corners."})]}),i.jsxs("div",{className:"bg-white p-8 rounded-[var(--radius-xl)] shadow-[var(--shadow-lg)] border border-[--color-stone-200] rounded-[8px]",children:[i.jsx("div",{className:"w-14 h-14 rounded-[var(--radius-lg)] bg-gradient-to-br from-[--color-forest-100] to-[--color-sage-100] flex items-center justify-center mb-4",children:i.jsx(qh,{className:"text-[--color-forest-600]",size:28,strokeWidth:1.5})}),i.jsx("h3",{className:"mb-3 pt-[0px] pr-[0px] pb-[8px] pl-[0px]",children:"Built For Non-Tech People"}),i.jsx("p",{className:"text-[--color-stone-600] leading-relaxed",children:"Clear communication, zero jargon. You'll understand every step of the process."})]}),i.jsxs("div",{className:"bg-white p-8 rounded-[var(--radius-xl)] shadow-[var(--shadow-lg)] border border-[--color-stone-200] rounded-[8px]",children:[i.jsx("div",{className:"w-14 h-14 rounded-[var(--radius-lg)] bg-gradient-to-br from-[--color-forest-100] to-[--color-sage-100] flex items-center justify-center mb-4",children:i.jsx(Ym,{className:"text-[--color-forest-600]",size:28,strokeWidth:1.5})}),i.jsx("h3",{className:"mb-3 pt-[0px] pr-[0px] pb-[8px] pl-[0px]",children:"Premium Quality"}),i.jsx("p",{className:"text-[--color-stone-600] leading-relaxed",children:"Beautiful design meets solid code. Your site will look great and perform flawlessly."})]})]})]})}),i.jsx("section",{className:"py-24 bg-sage-50 relative overflow-hidden",id:"contact",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center relative z-10",children:[i.jsx("h2",{className:"text-forest-700 mb-6",children:"Ready to Launch Your Idea?"}),i.jsx("p",{className:"text-xl text-stone-700 mb-4 pt-[24px] pr-[0px] pb-[0px] pl-[0px]",children:"Book a free 30-minute consultation and see how we can bring your vision to life."}),i.jsx("p",{className:"text-stone-600 mb-10 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"No sales pressure. Just honest advice about your project."}),i.jsx("div",{className:"mb-8",children:i.jsx(vt,{variant:"primary",size:"large",onClick:e,children:"Book Your Free Consultation "})}),i.jsxs("div",{className:"flex flex-wrap gap-6 justify-center text-sm px-4 text-stone-600",children:[i.jsx("span",{children:" Free consultation"}),i.jsx("span",{children:" No commitment"}),i.jsx("span",{children:" Get a project roadmap"})]})]})}),i.jsx(on,{}),i.jsx(Fo,{isOpen:t,onClose:r})]})}function mf({project:e}){return i.jsxs("a",{href:`/projects/${e.slug}`,className:"group block bg-white rounded-[8px] overflow-hidden shadow-[var(--shadow-md)] hover:shadow-[var(--shadow-xl)] transition-all duration-300 border border-[--color-stone-200]",children:[i.jsxs("div",{className:"relative aspect-video overflow-hidden bg-[--color-stone-100]",children:[i.jsx("img",{src:e.keyframeImage,alt:e.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500",loading:"lazy"}),e.metricValue&&i.jsxs("div",{className:"absolute bottom-4 right-4 bg-[--color-forest-700] text-white px-4 py-2 rounded-lg",children:[i.jsx("div",{className:"text-2xl",children:e.metricValue}),i.jsx("div",{className:"text-xs opacity-90",children:e.metricLabel})]})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsx("h4",{className:"group-hover:text-[--color-forest-700] transition-colors",children:e.title}),e.badge&&i.jsx("div",{className:"px-3 py-1 bg-[--color-sage-100] rounded-full text-xs tracking-wide text-[--color-forest-700] font-medium whitespace-nowrap",children:e.badge})]}),i.jsx("p",{className:"text-[--color-stone-600] mb-4 leading-relaxed pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:e.shortDescription}),i.jsxs("div",{className:"flex items-center gap-2 text-[--color-forest-600] group-hover:gap-3 transition-all",children:[i.jsx("span",{className:"text-sm",children:"View Project"}),i.jsx(Jm,{size:16})]})]})]})}function Ox({onGetStartedClick:e,isModalOpen:t,onModalClose:r}){const{projects:n}=dt(),s=n.filter(o=>o.showOnWorkPage).sort((o,a)=>o.order-a.order);return i.jsxs("div",{className:"min-h-screen",children:[i.jsx(is,{title:"Our Work - Live Projects That Drive Results",description:"See how we've helped entrepreneurs launch, grow, and succeed online. Every project we build is designed to help businesses launch faster and attract customers.",url:"https://donewellco.com/work"}),i.jsx(tn,{onGetStartedClick:e}),i.jsx("section",{className:"bg-gradient-to-br from-[--color-sage-50] via-white to-[--color-forest-50] py-20",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6",children:i.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[i.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-6 border border-[--color-stone-200]",children:"OUR WORK"}),i.jsx("h1",{className:"mb-6",children:"Live Projects That Drive Results"}),i.jsx("p",{className:"text-xl text-[--color-stone-700] max-w-2xl mx-auto pt-[8px] pr-[0px] pb-[0px] pl-[0px]",children:"Every project we build is designed to help entrepreneurs launch faster, attract customers, and grow their business."})]})})}),i.jsx("section",{className:"py-20 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:s.map(o=>i.jsx(mf,{project:o},o.id))}),s.length===0&&i.jsx("div",{className:"text-center py-20",children:i.jsx("p",{className:"text-[--color-stone-600] text-xl",children:"No projects to display yet. Check back soon!"})})]})}),i.jsx("section",{className:"py-20 bg-gradient-to-br from-[--color-forest-700] to-[--color-sage-700] text-white",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[i.jsx("h2",{className:"text-white mb-6 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Ready to See Your Project Here?"}),i.jsx("p",{className:"text-xl text-[--color-sage-100] mb-8 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"Let's bring your vision to life with the same quality and speed."}),i.jsx("button",{onClick:e,className:"px-8 py-4 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143d24] transition-colors",children:"Get Started Free "})]})}),i.jsx(on,{}),i.jsx(Fo,{isOpen:t,onClose:r})]})}function Px({onGetStartedClick:e,isModalOpen:t,onModalClose:r}){return i.jsxs("div",{className:"min-h-screen",children:[i.jsx(is,{title:"About DoneWell - Helping People Bring Their Ideas to Life",description:"DoneWell exists to help people bring their ideas to life  thoughtfully, professionally, and without unnecessary complexity. We believe good digital work starts with understanding.",url:"https://donewellco.com/about"}),i.jsx(tn,{onGetStartedClick:e}),i.jsx("section",{className:"bg-[#295841] py-20",children:i.jsx("div",{className:"max-w-4xl mx-auto px-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block px-4 py-2 bg-white rounded-full text-sm tracking-wider text-[--color-stone-600] mb-6 border border-[--color-stone-200]",children:"ABOUT US"}),i.jsx("h1",{className:"mb-6 pt-[0px] pr-[0px] pb-[24px] pl-[0px] !text-white",children:"About DoneWell"}),i.jsx("p",{className:"text-xl max-w-3xl mx-auto leading-relaxed !text-white",children:"DoneWell exists to help people bring their ideas to life  thoughtfully, professionally, and without unnecessary complexity."})]})})}),i.jsx("section",{className:"py-20 bg-white",children:i.jsx("div",{className:"max-w-4xl mx-auto px-6",children:i.jsxs("div",{className:"prose prose-lg max-w-none",children:[i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-8",children:"Many of our clients are experts in what they do, but don't want to become experts in websites, apps, or technology just to get their business off the ground. They want something that looks professional, works reliably, and reflects the quality of their work."}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-24",children:"That's where we come in."}),i.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Our Approach"}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"We believe good digital work starts with understanding  not templates."}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-8",children:"Every project begins with a conversation. We take the time to understand your business, your goals, and your customers, then design and build a solution that fits your needs today while leaving room to grow tomorrow."}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-8",children:"Our process is simple and structured:"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-16",children:[i.jsx("div",{className:"bg-[--color-sage-50] rounded-[8px] border border-[--color-sage-200] pt-[24px] pr-[24px] pb-[0px] pl-[24px]",children:i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 mt-1",children:"1"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[--color-forest-700] mb-2",children:"Discovery"}),i.jsx("p",{className:"text-[--color-stone-700] mt-[0px] mr-[0px] mb-[12px] ml-[0px]",children:"We clarify your idea, your challenges, and what success looks like."})]})]})}),i.jsx("div",{className:"bg-[--color-sage-50] rounded-[8px] border border-[--color-sage-200] pt-[24px] pr-[24px] pb-[0px] pl-[24px]",children:i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 mt-1",children:"2"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[--color-forest-700] mb-2",children:"Blueprint"}),i.jsx("p",{className:"text-[--color-stone-700] mt-[0px] mr-[0px] mb-[12px] ml-[0px]",children:"We translate that understanding into a clear plan and prototype."})]})]})}),i.jsx("div",{className:"bg-[--color-sage-50] rounded-[8px] border border-[--color-sage-200] pt-[24px] pr-[24px] pb-[0px] pl-[24px]",children:i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 mt-1",children:"3"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[--color-forest-700] mb-2",children:"Build"}),i.jsx("p",{className:"text-[--color-stone-700] mt-[0px] mr-[0px] mb-[12px] ml-[0px]",children:"We design and develop your site or application with care and attention to detail."})]})]})}),i.jsx("div",{className:"bg-[--color-sage-50] rounded-[8px] border border-[--color-sage-200] pt-[24px] pr-[24px] pb-[0px] pl-[24px]",children:i.jsxs("div",{className:"flex items-start gap-3 mb-3",children:[i.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-full border-2 border-[--color-forest-700] text-[--color-forest-700] flex-shrink-0 mt-1",children:"4"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[--color-forest-700] mb-2",children:"Live"}),i.jsx("p",{className:"text-[--color-stone-700] mt-[0px] mr-[0px] mb-[12px] ml-[0px]",children:"We launch confidently and support you as your project goes live."})]})]})})]}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-24 italic",children:"No buzzwords. No over-engineering. Just thoughtful work, done well."}),i.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"Who We Work With"}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"DoneWell works primarily with professionals and small businesses who want a reliable partner they can trust."}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"That includes consultants, lawyers, therapists, real estate professionals, creators, and founders  especially those starting something new or upgrading an existing website that no longer reflects the quality of their work."}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-[48px] mt-[0px] mr-[0px] ml-[0px]",children:"Our clients value clarity, professionalism, and getting things done right the first time."}),i.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:"Experience You Can Rely On"}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"DoneWell is led by a designer and builder with deep experience in UX, product design, and modern development workflows."}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"Behind the scenes, our work draws from years of experience designing and shipping real products, improving complex systems, and helping teams and businesses turn ideas into working solutions. We combine design thinking, technical execution, and practical business sense  so projects don't just look good, they work."}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-24",children:"We use modern tools and processes to move efficiently, but we never lose sight of the human side of the work."}),i.jsx("h2",{className:"text-[--color-forest-700] mb-4 pt-[24px] pr-[0px] pb-[16px] pl-[0px]",children:'Why "DoneWell"'}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"The name reflects our philosophy."}),i.jsx("p",{className:"text-lg text-[--color-stone-700] leading-relaxed mb-6",children:"We believe quality comes from care, not shortcuts. From listening closely, making good decisions early, and following through. When something is done well, it earns trust  and trust is the foundation of any successful partnership."})]})})}),i.jsx("section",{className:"py-20 bg-sage-50",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[i.jsx("h2",{className:"text-forest-700 mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Let's Get Started"}),i.jsx("p",{className:"text-xl text-stone-700 mb-4",children:"If you have an idea you'd like to explore, or a website that needs improvement, we'd love to talk."}),i.jsx("p",{className:"text-lg text-stone-600 mb-8 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"You don't need a perfect plan  just a place to start."}),i.jsx("button",{onClick:e,className:"px-8 py-4 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143d24] transition-colors",children:"Get Started Free "})]})}),i.jsx(on,{}),i.jsx(Fo,{isOpen:t,onClose:r})]})}function Rx({metric:e}){return e.size,i.jsxs("div",{className:"bg-gradient-to-br from-[--color-sage-50] to-white p-8 rounded-[var(--radius-xl)] border border-[--color-stone-200] bg-[rgb(255,255,255)] rounded-[8px]",children:[i.jsx("div",{className:"text-5xl md:text-6xl bg-gradient-to-br from-[#1a4d2e] to-[#4a6f5a] bg-clip-text text-transparent mb-3",children:e.value}),i.jsx("h4",{className:"mb-2 text-[--color-navy-800]",children:e.title}),i.jsx("p",{className:"text-[--color-stone-600]",children:e.description})]})}function Ax({onGetStartedClick:e}){return i.jsxs("div",{className:"min-h-screen",children:[i.jsx(tn,{onGetStartedClick:e}),i.jsx("section",{className:"bg-white border-b border-[--color-stone-200] py-4",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6",children:i.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded animate-pulse"})})}),i.jsx("section",{className:"bg-gradient-to-br from-[--color-sage-50] to-white py-16",children:i.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[i.jsx("div",{className:"mb-6",children:i.jsx("div",{className:"h-6 w-24 bg-gray-200 rounded-full animate-pulse"})}),i.jsx("div",{className:"h-12 w-3/4 bg-gray-200 rounded mb-8 animate-pulse"}),i.jsx("div",{className:"aspect-video rounded-[var(--radius-xl)] overflow-hidden bg-gray-200 animate-pulse"})]})}),i.jsx("section",{className:"py-[32px] bg-white pt-[32px] pr-[0px] pb-[64px] pl-[0px] px-[0px]",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[i.jsxs("div",{className:"mb-12",children:[i.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded mb-4 animate-pulse"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-5/6 bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-4/5 bg-gray-200 rounded animate-pulse"})]}),i.jsx("div",{className:"h-12 w-48 bg-gray-200 rounded-lg mt-6 animate-pulse"})]}),i.jsxs("div",{className:"mb-12",children:[i.jsx("div",{className:"h-8 w-40 bg-gray-200 rounded mb-4 animate-pulse"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded animate-pulse"})]})]}),i.jsxs("div",{className:"mb-12",children:[i.jsx("div",{className:"h-8 w-36 bg-gray-200 rounded mb-4 animate-pulse"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-5/6 bg-gray-200 rounded animate-pulse"})]})]}),i.jsxs("div",{className:"mb-12",children:[i.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded mb-4 animate-pulse"}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-4/5 bg-gray-200 rounded animate-pulse"})]})]})]})}),i.jsx("section",{className:"py-16 bg-gradient-to-br from-[--color-sage-50] to-white",children:i.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[i.jsx("div",{className:"h-8 w-32 bg-gray-200 rounded mb-4 animate-pulse"}),i.jsxs("div",{className:"space-y-3 mb-12",children:[i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"}),i.jsx("div",{className:"h-4 w-3/4 bg-gray-200 rounded animate-pulse"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[1,2,3].map(t=>i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200",children:[i.jsx("div",{className:"h-12 w-20 bg-gray-200 rounded mb-3 animate-pulse"}),i.jsx("div",{className:"h-6 w-32 bg-gray-200 rounded mb-2 animate-pulse"}),i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded animate-pulse"})]},t))})]})}),i.jsx("section",{className:"py-20 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx("div",{className:"h-8 w-40 bg-gray-200 rounded mb-8 animate-pulse"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[1,2,3].map(t=>i.jsxs("div",{className:"bg-white rounded-lg overflow-hidden border border-gray-200",children:[i.jsx("div",{className:"aspect-video bg-gray-200 animate-pulse"}),i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"h-6 w-3/4 bg-gray-200 rounded mb-3 animate-pulse"}),i.jsx("div",{className:"h-4 w-full bg-gray-200 rounded mb-2 animate-pulse"}),i.jsx("div",{className:"h-4 w-5/6 bg-gray-200 rounded animate-pulse"})]})]},t))})]})}),i.jsx("section",{className:"py-20 bg-sage-50",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[i.jsx("div",{className:"h-8 w-64 bg-gray-200 rounded mb-4 mx-auto animate-pulse"}),i.jsx("div",{className:"h-6 w-96 bg-gray-200 rounded mb-8 mx-auto animate-pulse"}),i.jsx("div",{className:"h-12 w-48 bg-gray-200 rounded-lg mx-auto animate-pulse"})]})}),i.jsx(on,{})]})}function Ix({projectSlug:e,onGetStartedClick:t,isModalOpen:r,onModalClose:n}){var u;const{projects:s,loading:o}=dt();if(o)return i.jsx(Ax,{onGetStartedClick:t});const a=s.find(h=>h.slug===e),c=s.filter(h=>h.slug!==e&&h.showOnWorkPage).sort((h,d)=>h.order-d.order).slice(0,3);if(!a)return i.jsxs("div",{className:"min-h-screen",children:[i.jsx(is,{title:"Project Not Found",description:"The project you're looking for doesn't exist.",url:"https://donewellco.com/projects/not-found"}),i.jsx(tn,{onGetStartedClick:t}),i.jsx("section",{className:"bg-white py-20",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[i.jsx("h1",{className:"mb-4",children:"Project Not Found"}),i.jsx("p",{className:"text-[--color-stone-600] mb-8",children:"The project you're looking for doesn't exist."}),i.jsxs("a",{href:"/work",className:"inline-flex items-center gap-2 text-[--color-forest-700] hover:text-[--color-forest-800] transition-colors",children:[i.jsx(_a,{size:20}),i.jsx("span",{children:"Back to Work"})]})]})}),i.jsx(on,{})]});const l=((u=a.resultMetrics)==null?void 0:u.map((h,d)=>({id:`result-${d}`,value:h.value,title:h.title,description:h.description,size:"1x1"})))||[];return i.jsxs("div",{className:"min-h-screen",children:[i.jsx(is,{title:a.title,description:a.shortDescription||`Learn about ${a.title} - a project by DoneWell.`,image:a.keyframeImage,url:`https://donewellco.com/projects/${a.slug}`,type:"article"}),i.jsx(tn,{onGetStartedClick:t}),i.jsx("section",{className:"bg-white border-b border-[--color-stone-200] py-4",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6",children:i.jsxs("a",{href:"/work",className:"inline-flex items-center gap-2 text-[--color-stone-700] hover:text-[--color-forest-700] transition-colors",children:[i.jsx(_a,{size:20}),i.jsx("span",{children:"Back to Work"})]})})}),i.jsx("section",{className:"bg-gradient-to-br from-[--color-sage-50] to-white py-16",children:i.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[i.jsx("div",{className:"mb-6",children:i.jsx("span",{className:"inline-block px-3 py-1.5 bg-white rounded-full text-xs tracking-wide text-[--color-forest-700] border border-[--color-stone-200]",children:a.badge})}),i.jsx("h1",{className:"mb-8 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:a.title}),i.jsx("div",{className:"aspect-video rounded-[var(--radius-xl)] overflow-hidden shadow-[var(--shadow-xl)] border-4 border-white",children:i.jsx("img",{src:a.keyframeImage,alt:a.title,className:"w-full h-full object-cover rounded-[8px]",loading:"eager"})})]})}),i.jsx("section",{className:"py-[32px] bg-white pt-[32px] pr-[0px] pb-[64px] pl-[0px] px-[0px]",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6",children:[a.summary&&i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Overview"}),i.jsx("div",{className:"prose prose-lg max-w-none text-[--color-stone-700] mb-6",dangerouslySetInnerHTML:{__html:a.summary}}),a.liveWebsiteUrl&&i.jsxs("a",{href:a.liveWebsiteUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143d24] transition-colors",children:["View Experience Live",i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})})]})]}),a.problem&&i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"The Challenge"}),i.jsx("div",{className:"prose prose-lg max-w-none text-[--color-stone-700]",dangerouslySetInnerHTML:{__html:a.problem}})]}),a.objective&&i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Our Objective"}),i.jsx("div",{className:"prose prose-lg max-w-none text-[--color-stone-700]",dangerouslySetInnerHTML:{__html:a.objective}})]}),a.ourActions&&i.jsxs("div",{className:"mb-12",children:[i.jsx("h2",{className:"mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"What We Did"}),i.jsx("div",{className:"prose prose-lg max-w-none text-[--color-stone-700]",dangerouslySetInnerHTML:{__html:a.ourActions}})]})]})}),a.results&&i.jsx("section",{className:"py-16 bg-gradient-to-br from-[--color-sage-50] to-white",children:i.jsxs("div",{className:"max-w-5xl mx-auto px-6",children:[i.jsx("h2",{className:"mb-4 text-left pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"The Results"}),i.jsx("div",{className:"prose prose-lg max-w-3xl text-left mb-12 text-stone-700",dangerouslySetInnerHTML:{__html:a.results}}),l.length>0&&i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:l.map(h=>i.jsx(Rx,{metric:h},h.id))})]})}),i.jsx("section",{className:"py-20 bg-white",children:i.jsxs("div",{className:"max-w-7xl mx-auto px-6",children:[i.jsx("h2",{className:"text-left mb-8 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"More Projects"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:c.map(h=>i.jsx(mf,{project:h},h.id))})]})}),i.jsx("section",{className:"py-20 bg-sage-50",children:i.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[i.jsx("h2",{className:"text-forest-700 mb-4 pt-[0px] pr-[0px] pb-[16px] pl-[0px]",children:"Ready for Results Like These?"}),i.jsx("p",{className:"text-xl text-stone-700 mb-8 pt-[0px] pr-[0px] pb-[24px] pl-[0px]",children:"Let's discuss how we can deliver similar outcomes for your project."}),i.jsx("button",{onClick:t,className:"px-8 py-4 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143d24] transition-colors",children:"Get Started Free "})]})}),i.jsx(on,{}),i.jsx(Fo,{isOpen:r,onClose:n})]})}function $x({onLoginSuccess:e}){const[t,r]=E.useState(""),[n,s]=E.useState(""),[o,a]=E.useState(""),[c,l]=E.useState(!1),{login:u}=dt(),h=async d=>{d.preventDefault(),a(""),l(!0);try{await u(t,n)?e():(a("Incorrect email or password"),s(""))}catch(f){a("Login failed. Please try again."),console.error("Login error:",f)}finally{l(!1)}};return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[--color-forest-700] to-[--color-sage-700] flex items-center justify-center px-6",children:i.jsxs("div",{className:"bg-white rounded-2xl p-8 w-full max-w-md shadow-2xl",children:[i.jsx("div",{className:"flex justify-center mb-6",children:i.jsx("div",{className:"w-16 h-16 bg-[--color-sage-100] rounded-full flex items-center justify-center",children:i.jsx(J0,{className:"text-[--color-forest-700]",size:32})})}),i.jsx("h1",{className:"text-center mb-2",children:"Admin Access"}),i.jsx("p",{className:"text-center text-[--color-stone-600] mb-8",children:"Enter your credentials to continue"}),i.jsxs("form",{onSubmit:h,children:[i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"email",className:"block text-sm mb-2 text-[--color-stone-700]",children:"Email"}),i.jsx("input",{type:"email",id:"email",value:t,onChange:d=>{r(d.target.value),a("")},className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Enter email",autoFocus:!0})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"password",className:"block text-sm mb-2 text-[--color-stone-700]",children:"Password"}),i.jsx("input",{type:"password",id:"password",value:n,onChange:d=>{s(d.target.value),a("")},className:"w-full px-4 py-3 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Enter password"}),o&&i.jsx("p",{className:"text-red-600 text-sm mt-2",children:o})]}),i.jsx("button",{type:"submit",disabled:c,className:"w-full px-6 py-3 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Logging in...":"Login"})]})]})})}function xn({value:e,onChange:t,placeholder:r,label:n}){const s=E.useRef(null),o=E.useRef(null),[a,c]=E.useState(!1),l=E.useRef(""),u=E.useRef(!0),h=E.useRef("");E.useLayoutEffect(()=>{if(s.current&&u.current){const S=e||"";console.log(`RichTextEditor mount - label: ${n}, value length: ${S.length}, value:`,S.substring(0,50)),s.current.innerHTML=S,l.current=S,h.current=S,u.current=!1}},[]),E.useEffect(()=>{if(s.current){const S=e||"";if(u.current){S&&s.current.innerHTML===""&&(console.log(`RichTextEditor late init - label: ${n}, value length: ${S.length}`),s.current.innerHTML=S,l.current=S,h.current=S,u.current=!1);return}if(a)return;h.current!==S&&(console.log(`RichTextEditor update - label: ${n}, value length: ${S.length}`),s.current.innerHTML=S,l.current=S,h.current=S)}},[e,a,n]);const d=(S,T)=>{document.execCommand(S,!1,T),f()},f=()=>{if(s.current){const S=s.current.innerHTML;l.current=S,h.current=S,t(S)}},x=()=>{c(!0),f()},v=()=>{c(!0)},y=()=>{if(c(!1),s.current){const S=s.current.innerHTML,T=e||"";S!==T&&(s.current.innerHTML=T,l.current=T)}},w=()=>{const S=prompt("Enter URL:");S&&d("createLink",S)},p=()=>{var S;(S=o.current)==null||S.click()},m=S=>{var M;const T=(M=S.target.files)==null?void 0:M[0];if(T){const B=new FileReader;B.onloadend=()=>{const G=B.result;g(G)},B.readAsDataURL(T)}S.target.value=""},g=S=>{const T=document.createElement("img");T.src=S,T.style.maxWidth="100%",T.style.height="auto",T.style.margin="1em 0",T.style.borderRadius="8px";const M=window.getSelection();if(M&&M.rangeCount>0){const B=M.getRangeAt(0);B.deleteContents(),B.insertNode(T);const G=document.createElement("br");B.collapse(!1),B.insertNode(G),B.setStartAfter(G),B.collapse(!0),M.removeAllRanges(),M.addRange(B)}else s.current&&s.current.appendChild(T);f()},_=()=>{const S=prompt("Enter YouTube URL (e.g., https://www.youtube.com/watch?v=VIDEO_ID):");if(S){let T="";const M=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,B=S.match(M);if(B&&B[2].length===11)T=B[2];else{alert("Invalid YouTube URL. Please enter a valid YouTube video URL.");return}const G=document.createElement("div");G.style.position="relative",G.style.paddingBottom="56.25%",G.style.height="0",G.style.margin="1em 0",G.innerHTML=`<iframe 
        src="https://www.youtube.com/embed/${T}" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen
        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 8px;"
      ></iframe>`;const Ae=window.getSelection();if(Ae&&Ae.rangeCount>0){const Ee=Ae.getRangeAt(0);Ee.deleteContents(),Ee.insertNode(G);const Nt=document.createElement("br");Ee.collapse(!1),Ee.insertNode(Nt),Ee.setStartAfter(Nt),Ee.collapse(!0),Ae.removeAllRanges(),Ae.addRange(Ee)}else s.current&&s.current.appendChild(G);f()}},j=S=>{d("formatBlock",`<${S}>`)},k=[{icon:Zm,command:"bold",title:"Bold (Ctrl+B)"},{icon:L0,command:"italic",title:"Italic (Ctrl+I)"},{icon:bg,command:"underline",title:"Underline (Ctrl+U)"}],b=[{icon:S0,tag:"h1",title:"Heading 1"},{icon:C0,tag:"h2",title:"Heading 2"},{icon:O0,tag:"h3",title:"Heading 3"},{icon:xg,tag:"p",title:"Paragraph"}],N=[{icon:q0,command:"insertUnorderedList",title:"Bullet List"},{icon:H0,command:"insertOrderedList",title:"Numbered List"}];return i.jsxs("div",{className:"space-y-2",children:[n&&i.jsx("label",{className:"block text-sm text-[--color-stone-700]",children:n}),i.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:m,className:"hidden"}),i.jsxs("div",{className:"bg-white border border-[--color-stone-300] rounded-t-lg p-2 flex flex-wrap gap-1",children:[i.jsx("div",{className:"flex gap-1 pr-2 border-r border-[--color-stone-200]",children:k.map(({icon:S,command:T,title:M})=>i.jsx("button",{type:"button",onClick:()=>d(T),onMouseDown:B=>B.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:M,children:i.jsx(S,{size:16,className:"text-[--color-stone-700]"})},T))}),i.jsx("div",{className:"flex gap-1 pr-2 border-r border-[--color-stone-200]",children:b.map(({icon:S,tag:T,title:M})=>i.jsx("button",{type:"button",onClick:()=>j(T),onMouseDown:B=>B.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:M,children:i.jsx(S,{size:16,className:"text-[--color-stone-700]"})},T))}),i.jsx("div",{className:"flex gap-1 pr-2 border-r border-[--color-stone-200]",children:N.map(({icon:S,command:T,title:M})=>i.jsx("button",{type:"button",onClick:()=>d(T),onMouseDown:B=>B.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:M,children:i.jsx(S,{size:16,className:"text-[--color-stone-700]"})},T))}),i.jsx("button",{type:"button",onClick:w,onMouseDown:S=>S.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:"Insert Link",children:i.jsx(U0,{size:16,className:"text-[--color-stone-700]"})}),i.jsx("button",{type:"button",onClick:p,onMouseDown:S=>S.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:"Insert Image",children:i.jsx(R0,{size:16,className:"text-[--color-stone-700]"})}),i.jsx("button",{type:"button",onClick:_,onMouseDown:S=>S.preventDefault(),className:"p-2 hover:bg-[--color-stone-100] rounded transition-colors",title:"Embed YouTube Video",children:i.jsx(Ng,{size:16,className:"text-[--color-stone-700]"})})]}),i.jsx("div",{ref:s,contentEditable:!0,onInput:x,onFocus:v,onBlur:y,className:"min-h-[200px] p-4 border border-[--color-stone-300] border-t-0 rounded-b-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600] bg-white prose prose-sm max-w-none relative",style:{wordWrap:"break-word",overflowWrap:"break-word"},"data-placeholder":r}),i.jsx("style",{children:`
        [contenteditable][data-placeholder]:empty:before {
          content: attr(data-placeholder);
          color: #999;
          pointer-events: none;
        }
        [contenteditable] {
          outline: none;
        }
        [contenteditable] h1 {
          font-size: 2em;
          font-weight: bold;
          margin: 0.5em 0;
        }
        [contenteditable] h2 {
          font-size: 1.5em;
          font-weight: bold;
          margin: 0.5em 0;
        }
        [contenteditable] h3 {
          font-size: 1.25em;
          font-weight: bold;
          margin: 0.5em 0;
        }
        [contenteditable] p {
          margin: 0.5em 0;
        }
        [contenteditable] ul, [contenteditable] ol {
          margin: 0.5em 0;
          padding-left: 2em;
        }
        [contenteditable] li {
          margin: 0.25em 0;
        }
        [contenteditable] a {
          color: #1B4D2E;
          text-decoration: underline;
        }
        [contenteditable] img {
          max-width: 100%;
          height: auto;
          margin: 1em 0;
          border-radius: 8px;
        }
      `})]})}async function Lx(e,t,r){try{const{data:n,error:s}=await F.storage.from(e).upload(r,t,{cacheControl:"3600",upsert:!1});if(s){if(s.message.includes("already exists")){const a=Date.now(),c=t.name.split(".").pop(),l=t.name.replace(/\.[^/.]+$/,""),u=`${r.split("/").slice(0,-1).join("/")}/${l}-${a}.${c}`,{data:h,error:d}=await F.storage.from(e).upload(u,t,{cacheControl:"3600",upsert:!1});if(d)throw d;const{data:f}=F.storage.from(e).getPublicUrl(u);return f.publicUrl}throw s}const{data:o}=F.storage.from(e).getPublicUrl(r);return o.publicUrl}catch(n){throw console.error("Error uploading image to Supabase Storage:",n),new Error(`Failed to upload image: ${n instanceof Error?n.message:"Unknown error"}`)}}function Dx(){const{projects:e,addProject:t,updateProject:r,deleteProject:n}=dt(),[s,o]=E.useState(!1),[a,c]=E.useState(null),[l,u]=E.useState({}),h=()=>{o(!0),u({title:"",slug:"",keyframeImage:"",shortDescription:"",badge:"",metricValue:"",metricLabel:"",showOnWorkPage:!0,showOnHomepage:!1,order:e.length+1,summary:"",problem:"",objective:"",ourActions:"",results:"",resultMetrics:[],liveWebsiteUrl:""})},d=b=>{c(b.id);const N={...b,summary:b.summary??"",problem:b.problem??"",objective:b.objective??"",ourActions:b.ourActions??"",results:b.results??"",resultMetrics:b.resultMetrics??[],liveWebsiteUrl:b.liveWebsiteUrl??""};console.log("handleEdit - project data:",{summary:b.summary,problem:b.problem,objective:b.objective,ourActions:b.ourActions,results:b.results}),console.log("handleEdit - formData:",{summary:N.summary,problem:N.problem,objective:N.objective,ourActions:N.ourActions,results:N.results}),u(N)},f=()=>{s?l.title&&l.slug&&(t(l),o(!1),u({})):a&&(r(a,l),c(null),u({}))},x=()=>{o(!1),c(null),u({})},v=(b,N)=>{confirm(`Are you sure you want to delete "${N}"?`)&&n(b)},y=(b,N)=>{r(b.id,{[N]:!b[N]})},[w,p]=E.useState(!1),m=async b=>{var S;const N=(S=b.target.files)==null?void 0:S[0];if(N){if(!N.type.startsWith("image/")){alert("Please select an image file");return}if(N.size>5*1024*1024){alert("Image size must be less than 5MB");return}p(!0);try{const T=a||"new",M=Date.now(),B=N.name.split(".").pop(),G=N.name.replace(/\.[^/.]+$/,"").replace(/[^a-z0-9]/gi,"-").toLowerCase(),Ae=`projects/${T}/${M}-${G}.${B}`,Ee=await Lx("site-assets",N,Ae);u({...l,keyframeImage:Ee})}catch(T){console.error("Error uploading image:",T),alert(`Failed to upload image: ${T instanceof Error?T.message:"Unknown error"}`)}finally{p(!1)}}},g=()=>{const b=l.resultMetrics||[];u({...l,resultMetrics:[...b,{value:"",title:"",description:""}]})},_=(b,N,S)=>{const M=(l.resultMetrics||[]).map((B,G)=>G===b?{...B,[N]:S}:B);u({...l,resultMetrics:M})},j=b=>{const S=(l.resultMetrics||[]).filter((T,M)=>M!==b);u({...l,resultMetrics:S})},k=[...e].sort((b,N)=>b.order-N.order);return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-[--color-forest-700]",children:"Projects"}),!s&&!a&&i.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors",children:[i.jsx(rn,{size:20}),"Add Project"]})]}),(s||a)&&i.jsxs("div",{className:"bg-[--color-sage-50] p-6 rounded-lg border border-[--color-sage-200] mb-6 max-h-[80vh] overflow-y-auto",children:[i.jsx("h3",{className:"text-[--color-forest-700] mb-6",children:s?"Add New Project":"Edit Project"}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h4",{className:"text-[--color-forest-600] mb-4 border-b border-[--color-stone-300] pb-[24px] pt-[0px] pr-[0px] pl-[0px]",children:"Basic Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Title*"}),i.jsx("input",{type:"text",value:l.title||"",onChange:b=>u({...l,title:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Project title"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Slug*"}),i.jsx("input",{type:"text",value:l.slug||"",onChange:b=>u({...l,slug:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"project-slug"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Badge"}),i.jsx("input",{type:"text",value:l.badge||"",onChange:b=>u({...l,badge:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Web Design"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Order"}),i.jsx("input",{type:"number",value:l.order||0,onChange:b=>u({...l,order:parseInt(b.target.value)}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Short Description"}),i.jsx("textarea",{value:l.shortDescription||"",onChange:b=>u({...l,shortDescription:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",rows:2,placeholder:"Brief project description for cards"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Live Website URL"}),i.jsx("input",{type:"url",value:l.liveWebsiteUrl||"",onChange:b=>u({...l,liveWebsiteUrl:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"https://example.com"}),i.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:'If provided, a "View Experience Live" button will appear on the project page'})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Card Metric Value"}),i.jsx("input",{type:"text",value:l.metricValue||"",onChange:b=>u({...l,metricValue:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"98%"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Card Metric Label"}),i.jsx("input",{type:"text",value:l.metricLabel||"",onChange:b=>u({...l,metricLabel:b.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Performance"})]}),i.jsxs("div",{className:"md:col-span-2 flex items-center gap-4",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.showOnWorkPage||!1,onChange:b=>u({...l,showOnWorkPage:b.target.checked}),className:"w-4 h-4"}),i.jsx("span",{className:"text-sm text-[--color-stone-700]",children:"Show on Work page"})]}),i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.showOnHomepage||!1,onChange:b=>u({...l,showOnHomepage:b.target.checked}),className:"w-4 h-4"}),i.jsx("span",{className:"text-sm text-[--color-stone-700]",children:"Show on Homepage"})]})]})]})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h4",{className:"text-[--color-forest-600] mb-4 border-b border-[--color-stone-300] pb-2",children:"Hero Image"}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm mb-[16px] text-[--color-stone-700] mt-[0px] mr-[0px] ml-[0px]",children:["Keyframe/Hero Image",i.jsx("span",{className:"text-xs text-[--color-stone-500] ml-2",children:"(Preferred: 1920x1080px, 16:9 ratio)"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-3 items-start mt-[0px] mr-[0px] mb-[24px] ml-[0px]",children:[i.jsxs("label",{className:`flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors cursor-pointer ${w?"opacity-50 cursor-not-allowed":""}`,children:[i.jsx(Vh,{size:18}),w?"Uploading...":"Upload to Supabase",i.jsx("input",{type:"file",accept:"image/*",onChange:m,disabled:w,className:"hidden"})]}),i.jsx("span",{className:"text-[--color-stone-500] py-2",children:"or"}),i.jsx("input",{type:"text",value:l.keyframeImage||"",onChange:b=>u({...l,keyframeImage:b.target.value}),className:"flex-1 px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"https://... or paste image URL"})]}),l.keyframeImage&&i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:l.keyframeImage,alt:"Hero preview",className:"w-full h-48 object-cover rounded-lg"}),i.jsx("button",{type:"button",onClick:()=>u({...l,keyframeImage:""}),className:"absolute top-2 right-2 p-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:i.jsx(sn,{size:18})})]})]})]})]}),i.jsxs("div",{className:"mb-8 space-y-6",children:[i.jsx("h4",{className:"text-[--color-forest-600] mb-4 border-b border-[--color-stone-300] pb-2",children:"Project Content"}),i.jsx(xn,{label:"Summary",value:l.summary||"",onChange:b=>u({...l,summary:b}),placeholder:"Enter project summary..."},`summary-${a||"new"}`),i.jsx(xn,{label:"Problem",value:l.problem||"",onChange:b=>u({...l,problem:b}),placeholder:"Describe the problem or challenge..."},`problem-${a||"new"}`),i.jsx(xn,{label:"Objective",value:l.objective||"",onChange:b=>u({...l,objective:b}),placeholder:"What were the goals and objectives..."},`objective-${a||"new"}`),i.jsx(xn,{label:"Our Actions",value:l.ourActions||"",onChange:b=>u({...l,ourActions:b}),placeholder:"Describe the actions taken and approach..."},`ourActions-${a||"new"}`),i.jsx(xn,{label:"Results",value:l.results||"",onChange:b=>u({...l,results:b}),placeholder:"Describe the outcomes and results..."},`results-${a||"new"}`)]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h4",{className:"text-[--color-forest-600] mb-4 border-b border-[--color-stone-300] pb-2",children:"Result Metrics (for metric cards)"}),i.jsxs("button",{type:"button",onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors mb-4",children:[i.jsx(rn,{size:18}),"Add Metric Card"]}),i.jsx("div",{className:"space-y-4",children:l.resultMetrics&&l.resultMetrics.map((b,N)=>i.jsxs("div",{className:"bg-white p-4 rounded-lg border border-[--color-stone-300]",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("h5",{className:"text-sm text-[--color-stone-700]",children:["Metric Card ",N+1]}),i.jsx("button",{type:"button",onClick:()=>j(N),className:"p-1 text-red-600 hover:bg-red-50 rounded transition-colors",children:i.jsx(nn,{size:16})})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs mb-1 text-[--color-stone-600]",children:"Metric Value"}),i.jsx("input",{type:"text",value:b.value,onChange:S=>_(N,"value",S.target.value),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600] text-sm",placeholder:"e.g., 300%, 50+, $10K"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs mb-1 text-[--color-stone-600]",children:"Metric Title"}),i.jsx("input",{type:"text",value:b.title,onChange:S=>_(N,"title",S.target.value),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600] text-sm",placeholder:"e.g., Traffic Increase"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs mb-1 text-[--color-stone-600]",children:"Metric Description"}),i.jsx("textarea",{value:b.description,onChange:S=>_(N,"description",S.target.value),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600] text-sm",rows:2,placeholder:"Brief description of this metric"})]})]})]},N))})]}),i.jsxs("div",{className:"flex gap-3 pt-4 border-t border-[--color-stone-300]",children:[i.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-6 py-3 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors",children:[i.jsx(Rl,{size:18}),"Save Project"]}),i.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-6 py-3 bg-[--color-stone-200] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-300] transition-colors",children:[i.jsx(sn,{size:18}),"Cancel"]})]})]}),i.jsx("div",{className:"space-y-4",children:k.map(b=>i.jsx("div",{className:"bg-white p-4 rounded-lg border border-[--color-stone-200] hover:border-[--color-sage-300] transition-colors",children:i.jsxs("div",{className:"flex items-start gap-4",children:[b.keyframeImage&&i.jsx("img",{src:b.keyframeImage,alt:b.title,className:"w-24 h-24 object-cover rounded-lg"}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-[--color-forest-700] mb-1",children:b.title}),i.jsxs("p",{className:"text-sm text-[--color-stone-600]",children:["/",b.slug]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>y(b,"showOnWorkPage"),className:`p-2 rounded-lg transition-colors ${b.showOnWorkPage?"bg-[--color-sage-100] text-[--color-forest-700]":"bg-[--color-stone-100] text-[--color-stone-400]"}`,title:"Toggle Work page visibility",children:b.showOnWorkPage?i.jsx(Ol,{size:18}):i.jsx(Bh,{size:18})}),i.jsx("button",{onClick:()=>d(b),className:"p-2 bg-[--color-stone-100] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-200] transition-colors",children:i.jsx(Pl,{size:18})}),i.jsx("button",{onClick:()=>v(b.id,b.title),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:i.jsx(nn,{size:18})})]})]}),i.jsx("p",{className:"text-sm text-[--color-stone-700] mb-2",children:b.shortDescription}),i.jsxs("div",{className:"flex gap-4 text-sm text-[--color-stone-600]",children:[i.jsx("span",{className:"px-2 py-1 bg-[--color-sage-50] rounded",children:b.badge}),b.metricValue&&i.jsxs("span",{children:[b.metricValue," ",b.metricLabel]}),i.jsxs("span",{children:["Order: ",b.order]}),b.showOnHomepage&&i.jsx("span",{className:"text-[--color-forest-700]",children:" Featured on Homepage"})]})]})]})},b.id))}),e.length===0&&i.jsx("div",{className:"text-center py-12 text-[--color-stone-500]",children:'No projects yet. Click "Add Project" to create your first one.'})]})}function zx(){const{testimonials:e,addTestimonial:t,updateTestimonial:r,deleteTestimonial:n}=dt(),[s,o]=E.useState(!1),[a,c]=E.useState(null),[l,u]=E.useState({}),h=p=>{var g;const m=(g=p.target.files)==null?void 0:g[0];if(m){const _=new FileReader;_.onloadend=()=>{u({...l,image:_.result})},_.readAsDataURL(m)}},d=()=>{o(!0),u({name:"",role:"",company:"",quote:"",image:"",showOnHomepage:!1,order:e.length+1})},f=p=>{c(p.id),u(p)},x=()=>{s?l.name&&l.quote&&(t(l),o(!1),u({})):a&&(r(a,l),c(null),u({}))},v=()=>{o(!1),c(null),u({})},y=(p,m)=>{confirm(`Are you sure you want to delete the testimonial from "${m}"?`)&&n(p)},w=[...e].sort((p,m)=>p.order-m.order);return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-[--color-forest-700]",children:"Testimonials"}),!s&&!a&&i.jsxs("button",{onClick:d,className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors",children:[i.jsx(rn,{size:20}),"Add Testimonial"]})]}),(s||a)&&i.jsxs("div",{className:"bg-[--color-sage-50] p-6 rounded-lg border border-[--color-sage-200] mb-6",children:[i.jsx("h3",{className:"text-[--color-forest-700] mb-4",children:s?"Add New Testimonial":"Edit Testimonial"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Name*"}),i.jsx("input",{type:"text",value:l.name||"",onChange:p=>u({...l,name:p.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"John Doe"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Role"}),i.jsx("input",{type:"text",value:l.role||"",onChange:p=>u({...l,role:p.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"CEO"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Company"}),i.jsx("input",{type:"text",value:l.company||"",onChange:p=>u({...l,company:p.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Company Name"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:["Profile Image",i.jsx("span",{className:"text-xs text-[--color-stone-500] ml-2",children:"(Preferred: 400x400px square)"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex gap-3 items-start",children:[i.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors cursor-pointer",children:[i.jsx(Vh,{size:18}),"Upload Image",i.jsx("input",{type:"file",accept:"image/*",onChange:h,className:"hidden"})]}),i.jsx("span",{className:"text-[--color-stone-500] py-2",children:"or"}),i.jsx("input",{type:"text",value:l.image||"",onChange:p=>u({...l,image:p.target.value}),className:"flex-1 px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"https://... or paste image URL"})]}),l.image&&i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-white rounded-lg border border-[--color-stone-200]",children:[i.jsx("img",{src:l.image,alt:"Preview",className:"w-16 h-16 rounded-full object-cover"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-[--color-stone-700]",children:"Image preview"}),i.jsx("p",{className:"text-xs text-[--color-stone-500]",children:"Recommended: Square image, 400x400px"})]}),i.jsx("button",{type:"button",onClick:()=>u({...l,image:""}),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:i.jsx(sn,{size:18})})]})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Testimonial*"}),i.jsx("textarea",{value:l.quote||"",onChange:p=>u({...l,quote:p.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",rows:4,placeholder:"What the client said..."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Order"}),i.jsx("input",{type:"number",value:l.order||0,onChange:p=>u({...l,order:parseInt(p.target.value)}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]"})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"checkbox",checked:l.showOnHomepage||!1,onChange:p=>u({...l,showOnHomepage:p.target.checked}),className:"w-4 h-4"}),i.jsx("span",{className:"text-sm text-[--color-stone-700]",children:"Show on Homepage"})]})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-[#1B4D2E] text-white rounded-lg hover:bg-[#143622] transition-colors",children:[i.jsx(Rl,{size:18}),"Save"]}),i.jsxs("button",{onClick:v,className:"flex items-center gap-2 px-4 py-2 bg-[--color-stone-200] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-300] transition-colors",children:[i.jsx(sn,{size:18}),"Cancel"]})]})]}),i.jsx("div",{className:"space-y-4",children:w.map(p=>i.jsxs("div",{className:"bg-white p-4 rounded-lg border border-[--color-stone-200] hover:border-[--color-sage-300] transition-colors",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[p.image&&i.jsx("img",{src:p.image,alt:p.name,className:"w-12 h-12 rounded-full object-cover"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-[--color-forest-700]",children:p.name}),i.jsxs("p",{className:"text-sm text-[--color-stone-600]",children:[p.role," ",p.company&&`at ${p.company}`]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:()=>f(p),className:"p-2 bg-[--color-stone-100] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-200] transition-colors",children:i.jsx(Pl,{size:18})}),i.jsx("button",{onClick:()=>y(p.id,p.name),className:"p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:i.jsx(nn,{size:18})})]})]}),i.jsxs("p",{className:"text-[--color-stone-700] mb-3 italic",children:['"',p.quote,'"']}),i.jsxs("div",{className:"flex gap-4 text-sm text-[--color-stone-600]",children:[i.jsxs("span",{children:["Order: ",p.order]}),p.showOnHomepage&&i.jsxs("span",{className:"flex items-center gap-1 text-[--color-forest-700]",children:[i.jsx(Fh,{size:14,fill:"currentColor"}),"Featured on Homepage"]})]})]},p.id))}),e.length===0&&i.jsx("div",{className:"text-center py-12 text-[--color-stone-500]",children:'No testimonials yet. Click "Add Testimonial" to create your first one.'})]})}function Mx(){const{metrics:e,addMetric:t,updateMetric:r,deleteMetric:n}=dt(),[s,o]=E.useState(!1),[a,c]=E.useState(null),[l,u]=E.useState({}),h=()=>{o(!0),u({value:"",label:"",order:e.length+1})},d=w=>{c(w.id),u(w)},f=()=>{s?l.value&&l.label&&(t(l),o(!1),u({})):a&&(r(a,l),c(null),u({}))},x=()=>{o(!1),c(null),u({})},v=(w,p)=>{confirm(`Are you sure you want to delete the "${p}" metric?`)&&n(w)},y=[...e].sort((w,p)=>w.order-p.order);return i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-[--color-forest-700]",children:"Metrics"}),!s&&!a&&i.jsxs("button",{onClick:h,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:[i.jsx(rn,{size:20}),"Add Metric"]})]}),(s||a)&&i.jsxs("div",{className:"bg-[--color-sage-50] p-6 rounded-lg border border-[--color-sage-200] mb-6",children:[i.jsx("h3",{className:"text-[--color-forest-700] mb-4",children:s?"Add New Metric":"Edit Metric"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Value*"}),i.jsx("input",{type:"text",value:l.value||"",onChange:w=>u({...l,value:w.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"50+"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Label*"}),i.jsx("input",{type:"text",value:l.label||"",onChange:w=>u({...l,label:w.target.value}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]",placeholder:"Projects Delivered"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm mb-2 text-[--color-stone-700]",children:"Order"}),i.jsx("input",{type:"number",value:l.order||0,onChange:w=>u({...l,order:parseInt(w.target.value)}),className:"w-full px-4 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-600]"})]})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsxs("button",{onClick:f,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:[i.jsx(Rl,{size:18}),"Save"]}),i.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-[--color-stone-200] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-300] transition-colors",children:[i.jsx(sn,{size:18}),"Cancel"]})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:y.map(w=>i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-[--color-stone-200] hover:border-[--color-sage-300] transition-colors",children:[i.jsx("div",{className:"flex items-start justify-between mb-4",children:i.jsxs("div",{className:"text-center flex-1",children:[i.jsx("div",{className:"text-3xl text-[--color-forest-700] mb-1",children:w.value}),i.jsx("div",{className:"text-sm text-[--color-stone-600]",children:w.label})]})}),i.jsxs("div",{className:"flex gap-2 pt-4 border-t border-[--color-stone-200]",children:[i.jsx("button",{onClick:()=>d(w),className:"flex-1 p-2 bg-[--color-stone-100] text-[--color-stone-700] rounded-lg hover:bg-[--color-stone-200] transition-colors text-sm",children:i.jsx(Pl,{size:16,className:"mx-auto"})}),i.jsx("button",{onClick:()=>v(w.id,w.label),className:"flex-1 p-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors text-sm",children:i.jsx(nn,{size:16,className:"mx-auto"})})]}),i.jsxs("div",{className:"text-xs text-center text-[--color-stone-500] mt-2",children:["Order: ",w.order]})]},w.id))}),e.length===0&&i.jsx("div",{className:"text-center py-12 text-[--color-stone-500]",children:'No metrics yet. Click "Add Metric" to create your first one.'})]})}function Ux(){const{leads:e,deleteLead:t}=dt(),[r,n]=E.useState("all"),[s,o]=E.useState(null),a=async u=>{if(confirm("Are you sure you want to delete this lead?")){o(u);try{await t(u)}catch(h){console.error("Error deleting lead:",h),alert("Failed to delete lead. Please try again.")}finally{o(null)}}},c=e.filter(u=>r==="booked"?u.bookedConsult:r==="not_booked"?!u.bookedConsult:!0),l=u=>new Date(u).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-[--color-forest-700] mb-2",children:"Leads"}),i.jsx("p",{className:"text-[--color-stone-600]",children:"View and manage all form submissions from the Get Started modal."})]})}),i.jsxs("div",{className:"flex gap-2",children:[i.jsxs("button",{onClick:()=>n("all"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${r==="all"?"bg-[--color-forest-700] text-white":"bg-white border border-[--color-stone-300] text-[--color-stone-700] hover:bg-[--color-stone-50]"}`,children:["All (",e.length,")"]}),i.jsxs("button",{onClick:()=>n("booked"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${r==="booked"?"bg-[--color-forest-700] text-white":"bg-white border border-[--color-stone-300] text-[--color-stone-700] hover:bg-[--color-stone-50]"}`,children:["Booked (",e.filter(u=>u.bookedConsult).length,")"]}),i.jsxs("button",{onClick:()=>n("not_booked"),className:`px-4 py-2 rounded-lg text-sm transition-colors ${r==="not_booked"?"bg-[--color-forest-700] text-white":"bg-white border border-[--color-stone-300] text-[--color-stone-700] hover:bg-[--color-stone-50]"}`,children:["Not Booked (",e.filter(u=>!u.bookedConsult).length,")"]})]}),c.length===0?i.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-12 text-center",children:i.jsx("p",{className:"text-[--color-stone-600]",children:"No leads found."})}):i.jsx("div",{className:"space-y-4",children:c.map(u=>i.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-6 hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[i.jsxs("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:[u.firstName," ",u.lastName]}),u.bookedConsult?i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[--color-sage-100] text-[--color-forest-700] rounded text-xs font-medium",children:[i.jsx(fr,{size:12}),"Booked"]}):i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[--color-stone-100] text-[--color-stone-600] rounded text-xs font-medium",children:[i.jsx(Tl,{size:12}),"Not Booked"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-3 text-sm text-[--color-stone-600]",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ja,{size:14}),i.jsx("a",{href:`mailto:${u.email}`,className:"hover:text-[--color-forest-700] transition-colors",children:u.email})]}),u.phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(ng,{size:14}),i.jsx("a",{href:`tel:${u.phone}`,className:"hover:text-[--color-forest-700] transition-colors",children:u.phone})]}),u.businessName&&i.jsx("div",{className:"flex items-center gap-2",children:i.jsx("span",{className:"font-medium",children:u.businessName})})]}),i.jsx("div",{className:"mb-3",children:i.jsx("p",{className:"text-sm text-[--color-stone-700] whitespace-pre-wrap",children:u.message})}),i.jsxs("div",{className:"flex items-center gap-4 text-xs text-[--color-stone-500]",children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx(zh,{size:12}),i.jsx("span",{children:l(u.createdAt)})]}),u.calendlyEventUri&&i.jsxs("a",{href:u.calendlyEventUri,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 hover:text-[--color-forest-700] transition-colors",children:[i.jsx(m0,{size:12}),"View Calendly Event"]})]})]}),i.jsx("button",{onClick:()=>a(u.id),disabled:s===u.id,className:"ml-4 p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Delete lead",children:i.jsx(nn,{size:18})})]})},u.id))})]})}function Bx(e=3e4){const[t,r]=E.useState([]),[n,s]=E.useState(!0),[o,a]=E.useState(null),c=E.useCallback(async()=>{try{a(null);const{data:v,error:y}=await F.from("monitored_sites").select("*").order("created_at",{ascending:!1});if(y)throw y;const w=await Promise.all(v.map(async p=>{const{data:m}=await F.from("health_checks").select("id").eq("site_id",p.id).limit(10),g=Ti(p);if(m&&m.length>0){const _=m.map(k=>k.id),{data:j}=await F.from("health_events").select("result").in("check_id",_).order("checked_at",{ascending:!1}).limit(1).maybeSingle();j&&(g.lastCheckResult=j.result)}return g}));r(w)}catch(v){a(v instanceof Error?v:new Error("Failed to fetch sites")),console.error("Error fetching sites:",v)}finally{s(!1)}},[]);return E.useEffect(()=>{if(c(),e>0){const v=setInterval(c,e);return()=>clearInterval(v)}},[c,e]),{sites:t,loading:n,error:o,refetch:c,addSite:async v=>{try{const y=kx(v),{data:w,error:p}=await F.from("monitored_sites").insert([y]).select().single();if(p)throw p;const m=Ti(w);return r(g=>[m,...g]),m}catch(y){throw console.error("Error adding site:",y),y}},updateSite:async(v,y)=>{try{const w={};y.siteId!==void 0&&(w.site_id=y.siteId),y.siteName!==void 0&&(w.site_name=y.siteName),y.primaryDomain!==void 0&&(w.primary_domain=y.primaryDomain),y.environment!==void 0&&(w.environment=y.environment),y.subscriptionTier!==void 0&&(w.subscription_tier=y.subscriptionTier),y.status!==void 0&&(w.status=y.status),y.siteSecret!==void 0&&(w.site_secret=y.siteSecret??null),y.clientEmail!==void 0&&(w.client_email=y.clientEmail??null),y.internalEmail!==void 0&&(w.internal_email=y.internalEmail),y.deploySuppressionMinutes!==void 0&&(w.deploy_suppression_minutes=y.deploySuppressionMinutes),y.trialStartDate!==void 0&&(w.trial_start_date=y.trialStartDate??null),y.trialEndDate!==void 0&&(w.trial_end_date=y.trialEndDate??null),y.cmsTable!==void 0&&(w.cms_table=y.cmsTable??null),y.formsTable!==void 0&&(w.forms_table=y.formsTable??null);const{data:p,error:m}=await F.from("monitored_sites").update(w).eq("id",v).select().single();if(m)throw m;const g=Ti(p);return r(_=>_.map(j=>j.id===v?{...g,lastCheckResult:j.lastCheckResult}:j)),g}catch(w){throw console.error("Error updating site:",w),w}},deleteSite:async v=>{try{const{error:y}=await F.from("monitored_sites").delete().eq("id",v);if(y)throw y;r(w=>w.filter(p=>p.id!==v))}catch(y){throw console.error("Error deleting site:",y),y}},addHealthChecks:async(v,y)=>{try{const w=y.map(g=>({site_id:v,check_type:g.checkType,target:g.target,enabled:g.enabled??!0,interval_minutes:g.intervalMinutes??5})),{data:p,error:m}=await F.from("health_checks").insert(w).select();if(m)throw m;return p.map(hf)}catch(w){throw console.error("Error adding health checks:",w),w}},generateSecret:()=>{const v=new Uint8Array(32);return crypto.getRandomValues(v),btoa(String.fromCharCode(...v)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")},testConnection:async v=>{try{const y=await fetch(`${v}/api/health`,{method:"GET",headers:{Accept:"application/json"}});return y.ok?{ok:!0,status:(await y.json()).status}:{ok:!1,error:`HTTP ${y.status}`}}catch(y){return{ok:!1,error:y instanceof Error?y.message:"Connection failed"}}}}}function Wx(e,t=3e4){const[r,n]=E.useState([]),[s,o]=E.useState([]),[a,c]=E.useState([]),[l,u]=E.useState([]),[h,d]=E.useState(!0),[f,x]=E.useState(null),v=E.useCallback(async()=>{if(!e){d(!1);return}try{x(null);const{data:y,error:w}=await F.from("health_checks").select("*").eq("site_id",e).order("created_at",{ascending:!0});if(w)throw w;const p=y.map(hf);u(p);const m=p.map(b=>b.id);if(m.length>0){const{data:b,error:N}=await F.from("health_events").select("*, health_checks(check_type, target)").in("check_id",m).order("checked_at",{ascending:!1}).limit(50);if(N)throw N;const S=b.map(T=>{var M,B;return{...bx(T),checkType:(M=T.health_checks)==null?void 0:M.check_type,target:(B=T.health_checks)==null?void 0:B.target}});n(S)}else n([]);const{data:g,error:_}=await F.from("incidents").select("*").eq("site_id",e).order("created_at",{ascending:!1}).limit(50);if(_)throw _;o(g.map(_x));const{data:j,error:k}=await F.from("error_logs").select("*").eq("site_id",e).order("received_at",{ascending:!1}).limit(50);if(k)throw k;c(j.map(jx))}catch(y){x(y instanceof Error?y:new Error("Failed to fetch site details")),console.error("Error fetching site details:",y)}finally{d(!1)}},[e]);return E.useEffect(()=>{if(v(),t>0&&e){const y=setInterval(v,t);return()=>clearInterval(y)}},[v,t,e]),{healthEvents:r,incidents:s,errorLogs:a,healthChecks:l,loading:h,error:f,refetch:v}}function Fx(e){switch(e){case"ok":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-green-100 text-green-700 rounded text-xs",children:[i.jsx(fr,{size:10}),"OK"]});case"warn":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-yellow-100 text-yellow-700 rounded text-xs",children:[i.jsx(Hh,{size:10}),"Warn"]});case"fail":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-red-100 text-red-700 rounded text-xs",children:[i.jsx(Tl,{size:10}),"Fail"]})}}function Hx(e){const t={"sev-1":"bg-red-100 text-red-700 border-red-200","sev-2":"bg-orange-100 text-orange-700 border-orange-200","sev-3":"bg-yellow-100 text-yellow-700 border-yellow-200"};return i.jsx("span",{className:`px-2 py-0.5 rounded border text-xs font-medium uppercase ${t[e]}`,children:e})}function Vx(e){const t={open:"bg-red-100 text-red-700",monitoring:"bg-yellow-100 text-yellow-700",resolved:"bg-green-100 text-green-700"};return i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium capitalize ${t[e]}`,children:e})}function ar(e){return new Date(e).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function qx({site:e,onBack:t}){const{healthEvents:r,incidents:n,errorLogs:s,loading:o,refetch:a}=Wx(e.id),[c,l]=E.useState("events"),[u,h]=E.useState(new Set),[d,f]=E.useState(!1),[x,v]=E.useState(null),y=m=>{h(g=>{const _=new Set(g);return _.has(m)?_.delete(m):_.add(m),_})},w=async(m,g)=>{await navigator.clipboard.writeText(m),v(g),setTimeout(()=>v(null),2e3)},p=n.filter(m=>m.status!=="resolved");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:t,className:"p-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",children:i.jsx(_a,{size:20})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h2",{className:"text-2xl font-bold text-[--color-forest-700]",children:e.siteName}),i.jsxs("a",{href:e.primaryDomain,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-[--color-stone-600] hover:text-[--color-forest-700] transition-colors",children:[e.primaryDomain," "]})]}),i.jsx("button",{onClick:()=>a(),className:"flex items-center gap-2 px-3 py-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",title:"Refresh (auto-refreshes every 30s)",children:i.jsx(Wh,{size:16})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2 space-y-4",children:i.jsxs("div",{className:"bg-white rounded-lg border border-[--color-stone-200] overflow-hidden",children:[i.jsxs("div",{className:"flex border-b border-[--color-stone-200]",children:[i.jsxs("button",{onClick:()=>l("events"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${c==="events"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:["Health Events (",r.length,")"]}),i.jsxs("button",{onClick:()=>l("incidents"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${c==="incidents"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:["Incidents (",p.length," open)"]}),i.jsxs("button",{onClick:()=>l("errors"),className:`flex-1 px-4 py-3 text-sm font-medium transition-colors ${c==="errors"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:["Error Logs (",s.length,")"]})]}),i.jsx("div",{className:"p-4",children:o?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(kn,{size:24,className:"animate-spin text-[--color-forest-700]"})}):c==="events"?i.jsx(Kx,{events:r}):c==="incidents"?i.jsx(Gx,{incidents:n}):i.jsx(Jx,{errors:s,expandedErrors:u,toggleErrorExpanded:y})})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-lg border border-[--color-stone-200] p-4 space-y-4",children:[i.jsx("h3",{className:"font-semibold text-[--color-forest-700]",children:"Site Information"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(wo,{size:16,className:"text-[--color-stone-400] mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[--color-stone-500]",children:"Site ID"}),i.jsx("p",{className:"font-mono text-[--color-forest-700]",children:e.siteId})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"w-4 h-4 flex items-center justify-center text-[--color-stone-400] text-xs",children:""}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[--color-stone-500]",children:"Environment"}),i.jsx("p",{className:"capitalize text-[--color-forest-700]",children:e.environment})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ja,{size:16,className:"text-[--color-stone-400] mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[--color-stone-500]",children:"Client Email"}),i.jsx("p",{className:"text-[--color-forest-700]",children:e.clientEmail||""})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(ja,{size:16,className:"text-[--color-stone-400] mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[--color-stone-500]",children:"Internal Email"}),i.jsx("p",{className:"text-[--color-forest-700]",children:e.internalEmail})]})]}),i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(zh,{size:16,className:"text-[--color-stone-400] mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[--color-stone-500]",children:"Created"}),i.jsx("p",{className:"text-[--color-forest-700]",children:ar(e.createdAt)})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-[--color-stone-200] p-4 space-y-4",children:[i.jsx("h3",{className:"font-semibold text-[--color-forest-700]",children:"Subscription"}),i.jsxs("div",{className:"space-y-3 text-sm",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-[--color-stone-500] mb-1",children:"Tier"}),i.jsx("span",{className:`px-3 py-1 rounded text-sm font-medium capitalize ${e.subscriptionTier==="care"?"bg-purple-100 text-purple-700":e.subscriptionTier==="essentials"?"bg-blue-100 text-blue-700":"bg-[--color-stone-100] text-[--color-stone-600]"}`,children:e.subscriptionTier})]}),e.trialStartDate&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(h0,{size:16,className:"text-[--color-stone-400] mt-0.5"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-[--color-stone-500]",children:"Trial Period"}),i.jsxs("p",{className:"text-[--color-forest-700]",children:[ar(e.trialStartDate),"  ",e.trialEndDate?ar(e.trialEndDate):""]})]})]})]})]}),e.siteSecret&&i.jsxs("div",{className:"bg-white rounded-lg border border-[--color-stone-200] p-4 space-y-4",children:[i.jsx("h3",{className:"font-semibold text-[--color-forest-700]",children:"Secrets"}),i.jsxs("div",{className:"text-sm",children:[i.jsx("p",{className:"text-[--color-stone-500] mb-1",children:"DONEWELL_LOG_SECRET"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("code",{className:"flex-1 bg-[--color-stone-100] px-2 py-1 rounded font-mono text-xs truncate",children:d?e.siteSecret:""}),i.jsx("button",{onClick:()=>f(!d),className:"p-1.5 text-[--color-stone-500] hover:bg-[--color-stone-100] rounded transition-colors",title:d?"Hide":"Reveal",children:d?i.jsx(Bh,{size:14}):i.jsx(Ol,{size:14})}),i.jsx("button",{onClick:()=>w(e.siteSecret,"secret"),className:"p-1.5 text-[--color-stone-500] hover:bg-[--color-stone-100] rounded transition-colors",title:"Copy",children:x==="secret"?i.jsx(Gs,{size:14,className:"text-green-600"}):i.jsx(Uh,{size:14})})]})]})]})]})]})]})}function Kx({events:e}){return e.length===0?i.jsx("div",{className:"text-center py-8 text-[--color-stone-500]",children:"No health events recorded yet."}):i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full text-sm",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-[--color-stone-200]",children:[i.jsx("th",{className:"text-left py-2 px-2 font-medium text-[--color-stone-600]",children:"Time"}),i.jsx("th",{className:"text-left py-2 px-2 font-medium text-[--color-stone-600]",children:"Check"}),i.jsx("th",{className:"text-left py-2 px-2 font-medium text-[--color-stone-600]",children:"Result"}),i.jsx("th",{className:"text-right py-2 px-2 font-medium text-[--color-stone-600]",children:"Latency"})]})}),i.jsx("tbody",{children:e.map(t=>i.jsxs("tr",{className:"border-b border-[--color-stone-100] hover:bg-[--color-stone-50]",children:[i.jsx("td",{className:"py-2 px-2 text-[--color-stone-600]",children:ar(t.checkedAt)}),i.jsx("td",{className:"py-2 px-2",children:i.jsx("span",{className:"font-mono text-xs bg-[--color-stone-100] px-1.5 py-0.5 rounded",children:t.checkType||""})}),i.jsx("td",{className:"py-2 px-2",children:Fx(t.result)}),i.jsx("td",{className:"py-2 px-2 text-right text-[--color-stone-600]",children:t.latencyMs?`${t.latencyMs}ms`:""})]},t.id))})]})})}function Gx({incidents:e}){return e.length===0?i.jsx("div",{className:"text-center py-8 text-[--color-stone-500]",children:"No incidents recorded. "}):i.jsx("div",{className:"space-y-3",children:e.map(t=>i.jsx("div",{className:`p-4 rounded-lg border ${t.status==="resolved"?"bg-[--color-stone-50] border-[--color-stone-200]":"bg-red-50 border-red-200"}`,children:i.jsxs("div",{className:"flex items-start justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[Hx(t.severity),Vx(t.status)]}),i.jsx("h4",{className:"font-medium text-[--color-forest-700]",children:t.title}),t.description&&i.jsx("p",{className:"text-sm text-[--color-stone-600] mt-1",children:t.description})]}),i.jsxs("div",{className:"text-right text-xs text-[--color-stone-500]",children:[i.jsxs("p",{children:["Created: ",ar(t.createdAt)]}),t.resolvedAt&&i.jsxs("p",{children:["Resolved: ",ar(t.resolvedAt)]})]})]})},t.id))})}function Jx({errors:e,expandedErrors:t,toggleErrorExpanded:r}){return e.length===0?i.jsx("div",{className:"text-center py-8 text-[--color-stone-500]",children:"No error logs received."}):i.jsx("div",{className:"space-y-2",children:e.map(n=>{const s=t.has(n.id);return i.jsxs("div",{className:"border border-[--color-stone-200] rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>r(n.id),className:"w-full flex items-center gap-3 p-3 text-left hover:bg-[--color-stone-50] transition-colors",children:[s?i.jsx(o0,{size:16,className:"text-[--color-stone-400]"}):i.jsx(Mh,{size:16,className:"text-[--color-stone-400]"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"px-1.5 py-0.5 bg-red-100 text-red-700 rounded text-xs font-mono",children:n.errorType}),i.jsx("span",{className:"text-xs text-[--color-stone-500]",children:ar(n.receivedAt)})]}),i.jsx("p",{className:"text-sm text-[--color-forest-700] truncate mt-1",children:n.message})]})]}),s&&i.jsx("div",{className:"px-3 pb-3 pt-0",children:i.jsxs("div",{className:"bg-[--color-stone-100] rounded p-3 space-y-2 text-xs",children:[n.url&&i.jsxs("div",{children:[i.jsx("span",{className:"text-[--color-stone-500]",children:"URL:"})," ",i.jsx("span",{className:"font-mono",children:n.url})]}),n.stack&&i.jsxs("div",{children:[i.jsx("span",{className:"text-[--color-stone-500]",children:"Stack trace:"}),i.jsx("pre",{className:"mt-1 font-mono text-[--color-stone-700] whitespace-pre-wrap overflow-x-auto",children:n.stack})]}),n.userAgent&&i.jsxs("div",{children:[i.jsx("span",{className:"text-[--color-stone-500]",children:"User Agent:"})," ",i.jsx("span",{className:"font-mono",children:n.userAgent})]})]})})]},n.id)})})}const bu={siteId:"",siteName:"",primaryDomain:"https://",environment:"production",clientEmail:"",internalEmail:"contact@donewellco.com",subscriptionTier:"essentials",trialStartDate:"",trialEndDate:"",cmsTable:"projects",formsTable:"contact_submissions",siteSecret:""};function Qx(e){if(!e)return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-[--color-stone-100] text-[--color-stone-600] rounded text-xs font-medium",children:[i.jsx("span",{className:"w-2 h-2 rounded-full bg-[--color-stone-400]"}),"Unknown"]});switch(e){case"ok":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-green-100 text-green-700 rounded text-xs font-medium",children:[i.jsx(fr,{size:12}),"Healthy"]});case"warn":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-yellow-100 text-yellow-700 rounded text-xs font-medium",children:[i.jsx(Hh,{size:12}),"Warning"]});case"fail":return i.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-red-100 text-red-700 rounded text-xs font-medium",children:[i.jsx(Tl,{size:12}),"Failed"]})}}function Yx(e){const t={none:"bg-[--color-stone-100] text-[--color-stone-600]",essentials:"bg-blue-100 text-blue-700",care:"bg-purple-100 text-purple-700"};return i.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium capitalize ${t[e]}`,children:e})}function Xx(){const{sites:e,loading:t,refetch:r,addSite:n,deleteSite:s,addHealthChecks:o,generateSecret:a,testConnection:c}=Bx(),[l,u]=E.useState("list"),[h,d]=E.useState(null),[f,x]=E.useState("all"),[v,y]=E.useState("all"),[w,p]=E.useState(1),[m,g]=E.useState(bu),[_,j]=E.useState(!1),[k,b]=E.useState(null),[N,S]=E.useState(null),[T,M]=E.useState(!1),[B,G]=E.useState(null),Ae=e.filter(O=>!(f!=="all"&&O.subscriptionTier!==f||v!=="all"&&O.status!==v)),Ee=O=>{d(O),u("detail")},Nt=async O=>{if(confirm(`Are you sure you want to delete ${O.siteName}? This will remove all health checks and events.`)){G(O.id);try{await s(O.id)}catch(D){console.error("Error deleting site:",D),alert("Failed to delete site. Please try again.")}finally{G(null)}}},un=async O=>{M(!0),S(null);const D=await c(O);S({ok:D.ok,message:D.ok?`Connected! Status: ${D.status}`:D.error||"Connection failed"}),M(!1)},P=()=>{g({...bu,siteSecret:a()}),p(1),S(null),u("wizard")},z=async()=>{j(!0);try{const O=await n({siteId:m.siteId,siteName:m.siteName,primaryDomain:m.primaryDomain,environment:m.environment,subscriptionTier:m.subscriptionTier,status:"active",siteSecret:m.siteSecret,clientEmail:m.clientEmail||void 0,internalEmail:m.internalEmail,deploySuppressionMinutes:15,trialStartDate:m.trialStartDate||void 0,trialEndDate:m.trialEndDate||void 0,cmsTable:m.cmsTable||void 0,formsTable:m.formsTable||void 0}),D=[{checkType:"uptime",target:"/"},{checkType:"health_api",target:"/api/health"}];m.cmsTable&&D.push({checkType:"cms",target:"/api/health/cms"}),m.formsTable&&D.push({checkType:"form",target:"/api/health/form-test"}),await o(O.id,D),p(5)}catch(O){console.error("Error creating site:",O),alert("Failed to create site. Please try again.")}finally{j(!1)}},U=async(O,D)=>{await navigator.clipboard.writeText(O),b(D),setTimeout(()=>b(null),2e3)},Y=()=>`SITE_ID=${m.siteId}
SITE_NAME=${m.siteName}
ENVIRONMENT=${m.environment}
DONEWELL_LOG_SECRET=${m.siteSecret}`,ie=O=>`${O.replace(/[^a-zA-Z0-9]/g," ").trim().split(/\s+/).map(vr=>{var zl;return((zl=vr[0])==null?void 0:zl.toLowerCase())||""}).join("")}_prod_001`,gr=O=>{if(!O)return"";const D=new Date(O);return D.setDate(D.getDate()+14),D.toISOString().split("T")[0]};return l==="detail"&&h?i.jsx(qx,{site:h,onBack:()=>{u("list"),d(null)}}):l==="wizard"?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-[--color-forest-700] mb-2",children:w===5?"Site Created!":"Add New Site"}),i.jsx("p",{className:"text-[--color-stone-600]",children:w===5?"Copy the environment variables below to set up the site.":`Step ${w} of 4`})]}),w!==5&&i.jsx("button",{onClick:()=>u("list"),className:"px-4 py-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",children:"Cancel"})]}),w<5&&i.jsx("div",{className:"flex items-center gap-2",children:[1,2,3,4].map(O=>i.jsxs(Ru.Fragment,{children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${O===w?"bg-[--color-forest-700] text-white":O<w?"bg-[--color-sage-100] text-[--color-forest-700]":"bg-[--color-stone-100] text-[--color-stone-500]"}`,children:O<w?i.jsx(Gs,{size:16}):O}),O<4&&i.jsx("div",{className:`flex-1 h-1 rounded ${O<w?"bg-[--color-sage-200]":"bg-[--color-stone-200]"}`})]},O))}),i.jsxs("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-6",children:[w===1&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:"Site Basics"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Site Name *"}),i.jsx("input",{type:"text",value:m.siteName,onChange:O=>{const D=O.target.value;g(Ie=>({...Ie,siteName:D,siteId:Ie.siteId||ie(D)}))},placeholder:"e.g., kevinlaronda.com",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Site ID *"}),i.jsx("input",{type:"text",value:m.siteId,onChange:O=>g(D=>({...D,siteId:O.target.value})),placeholder:"e.g., klr_prod_001",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),i.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Unique identifier for this site (auto-suggested from name)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Primary Domain *"}),i.jsx("input",{type:"url",value:m.primaryDomain,onChange:O=>g(D=>({...D,primaryDomain:O.target.value})),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Environment"}),i.jsxs("select",{value:m.environment,onChange:O=>g(D=>({...D,environment:O.target.value})),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]",children:[i.jsx("option",{value:"production",children:"Production"}),i.jsx("option",{value:"staging",children:"Staging"}),i.jsx("option",{value:"development",children:"Development"})]})]})]}),w===2&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:"Contacts"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Client Email"}),i.jsx("input",{type:"email",value:m.clientEmail,onChange:O=>g(D=>({...D,clientEmail:O.target.value})),placeholder:"client@example.com",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),i.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Monthly reports will be sent here (if subscribed)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Internal Email *"}),i.jsx("input",{type:"email",value:m.internalEmail,onChange:O=>g(D=>({...D,internalEmail:O.target.value})),placeholder:"contact@donewellco.com",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),i.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Incident alerts will be sent here"})]})]}),w===3&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:"Subscription"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Subscription Tier"}),i.jsxs("select",{value:m.subscriptionTier,onChange:O=>g(D=>({...D,subscriptionTier:O.target.value})),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]",children:[i.jsx("option",{value:"none",children:"None (Not Covered)"}),i.jsx("option",{value:"essentials",children:"Essentials"}),i.jsx("option",{value:"care",children:"Care"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Trial Start Date"}),i.jsx("input",{type:"date",value:m.trialStartDate,onChange:O=>{const D=O.target.value;g(Ie=>({...Ie,trialStartDate:D,trialEndDate:gr(D)}))},className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),i.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Leave empty if not on trial"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Trial End Date"}),i.jsx("input",{type:"date",value:m.trialEndDate,onChange:O=>g(D=>({...D,trialEndDate:O.target.value})),className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"}),i.jsx("p",{className:"text-xs text-[--color-stone-500] mt-1",children:"Auto-calculated as 14 days from start"})]})]}),w===4&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-[--color-forest-700]",children:"Health Config"}),i.jsx("p",{className:"text-sm text-[--color-stone-600]",children:"Configure which tables to monitor. Leave empty to skip that check."}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"CMS Table Name"}),i.jsx("input",{type:"text",value:m.cmsTable,onChange:O=>g(D=>({...D,cmsTable:O.target.value})),placeholder:"e.g., projects, testimonials",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-[--color-stone-700] mb-1",children:"Forms Table Name"}),i.jsx("input",{type:"text",value:m.formsTable,onChange:O=>g(D=>({...D,formsTable:O.target.value})),placeholder:"e.g., contact_submissions",className:"w-full px-3 py-2 border border-[--color-stone-300] rounded-lg focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]"})]}),i.jsxs("div",{className:"pt-4 border-t border-[--color-stone-200]",children:[i.jsx("h4",{className:"text-sm font-medium text-[--color-stone-700] mb-2",children:"Health Checks to Create:"}),i.jsxs("ul",{className:"text-sm text-[--color-stone-600] space-y-1",children:[i.jsx("li",{children:" Uptime check (GET /)"}),i.jsx("li",{children:" Health API (GET /api/health)"}),m.cmsTable&&i.jsx("li",{children:" CMS check (GET /api/health/cms)"}),m.formsTable&&i.jsx("li",{children:" Form test (POST /api/health/form-test)"})]})]})]}),w===5&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 p-4 bg-green-50 border border-green-200 rounded-lg",children:[i.jsx(fr,{className:"text-green-600",size:24}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-green-800",children:"Site created successfully!"}),i.jsxs("p",{className:"text-sm text-green-700",children:[m.siteName," is now being monitored."]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-[--color-stone-700] mb-2",children:"Environment Variables for Vercel:"}),i.jsxs("div",{className:"relative",children:[i.jsx("pre",{className:"bg-[--color-stone-100] p-4 rounded-lg text-sm font-mono overflow-x-auto",children:Y()}),i.jsx("button",{onClick:()=>U(Y(),"env"),className:"absolute top-2 right-2 p-2 bg-white rounded border border-[--color-stone-300] hover:bg-[--color-stone-50] transition-colors",title:"Copy to clipboard",children:k==="env"?i.jsx(Gs,{size:16,className:"text-green-600"}):i.jsx(Uh,{size:16})})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm font-medium text-[--color-stone-700] mb-2",children:"Test Connection:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>un(m.primaryDomain),disabled:T,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors disabled:opacity-50",children:[T?i.jsx(kn,{size:16,className:"animate-spin"}):N!=null&&N.ok?i.jsx(Jc,{size:16}):N?i.jsx(Eg,{size:16}):i.jsx(Jc,{size:16}),"Test Connection"]}),N&&i.jsx("span",{className:`text-sm ${N.ok?"text-green-600":"text-red-600"}`,children:N.message})]}),i.jsx("p",{className:"text-xs text-[--color-stone-500] mt-2",children:"Note: Test will fail until you deploy the health adapter to the site."})]})]})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[w>1&&w<5?i.jsxs("button",{onClick:()=>p(O=>O-1),className:"flex items-center gap-2 px-4 py-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",children:[i.jsx(a0,{size:20}),"Back"]}):i.jsx("div",{}),w<4&&i.jsxs("button",{onClick:()=>p(O=>O+1),disabled:w===1&&(!m.siteId||!m.siteName||!m.primaryDomain)||w===2&&!m.internalEmail,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:["Next",i.jsx(Mh,{size:20})]}),w===4&&i.jsx("button",{onClick:z,disabled:_,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors disabled:opacity-50",children:_?i.jsxs(i.Fragment,{children:[i.jsx(kn,{size:16,className:"animate-spin"}),"Creating..."]}):i.jsxs(i.Fragment,{children:["Create Site",i.jsx(fr,{size:16})]})}),w===5&&i.jsxs("button",{onClick:()=>{u("list"),r()},className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:["Done",i.jsx(Gs,{size:16})]})]})]}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-[--color-forest-700] mb-2",children:"Client Subscriptions"}),i.jsx("p",{className:"text-[--color-stone-600]",children:"Manage monitored sites and their health check configurations."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>r(),className:"flex items-center gap-2 px-4 py-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",title:"Refresh (auto-refreshes every 30s)",children:i.jsx(Wh,{size:16})}),i.jsxs("button",{onClick:P,className:"flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:[i.jsx(rn,{size:16}),"Add Site"]})]})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-[--color-stone-600]",children:"Tier:"}),i.jsxs("select",{value:f,onChange:O=>x(O.target.value),className:"px-3 py-1.5 border border-[--color-stone-300] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]",children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"none",children:"None"}),i.jsx("option",{value:"essentials",children:"Essentials"}),i.jsx("option",{value:"care",children:"Care"})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-[--color-stone-600]",children:"Status:"}),i.jsxs("select",{value:v,onChange:O=>y(O.target.value),className:"px-3 py-1.5 border border-[--color-stone-300] rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-[--color-forest-700]",children:[i.jsx("option",{value:"all",children:"All"}),i.jsx("option",{value:"active",children:"Active"}),i.jsx("option",{value:"paused",children:"Paused"}),i.jsx("option",{value:"archived",children:"Archived"})]})]})]}),t?i.jsx("div",{className:"flex items-center justify-center py-12",children:i.jsx(kn,{size:32,className:"animate-spin text-[--color-forest-700]"})}):Ae.length===0?i.jsxs("div",{className:"bg-white border border-[--color-stone-200] rounded-lg p-12 text-center",children:[i.jsx(wo,{size:48,className:"mx-auto mb-4 text-[--color-stone-300]"}),i.jsx("p",{className:"text-[--color-stone-600] mb-4",children:"No sites found."}),i.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 px-4 py-2 bg-[--color-forest-700] text-white rounded-lg hover:bg-[--color-forest-800] transition-colors",children:[i.jsx(rn,{size:16}),"Add Your First Site"]})]}):i.jsx("div",{className:"bg-white border border-[--color-stone-200] rounded-lg overflow-hidden",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{className:"bg-[--color-stone-50] border-b border-[--color-stone-200]",children:i.jsxs("tr",{children:[i.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Site"}),i.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Tier"}),i.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Status"}),i.jsx("th",{className:"text-left px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Health"}),i.jsx("th",{className:"text-right px-4 py-3 text-sm font-medium text-[--color-stone-600]",children:"Actions"})]})}),i.jsx("tbody",{children:Ae.map(O=>i.jsxs("tr",{className:"border-b border-[--color-stone-100] hover:bg-[--color-stone-50] cursor-pointer",onClick:()=>Ee(O),children:[i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-[--color-sage-100] rounded-lg flex items-center justify-center",children:i.jsx(wo,{className:"text-[--color-forest-700]",size:20})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-[--color-forest-700]",children:O.siteName}),i.jsx("p",{className:"text-sm text-[--color-stone-500]",children:O.primaryDomain})]})]})}),i.jsx("td",{className:"px-4 py-4",children:Yx(O.subscriptionTier)}),i.jsx("td",{className:"px-4 py-4",children:i.jsx("span",{className:"capitalize text-sm text-[--color-stone-600]",children:O.status})}),i.jsx("td",{className:"px-4 py-4",children:Qx(O.lastCheckResult)}),i.jsx("td",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-end gap-2",onClick:D=>D.stopPropagation(),children:[i.jsx("button",{onClick:()=>Ee(O),className:"p-2 text-[--color-stone-600] hover:bg-[--color-stone-100] rounded-lg transition-colors",title:"View details",children:i.jsx(Ol,{size:16})}),i.jsx("button",{onClick:()=>Nt(O),disabled:B===O.id,className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors disabled:opacity-50",title:"Delete site",children:B===O.id?i.jsx(kn,{size:16,className:"animate-spin"}):i.jsx(nn,{size:16})})]})})]},O.id))})]})})]})}function Zx(){const{logout:e,projects:t,testimonials:r,metrics:n,leads:s}=dt(),[o,a]=E.useState("projects"),c=async()=>{confirm("Are you sure you want to logout?")&&(await e(),window.history.pushState({},"","/admin"),window.location.reload())},l=[{label:"Total Projects",value:t.length,icon:b0},{label:"Testimonials",value:r.length,icon:eg},{label:"Metrics",value:n.length,icon:r0},{label:"Leads",value:s.length,icon:qh}];return i.jsxs("div",{className:"min-h-screen bg-[--color-stone-50]",children:[i.jsx("header",{className:"bg-white border-b border-[--color-stone-200]",children:i.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"mb-1",children:"DoneWell CMS"}),i.jsx("p",{className:"text-sm text-[--color-stone-600]",children:"Manage your content"})]}),i.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 text-[--color-stone-700] hover:bg-[--color-stone-100] rounded-lg transition-colors",children:[i.jsx(Y0,{size:20}),"Logout"]})]})})}),i.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:l.map(u=>{const h=u.icon;return i.jsx("div",{className:"bg-white p-6 rounded-xl border border-[--color-stone-200]",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-[--color-stone-600] mb-1",children:u.label}),i.jsx("p",{className:"text-3xl text-[--color-forest-700]",children:u.value})]}),i.jsx("div",{className:"w-12 h-12 bg-[--color-sage-100] rounded-lg flex items-center justify-center",children:i.jsx(h,{className:"text-[--color-forest-700]",size:24})})]})},u.label)})}),i.jsxs("div",{className:"bg-white rounded-xl border border-[--color-stone-200] overflow-hidden",children:[i.jsx("div",{className:"border-b border-[--color-stone-200]",children:i.jsxs("div",{className:"flex",children:[i.jsx("button",{onClick:()=>a("projects"),className:`px-6 py-4 text-sm transition-colors ${o==="projects"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:"Projects"}),i.jsx("button",{onClick:()=>a("testimonials"),className:`px-6 py-4 text-sm transition-colors ${o==="testimonials"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:"Testimonials"}),i.jsx("button",{onClick:()=>a("metrics"),className:`px-6 py-4 text-sm transition-colors ${o==="metrics"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:"Metrics"}),i.jsx("button",{onClick:()=>a("leads"),className:`px-6 py-4 text-sm transition-colors ${o==="leads"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:"Leads"}),i.jsxs("button",{onClick:()=>a("subscriptions"),className:`px-6 py-4 text-sm transition-colors flex items-center gap-2 ${o==="subscriptions"?"bg-[--color-sage-50] text-[--color-forest-700] border-b-2 border-[--color-forest-700]":"text-[--color-stone-600] hover:bg-[--color-stone-50]"}`,children:[i.jsx(wo,{size:16}),"Client Subscriptions"]})]})}),i.jsxs("div",{className:"p-6",children:[o==="projects"&&i.jsx(Dx,{}),o==="testimonials"&&i.jsx(zx,{}),o==="metrics"&&i.jsx(Mx,{}),o==="leads"&&i.jsx(Ux,{}),o==="subscriptions"&&i.jsx(Xx,{})]})]})]})]})}function ew(){const[e,t]=E.useState(!1),[r,n]=E.useState("home"),[s,o]=E.useState(""),{isAuthenticated:a}=dt();Ru.useEffect(()=>{const h=window.location.pathname;if(h==="/"||h==="")n("home");else if(h==="/work")n("work");else if(h==="/about")n("about");else if(h==="/admin")n("admin");else if(h.startsWith("/projects/")){n("project");const x=h.split("/projects/")[1];o(x)}const d=()=>{const x=window.location.pathname;if(x==="/"||x==="")n("home");else if(x==="/work")n("work");else if(x==="/about")n("about");else if(x==="/admin")n("admin");else if(x.startsWith("/projects/")){n("project");const v=x.split("/projects/")[1];o(v)}};window.addEventListener("popstate",d);const f=x=>{const y=x.target.closest("a");if(y&&y.href){const w=new URL(y.href);if(w.origin===window.location.origin){x.preventDefault();const p=w.pathname;if(p==="/"||p==="")n("home"),window.history.pushState({},"","/");else if(p==="/work")n("work"),window.history.pushState({},"","/work");else if(p==="/about")n("about"),window.history.pushState({},"","/about");else if(p==="/admin")n("admin"),window.history.pushState({},"","/admin");else if(p.startsWith("/projects/")){n("project");const m=p.split("/projects/")[1];o(m),window.history.pushState({},"",p)}window.scrollTo(0,0)}}};return document.addEventListener("click",f),()=>{window.removeEventListener("popstate",d),document.removeEventListener("click",f)}},[]);const c=()=>{t(!0)},l=()=>{t(!1)},u=()=>{n("admin")};return r==="admin"?a?i.jsx(Zx,{}):i.jsx($x,{onLoginSuccess:u}):r==="work"?i.jsx(Ox,{onGetStartedClick:c,isModalOpen:e,onModalClose:l}):r==="about"?i.jsx(Px,{onGetStartedClick:c,isModalOpen:e,onModalClose:l}):r==="project"?i.jsx(Ix,{projectSlug:s,onGetStartedClick:c,isModalOpen:e,onModalClose:l}):i.jsx(Tx,{onGetStartedClick:c,isModalOpen:e,onModalClose:l})}function tw(){return i.jsx(Cx,{children:i.jsx(ew,{})})}$h(document.getElementById("root")).render(i.jsx(tw,{}));
